const _0x9f089c=_0x40f2;(function(_0x7aaa40,_0xb56b7d){const _0x34b42b=_0x40f2,_0x4ae7e5=_0x7aaa40();while(!![]){try{const _0x5e0b32=-parseInt(_0x34b42b(0x17c))/0x1+-parseInt(_0x34b42b(0x174))/0x2*(parseInt(_0x34b42b(0xb2))/0x3)+-parseInt(_0x34b42b(0x9d))/0x4+parseInt(_0x34b42b(0xb6))/0x5+parseInt(_0x34b42b(0xd6))/0x6+-parseInt(_0x34b42b(0xbd))/0x7*(parseInt(_0x34b42b(0x11d))/0x8)+-parseInt(_0x34b42b(0xcb))/0x9*(-parseInt(_0x34b42b(0xe6))/0xa);if(_0x5e0b32===_0xb56b7d)break;else _0x4ae7e5['push'](_0x4ae7e5['shift']());}catch(_0x15f4e3){_0x4ae7e5['push'](_0x4ae7e5['shift']());}}}(_0xedcc,0x89957));const MENU_LOGO_APPROX_HEIGHT=0x55,MENU_SUBTITLE_TEXT=_0x9f089c(0xe3),MENU_SUBTITLE_FONT=_0x9f089c(0xae),MENU_SUBTITLE_COLOR=_0x9f089c(0x166),MENU_BUTTON_FONT='22px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif',MENU_BUTTON_COLOR='white',MENU_BUTTON_COLOR_HOVER='rgba(0,\x20191,\x20255,\x200.9)',MENU_BUTTON_WIDTH=0x12c,MENU_BUTTON_HEIGHT=0x37,MENU_LOGO_BOTTOM_TO_START_GAP=0x5,MENU_BUTTON_V_GAP=-0xf,MENU_BUTTON_SUBTITLE_V_GAP=-0x0,MENU_SCORE_FONT=_0x9f089c(0xb9),MENU_SCORE_COLOR=_0x9f089c(0xec),MENU_SCORE_LABEL_COLOR=_0x9f089c(0x166),GAME_OVER_FONT=_0x9f089c(0x165),GAME_OVER_COLOR=_0x9f089c(0x118),GAME_OVER_SHADOW=!![],DEMO_TEXT_LINE1_FONT='bold\x2018px\x20\x27Press\x20Start\x202P\x27',DEMO_TEXT_COLOR=_0x9f089c(0x118),DEMO_TEXT_BLINK_ON_MS=0x3e8,DEMO_TEXT_BLINK_OFF_MS=0x3e8,DEMO_TEXT_BLINK_CYCLE_MS=DEMO_TEXT_BLINK_ON_MS+DEMO_TEXT_BLINK_OFF_MS,LOGO_SCALE_FACTOR=0.45,MENU_LOGO_EXTRA_Y_OFFSET=0x0,MENU_GENERAL_Y_OFFSET=0x32,INTRO_TEXT_FONT=_0x9f089c(0x165),INTRO_TEXT_COLOR_NORMAL=_0x9f089c(0x118),INTRO_TEXT_COLOR_DARK_YELLOW='yellow',INTRO_TEXT_COLOR_CS_TEXT=INTRO_TEXT_COLOR_NORMAL,PERFECT_TEXT_COLOR=_0x9f089c(0x166),EXTRA_LIFE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,READY_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_BONUS_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_DARK_YELLOW,CS_CLEAR_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_HITS_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_CLEAR_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_FONT=INTRO_TEXT_FONT,PAUSE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_SHADOW=!![],RESULTS_SCREEN_DURATION=0x4e20,PLAYER_GAME_OVER_MESSAGE_DURATION=0x1388,SCORE_SCREEN_TEXT_FONT=INTRO_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP=INTRO_TEXT_COLOR_NORMAL,SCORE_SCREEN_TEXT_COLOR_BONUS=INTRO_TEXT_COLOR_DARK_YELLOW,SCORE_SCREEN_LINE_V_SPACING=0x28,SCORE_SCREEN_ICON_TEXT_H_SPACING=0xf,SCORE_SCREEN_VERTICAL_OFFSET=0x4b,RESULTS_HEADER_COLOR=_0x9f089c(0x166),RESULTS_VALUE_COLOR_YELLOW=INTRO_TEXT_COLOR_DARK_YELLOW,RESULTS_LABEL_COLOR=_0x9f089c(0xec),RESULTS_VALUE_COLOR_CYAN=INTRO_TEXT_COLOR_NORMAL,RESULTS_LINE_V_SPACING_SINGLE=0x23,RESULTS_LINE_V_SPACING_DOUBLE=0x5a,RESULTS_START_Y=0xaf,RESULTS_FOOTER_FONT=MENU_SUBTITLE_FONT,RESULTS_FOOTER_COLOR=RESULTS_HEADER_COLOR,CS_MESSAGE_VERTICAL_OFFSET=0x1e;function getSubtitleApproxHeight(_0x484a97){const _0xd6ec9b=_0x9f089c,_0x44144d=_0x484a97[_0xd6ec9b(0xda)](/(\d+)px/);return _0x44144d?.[0x1]?parseInt(_0x44144d[0x1],0xa):0x19;}function formatMillisecondsToMMSS(_0x2b54ae){const _0xf45d64=_0x9f089c;if(_0x2b54ae<=0x0||typeof _0x2b54ae!==_0xf45d64(0x103)||!isFinite(_0x2b54ae))return'00:00';const _0x191009=Math[_0xf45d64(0xf2)](_0x2b54ae/0x3e8),_0x26b73e=Math[_0xf45d64(0xf2)](_0x191009/0x3c),_0x425e85=_0x191009%0x3c,_0x1535e4=String(_0x26b73e)[_0xf45d64(0x14b)](0x2,'0'),_0x766fe7=String(_0x425e85)['padStart'](0x2,'0');return _0x1535e4+':'+_0x766fe7;}let isTransitioningToDemoViaScoreScreen=![];function _0xedcc(){const _0x3d0616=['error','shadowOffsetX','white','restore','fillText','PERFECT\x20!','grey','toUpperCase','floor','initializeDOMElements\x20function\x20not\x20found!','cursor','FATAL\x20RENDER\x20ERROR.','rgba(255,\x20200,\x2080,\x20','has','-\x20RESULTS\x20-','addEventListener','Error\x20in\x20renderGame:','velocityY','map','keyup','touch','capturedShipY','center','GAME\x20EXIT','pointer','number','loadHighScore','AI\x20P2','BONUS\x20','1P_VS_AI_NORMAL','globalCompositeOperation','triggerFinalGameOverSequence','forEach','purple','left','30px\x20Arial','PLAYERS\x20READY!','middle','CO-OP\x20GAME','defineChallengingStagePaths\x20not\x20found!','Error\x20in\x20baseStartGame:','<div\x20style=\x22color:white;\x20padding:\x2020px;\x20font-family:\x20sans-serif;\x22><h1>Fatal\x20Initialization\x20Error</h1><p>The\x20game\x20could\x20not\x20be\x20started.\x20Please\x20check\x20the\x20browser\x20console\x20(F12)\x20for\x20details.</p><p>Error:\x20','yellow','saveHighScore','top','entranceSound','rgba(0,\x20191,\x20255,\x200.9)','Error\x20rendering\x20explosions:','attacking','resume','PLAYER\x20','504frktkr','warn','capturedShipX','lineTo','2025\x20\x20\x20Platini2000(c)\x20\x20\x20LTD','startMainLoop','source-atop','getGamepads','closePath','complete','blue','DEMO\x20PLAYERS\x20READY!','click','innerHTML','NUMBER\x20OF\x20HITS\x20','naturalWidth','SPECIAL\x20BONUS\x2010000\x20PTS','save','globalAlpha','buttons','DEMO-1','translate','rotation','FATAL:\x20window.runSingleGameUpdate\x20is\x20not\x20defined!','AI\x20PLAYER\x202','Cannot\x20start\x20game\x20-\x20canvas\x20not\x20ready.','then','gamepadconnected','defineNormalWaveEntrancePaths','\x20PTS','PUSH\x20START\x20BUTTON','type','GAME\x20Vs\x20AI','EXTRA\x20LIFE','velocityX','!!!\x20CRITICAL\x20ERROR\x20IN\x20mainLoop:','size','EASY','coop','DEMO','random','getBoundingClientRect','stack','normal','DEMO-2','cos','padStart','loadHighScore\x20function\x20not\x20found.','menuMusicSound','2UP','Error\x20in\x20showMenuState:','shadowBlur','STAGE\x20CLEARED','targetX','HIGH\x20SCORE','clearRect','height','<p\x20style=\x22color:white;\x22>CRITICAL\x20LOOP\x20ERROR.\x20Please\x20refresh.</p>','function','touches','sin','rotate','NUMBER\x20OF\x20HITS','toFixed','rapid','fill','rgba(0,\x200,\x20139,\x200.5)','sqrt','\x202ND\x20LIFE\x20BONUS\x20FOR\x20','lighter','drawImage','keydown','bold\x2018px\x20\x27Press\x20Start\x202P\x27','red','NORMAL\x20GAME','defineChallengingStagePaths','Error\x20stopping\x20auto\x20demo\x20timer:','Platini2000(c)\x20LTD','arc','resize','NORMAL','width','window.close()\x20failed:','DOM\x20element\x20initialization\x20failed.','max','color','Cannot\x20add\x20canvas\x20listeners:\x20gameCanvas\x20not\x20found\x20during\x20init.','20mTAioZ','radius','end','defineNormalWaveEntrancePaths\x20not\x20found!','default','PLAYER\x201','round','captureAnimationRotation','624793gjWLyz','right','Critical\x20error:\x20Game\x20logic\x20(window.resetGame)\x20not\x20loaded\x20correctly!','beginPath','clientY','1P_VS_AI_COOP','single','shadowOffsetY','AudioContext\x20resumed\x20by\x20canvas\x20click.','546368iULGjc','clientX','now','showing_capture_message','log','slice','changedTouches','val','capturedShipDimensions','move','tintProgress','createLinearGradient','hasOwnProperty','source-over','toString','textAlign','green','18px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif','hasCapturedShip','<p\x20style=\x22color:white;\x22>Error\x20returning\x20to\x20menu.\x20Please\x20refresh.</p>','isArray','142083nFYNrJ','add','naturalHeight','Error\x20returning\x20to\x20menu.\x20Please\x20refresh\x20the\x20page.','2735795xyYhWZ','</p></div>','textBaseline','20px\x20\x27Press\x20Start\x202P\x27','HIT-MISS-RATIO','axes','suspended','29533EqZOqv','startsWith','PAUSED','none','abs','fillRect','following_entrance_path','Error\x20creating\x20explosion:','FIGHTER\x20CAPTURED','SHOTS\x20FIRED','Error\x20rendering\x20floatingScores:','pressed','style','min','65538sOfhQk','CLASSIC_1P','fillStyle','shadowColor','WINS','Error\x20starting\x20auto\x20demo\x20timer:','moveTo','addColorStop','alpha','STAGE','\x20EXT\x20LIFE\x20FOR\x20EVERY\x20','5345544FmUJrp','state','object','length','match','particles','CHALLENGING\x20STAGE','GAME\x20OVER','PLAYER\x202','1UP','resetGame','body','push','Written\x20By\x20Platini2000(c)','start','runSingleGameUpdate','860idQAts','READY?','font','undefined'];_0xedcc=function(){return _0x3d0616;};return _0xedcc();}function getMenuButtonRect(_0x586062){const _0x26aa97=_0x9f089c;if(!gameCtx||!gameCanvas||gameCanvas[_0x26aa97(0x16e)]===0x0||gameCanvas[_0x26aa97(0x155)]===0x0)return null;const _0x3b5052=gameCanvas['width'],_0x5d46fc=gameCanvas[_0x26aa97(0x155)],_0x1f787d=_0x3b5052/0x2-MENU_BUTTON_WIDTH/0x2-0x1;let _0x58e0f3=MENU_LOGO_APPROX_HEIGHT;typeof logoImage!=='undefined'&&logoImage[_0x26aa97(0x126)]&&logoImage[_0x26aa97(0xb4)]!==0x0&&(_0x58e0f3=logoImage[_0x26aa97(0xb4)]*LOGO_SCALE_FACTOR);const _0x4e9e3a=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0x46a53e=0x2,_0x1c910e=_0x58e0f3+MENU_LOGO_BOTTOM_TO_START_GAP+_0x46a53e*MENU_BUTTON_HEIGHT+(_0x46a53e-0x1)*MENU_BUTTON_V_GAP+MENU_BUTTON_SUBTITLE_V_GAP+_0x4e9e3a;let _0x4c1ef3=(_0x5d46fc-_0x1c910e)/0x2-0x46;_0x4c1ef3+=MENU_GENERAL_Y_OFFSET;const _0xa7eff=_0x4c1ef3+_0x58e0f3+MENU_LOGO_BOTTOM_TO_START_GAP,_0x1f30d8=_0xa7eff+_0x586062*(MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP);if(_0x586062===0x0||_0x586062===0x1)return{'x':_0x1f787d,'y':Math['round'](_0x1f30d8),'width':MENU_BUTTON_WIDTH,'height':MENU_BUTTON_HEIGHT};return null;}function pollControllerForMenu(){const _0x33ffec=_0x9f089c;try{audioContext&&audioContext[_0x33ffec(0xd7)]===_0x33ffec(0xbc)&&(connectedGamepadIndex!==null||connectedGamepadIndexP2!==null)&&audioContext[_0x33ffec(0x11b)]()[_0x33ffec(0x137)](()=>{audioContextInitialized=!![],console['log']('AudioContext\x20resumed\x20by\x20controller\x20interaction.');});if(connectedGamepadIndex===null&&connectedGamepadIndexP2===null){joystickMovedVerticallyLastFrame=![];if(previousButtonStates['length']>0x0)previousButtonStates=[];if(previousGameButtonStates[_0x33ffec(0xd9)]>0x0)previousGameButtonStates=[];if(previousGameButtonStatesP2[_0x33ffec(0xd9)]>0x0)previousGameButtonStatesP2=[];return;}let _0xe83057=connectedGamepadIndex!==null?connectedGamepadIndex:connectedGamepadIndexP2;if(_0xe83057===null)return;const _0x5bcf82=navigator[_0x33ffec(0x124)]();if(!_0x5bcf82?.[_0xe83057])return;const _0x591c1a=_0x5bcf82[_0xe83057],_0x2b5eec=_0x591c1a['buttons'][_0x33ffec(0xfc)](_0x20131d=>_0x20131d[_0x33ffec(0xc8)]),_0x58f94b=_0x2b5eec,_0x18ec90=_0x2b5eec;let _0x341587=![];const _0x3afb7c=Date[_0x33ffec(0x9f)]();let _0x774ba0=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x774ba0=!![]);if(_0x774ba0){connectedGamepadIndex!==null&&(previousButtonStates=_0x58f94b[_0x33ffec(0xa2)](),previousGameButtonStates=_0x18ec90[_0x33ffec(0xa2)]());if(connectedGamepadIndexP2!==null){const _0x23a18b=navigator[_0x33ffec(0x124)]();_0x23a18b?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0x23a18b[connectedGamepadIndexP2]['buttons'][_0x33ffec(0xfc)](_0x4b549e=>_0x4b549e[_0x33ffec(0xc8)]));}return;}if(isInGameState&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){const _0xe41132=_0x18ec90[PS5_BUTTON_TRIANGLE],_0x2d313b=previousGameButtonStates[PS5_BUTTON_TRIANGLE]??![];if(_0xe41132&&!_0x2d313b){if(typeof stopGameAndShowMenu===_0x33ffec(0x157))stopGameAndShowMenu();_0x341587=!![];}if(!_0x341587){const _0x398842=_0x18ec90[PS5_BUTTON_R1],_0x5b1e18=previousGameButtonStates[PS5_BUTTON_R1]??![];if(_0x398842&&!_0x5b1e18){if(typeof togglePause===_0x33ffec(0x157))togglePause();_0x341587=!![];}}}if(!_0x341587){const _0x2165bc=isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen;if(_0x2165bc){let _0x203bf2=![];for(let _0x4cbac5=0x0;_0x4cbac5<_0x58f94b[_0x33ffec(0xd9)];_0x4cbac5++){if(_0x4cbac5===PS5_BUTTON_R1||_0x4cbac5===PS5_BUTTON_TRIANGLE)continue;const _0x52bff9=previousButtonStates[_0x4cbac5]??![];if(_0x58f94b[_0x4cbac5]&&!_0x52bff9){_0x203bf2=!![];break;}}if(_0x203bf2){if(typeof showMenuState===_0x33ffec(0x157))showMenuState();_0x341587=!![];}}else{if(!isInGameState&&!_0x341587){const _0x199f19=_0x58f94b[PS5_BUTTON_CROSS],_0x1962ad=previousButtonStates[PS5_BUTTON_CROSS]??![],_0x54323a=_0x58f94b[PS5_BUTTON_CIRCLE],_0x1c14fc=previousButtonStates[PS5_BUTTON_CIRCLE]??![],_0x361337=_0x591c1a[_0x33ffec(0xbb)][PS5_LEFT_STICK_Y]??0x0,_0x559396=_0x58f94b[PS5_DPAD_UP],_0x2f5c10=_0x58f94b[PS5_DPAD_DOWN];let _0x4bba96=0x0;if(_0x361337<-AXIS_DEAD_ZONE_MENU||_0x559396)_0x4bba96=-0x1;else{if(_0x361337>AXIS_DEAD_ZONE_MENU||_0x2f5c10)_0x4bba96=0x1;}let _0x371968=_0x4bba96!==0x0;if(_0x371968&&!joystickMovedVerticallyLastFrame){let _0xc334b2=selectedButtonIndex;const _0x4f7ade=0x2;_0xc334b2===-0x1?_0xc334b2=_0x4bba96===0x1?0x0:_0x4f7ade-0x1:_0xc334b2+=_0x4bba96;if(_0xc334b2<0x0)_0xc334b2=_0x4f7ade-0x1;if(_0xc334b2>=_0x4f7ade)_0xc334b2=0x0;_0xc334b2!==selectedButtonIndex&&(selectedButtonIndex=_0xc334b2,startAutoDemoTimer());}joystickMovedVerticallyLastFrame=_0x371968;if(_0x199f19&&!_0x1962ad){stopAutoDemoTimer();if(isPlayerSelectMode)selectedButtonIndex===0x0?(isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x0):(isPlayerSelectMode=![],isGameModeSelectMode=!![],isTwoPlayerMode=!![],selectedButtonIndex=0x0);else{if(isOnePlayerGameTypeSelectMode)selectedButtonIndex===0x0?(isOnePlayerGameTypeSelectMode=![],isFiringModeSelectMode=!![],selectedOnePlayerGameVariant=_0x33ffec(0xcc),isTwoPlayerMode=![],isPlayerTwoAI=![],selectedButtonIndex=0x0):(isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=0x0);else{if(isOnePlayerVsAIGameTypeSelectMode)selectedButtonIndex===0x0?(selectedOnePlayerGameVariant=_0x33ffec(0x107),selectedGameMode=_0x33ffec(0x148)):(selectedOnePlayerGameVariant=_0x33ffec(0x181),selectedGameMode=_0x33ffec(0x143)),isOnePlayerVsAIGameTypeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)selectedButtonIndex===0x0?selectedGameMode='normal':selectedGameMode='coop',isGameModeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=![],selectedButtonIndex=0x0;else{if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x33ffec(0x15d):selectedFiringMode='single',baseStartGame(!![]);else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],selectedButtonIndex=0x0;else selectedButtonIndex===0x1&&exitGame();}}}}}_0x341587=!![],startAutoDemoTimer();}if(!_0x341587&&_0x54323a&&!_0x1c14fc){stopAutoDemoTimer();if(isFiringModeSelectMode){isFiringModeSelectMode=![];if(selectedOnePlayerGameVariant==='CLASSIC_1P')isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x0;else{if(selectedOnePlayerGameVariant===_0x33ffec(0x107)||selectedOnePlayerGameVariant==='1P_VS_AI_COOP')isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=selectedOnePlayerGameVariant===_0x33ffec(0x181)?0x1:0x0;else isTwoPlayerMode&&!isPlayerTwoAI?(isGameModeSelectMode=!![],selectedButtonIndex=selectedGameMode===_0x33ffec(0x143)?0x1:0x0):(isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],isGameModeSelectMode=![],selectedButtonIndex=0x0);}selectedOnePlayerGameVariant='',isPlayerTwoAI=![];}else{if(isOnePlayerVsAIGameTypeSelectMode)isOnePlayerVsAIGameTypeSelectMode=![],isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x1;else{if(isOnePlayerGameTypeSelectMode)isOnePlayerGameTypeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)isGameModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x1;else isPlayerSelectMode?(isPlayerSelectMode=![],selectedButtonIndex=0x0):triggerFullscreen();}}}_0x341587=!![],startAutoDemoTimer();}}}}connectedGamepadIndex!==null&&(previousButtonStates=_0x58f94b[_0x33ffec(0xa2)](),previousGameButtonStates=_0x18ec90[_0x33ffec(0xa2)]());if(connectedGamepadIndexP2!==null){const _0x3900b0=navigator[_0x33ffec(0x124)]();_0x3900b0?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0x3900b0[connectedGamepadIndexP2]['buttons'][_0x33ffec(0xfc)](_0x100af4=>_0x100af4['pressed']));}}catch(_0x182dc4){console[_0x33ffec(0xea)]('Error\x20in\x20pollControllerForMenu:',_0x182dc4),previousButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![];}}function initiateScoreScreenThenDemo(){!isInGameState&&!isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen?(isTransitioningToDemoViaScoreScreen=!![],showScoreScreen(),autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null),autoStartTimerId=setTimeout(()=>{if(isShowingScoreScreen){isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],demoModeCounter++;if(demoModeCounter%0x2===0x1){if(typeof startCoopAIDemo==='function')startCoopAIDemo();else startAIDemo();}else startAIDemo();}isTransitioningToDemoViaScoreScreen=![];},SCORE_SCREEN_DURATION)):(autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null),isTransitioningToDemoViaScoreScreen=![]);}function startAutoDemoTimer(){const _0x524d37=_0x9f089c;try{stopAutoDemoTimer(),isTransitioningToDemoViaScoreScreen=![],autoStartTimerId=setTimeout(()=>{initiateScoreScreenThenDemo();},MENU_INACTIVITY_TIMEOUT);}catch(_0x2ed237){console[_0x524d37(0xea)](_0x524d37(0xd0),_0x2ed237),isTransitioningToDemoViaScoreScreen=![];}}function stopAutoDemoTimer(){const _0xe57fd5=_0x9f089c;try{autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null),isTransitioningToDemoViaScoreScreen=![];}catch(_0x26093d){console[_0xe57fd5(0xea)](_0xe57fd5(0x169),_0x26093d);}}function _0x40f2(_0x45821b,_0xcd445c){const _0xedcc5=_0xedcc();return _0x40f2=function(_0x40f2e2,_0x3fc4ee){_0x40f2e2=_0x40f2e2-0x9c;let _0x562a4d=_0xedcc5[_0x40f2e2];return _0x562a4d;},_0x40f2(_0x45821b,_0xcd445c);}function showMenuState(){const _0x2a35b6=_0x9f089c;try{wasLastGameAIDemo&&(highScore=0x4e20);wasLastGameAIDemo=![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,initialGameStartSoundPlayedThisSession=![],coopStartSoundPlayedThisSession=![],gameJustStartedAndWaveLaunched=![],isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,isManualControl=![],isShowingDemoText=![],isPaused=![],isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],isGameModeSelectMode=![],isFiringModeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],selectedFiringMode=_0x2a35b6(0x15d),selectedGameMode=_0x2a35b6(0x148),isTwoPlayerMode=![],currentPlayer=0x1,showCsHitsMessage=![],csHitsMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showReadyMessage=![],readyMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],isShowingCoopPlayersReady=![],coopPlayersReadyStartTime=0x0,isTransitioningToDemoViaScoreScreen=![],stopAllGameSoundsInternal(),isGridSoundPlaying=![],playerLives=0x3,score=0x0,level=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,scoreEarnedThisCS=0x0,enemies=[],bullets=[],enemyBullets=[],explosions=[],isShowingIntro=![],introStep=0x0,isChallengingStage=![],challengingStageEnemiesHit=0x0,currentGridOffsetX=0x0,gridMoveDirection=0x1,currentWaveDefinition=null,isEntrancePhaseActive=![],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0;typeof enemySpawnTimeouts!==_0x2a35b6(0xe9)&&Array[_0x2a35b6(0xb1)](enemySpawnTimeouts)&&enemySpawnTimeouts[_0x2a35b6(0x10a)](clearTimeout);enemySpawnTimeouts=[],lastEnemyDetachTime=0x0,selectedButtonIndex=0x0,joystickMovedVerticallyLastFrame=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,forceCenterShipNextReset=![],player1CompletedLevel=-0x1,p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];if(ship&&typeof ship===_0x2a35b6(0xd8)&&ship[_0x2a35b6(0xa9)]('x')&&gameCanvas&&gameCanvas[_0x2a35b6(0x16e)]>0x0&&gameCanvas[_0x2a35b6(0x155)]>0x0)ship['x']=Math[_0x2a35b6(0x17a)](gameCanvas[_0x2a35b6(0x16e)]/0x2-SHIP_WIDTH/0x2),ship[_0x2a35b6(0x152)]=ship['x'],ship['y']=gameCanvas[_0x2a35b6(0x155)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN;else{if(ship!==null){}}clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0),playSound(_0x2a35b6(0x14d),!![],0.2),startAutoDemoTimer();}catch(_0x2b51d4){console['error'](_0x2a35b6(0x14f),_0x2b51d4),gameJustStartedAndWaveLaunched=![],wasLastGameAIDemo=![],initialGameStartSoundPlayedThisSession=![],isInGameState=![],isShowingScoreScreen=![],isPaused=![],isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],isGameModeSelectMode=![],isFiringModeSelectMode=![],selectedGameMode='normal',selectedOnePlayerGameVariant='',isPlayerTwoAI=![],isTwoPlayerMode=![],currentPlayer=0x1,isShowingPlayerGameOverMessage=![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,coopStartSoundPlayedThisSession=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],isShowingCoopPlayersReady=![],coopPlayersReadyStartTime=0x0,isTransitioningToDemoViaScoreScreen=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,alert(_0x2a35b6(0xb5)),document['body']['innerHTML']=_0x2a35b6(0xb0);}}function startAIDemo(){const _0x2159a3=_0x9f089c;if(isInGameState)return;stopSound(_0x2159a3(0x14d)),isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],selectedFiringMode=_0x2159a3(0x15d),isTwoPlayerMode=![],selectedGameMode='normal',isManualControl=![],isShowingDemoText=!![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,wasLastGameAIDemo=!![],coopStartSoundPlayedThisSession=![],baseStartGame(![]),gameJustStarted=!![];}function startCoopAIDemo(){const _0x5cb5e7=_0x9f089c;if(isInGameState)return;stopSound(_0x5cb5e7(0x14d)),isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],selectedFiringMode=_0x5cb5e7(0x15d),isTwoPlayerMode=!![],selectedGameMode='coop',isManualControl=![],isShowingDemoText=!![],isCoopAIDemoActive=!![],aiPlayerActivelySeekingCaptureById=null,wasLastGameAIDemo=!![],baseStartGame(![]),gameJustStarted=!![];}function startGame1P(){const _0x3912f7=_0x9f089c;if(isInGameState)return;isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=!![],isGameModeSelectMode=![],isFiringModeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],isTwoPlayerMode=![],selectedGameMode=_0x3912f7(0x148),isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,selectedButtonIndex=0x0,coopStartSoundPlayedThisSession=![],startAutoDemoTimer();}function startGame2P(){const _0x5d7a5c=_0x9f089c;if(isInGameState)return;isPlayerSelectMode=![],isGameModeSelectMode=!![],isFiringModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],isTwoPlayerMode=!![],selectedGameMode=_0x5d7a5c(0x148),isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,selectedButtonIndex=0x0,coopStartSoundPlayedThisSession=![],startAutoDemoTimer();}function baseStartGame(_0x2febd0){const _0x198dca=_0x9f089c;try{if(!gameCanvas||!gameCtx){console[_0x198dca(0xea)](_0x198dca(0x136)),showMenuState();return;}_0x2febd0&&stopSound(_0x198dca(0x14d));stopAutoDemoTimer(),isInGameState=!![],isShowingScoreScreen=![],isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],isGameModeSelectMode=![],isFiringModeSelectMode=![],gameJustStartedAndWaveLaunched=![],isTransitioningToDemoViaScoreScreen=![],isManualControl=_0x2febd0,isShowingDemoText=!_0x2febd0,isPaused=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];_0x2febd0?(wasLastGameAIDemo=![],selectedOnePlayerGameVariant===_0x198dca(0x181)?isCoopAIDemoActive=![]:isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null):(isPlayerTwoAI=![],selectedOnePlayerGameVariant='');clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(typeof window['resetGame']===_0x198dca(0x157))window[_0x198dca(0xe0)]();else{console[_0x198dca(0xea)]('FATAL:\x20window.resetGame\x20function\x20is\x20not\x20defined\x20or\x20not\x20a\x20function!\x20Cannot\x20start\x20game\x20properly.'),alert(_0x198dca(0x17e)),showMenuState();return;}isShowingCoopPlayersReady=![];const _0x356824=level===0x1&&!initialGameStartSoundPlayedThisSession;let _0x2945b1=![];if(isManualControl){if(selectedOnePlayerGameVariant===_0x198dca(0xcc)){if(_0x356824)_0x2945b1=!![];}else{if(selectedOnePlayerGameVariant===_0x198dca(0x107)||selectedOnePlayerGameVariant===_0x198dca(0x181)){if(_0x356824)_0x2945b1=!![];selectedOnePlayerGameVariant===_0x198dca(0x181)&&(isShowingCoopPlayersReady=!![],coopPlayersReadyStartTime=Date['now']());}else{if(isTwoPlayerMode&&!isPlayerTwoAI&&selectedGameMode===_0x198dca(0x148)){if(_0x356824)_0x2945b1=!![];}else{if(isTwoPlayerMode&&!isPlayerTwoAI&&selectedGameMode===_0x198dca(0x143)){if(_0x356824&&!coopStartSoundPlayedThisSession)_0x2945b1=!![];isShowingCoopPlayersReady=!![],coopPlayersReadyStartTime=Date[_0x198dca(0x9f)]();}}}}}else{if(_0x356824)_0x2945b1=!![];isCoopAIDemoActive&&(isShowingCoopPlayersReady=!![],coopPlayersReadyStartTime=Date[_0x198dca(0x9f)]());}_0x2945b1&&(playSound('startSound',![],0.4),initialGameStartSoundPlayedThisSession=!![],(selectedGameMode===_0x198dca(0x143)||isCoopAIDemoActive||selectedOnePlayerGameVariant==='1P_VS_AI_COOP')&&(coopStartSoundPlayedThisSession=!![]));gameStartTime=Date[_0x198dca(0x9f)](),leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![],p2RightPressed=![],p2ShootPressed=![],keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],selectedButtonIndex=-0x1;if(mainLoopId===null){if(typeof window['startMainLoop']==='function')window[_0x198dca(0x122)]();else startMainLoop();}}catch(_0x4e27a4){console[_0x198dca(0xea)](_0x198dca(0x112),_0x4e27a4),gameJustStartedAndWaveLaunched=![],wasLastGameAIDemo=![],initialGameStartSoundPlayedThisSession=![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,isPlayerTwoAI=![],coopStartSoundPlayedThisSession=![],isShowingCoopPlayersReady=![],coopPlayersReadyStartTime=0x0,isTransitioningToDemoViaScoreScreen=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null,alert('Critical\x20error\x20starting\x20game!'),showMenuState();}}function stopGameAndShowMenu(){const _0x359fcd=_0x9f089c;isPaused=![];if(isManualControl){if(typeof window[_0x359fcd(0x115)]===_0x359fcd(0x157))window[_0x359fcd(0x115)]();else saveHighScore();}showMenuState();}function exitGame(){const _0x84715=_0x9f089c;isPaused=![],stopAutoDemoTimer();if(typeof window[_0x84715(0x115)]===_0x84715(0x157))window['saveHighScore']();else saveHighScore();isInGameState=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],showMenuState();try{window['close'](),setTimeout(()=>{if(!isInGameState)showMenuState();},0xc8);}catch(_0x32972b){console[_0x84715(0xea)](_0x84715(0x16f),_0x32972b),showMenuState();}}function triggerGameOver(){const _0x3d633f=_0x9f089c;if(typeof window['triggerFinalGameOverSequence']==='function')window[_0x3d633f(0x109)]();else triggerFinalGameOverSequence();}function showScoreScreen(){const _0x1c843c=_0x9f089c;if(isInGameState||isShowingScoreScreen)return;isShowingScoreScreen=!![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],scoreScreenStartTime=Date[_0x1c843c(0x9f)](),selectedButtonIndex=-0x1,clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);}function goBackInMenu(){const _0x13078c=_0x9f089c;if(isFiringModeSelectMode){isFiringModeSelectMode=![];if(selectedOnePlayerGameVariant===_0x13078c(0xcc))isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x0;else{if(selectedOnePlayerGameVariant==='1P_VS_AI_NORMAL'||selectedOnePlayerGameVariant===_0x13078c(0x181))isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=selectedOnePlayerGameVariant===_0x13078c(0x181)?0x1:0x0;else isTwoPlayerMode&&!isPlayerTwoAI?(isGameModeSelectMode=!![],selectedButtonIndex=selectedGameMode===_0x13078c(0x143)?0x1:0x0):(isPlayerSelectMode=!![],selectedButtonIndex=0x0);}selectedOnePlayerGameVariant='',isPlayerTwoAI=![],selectedGameMode=_0x13078c(0x148);}else{if(isOnePlayerVsAIGameTypeSelectMode)isOnePlayerVsAIGameTypeSelectMode=![],isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x1;else{if(isOnePlayerGameTypeSelectMode)isOnePlayerGameTypeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)isGameModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x1;else isPlayerSelectMode?(isPlayerSelectMode=![],selectedButtonIndex=0x0):triggerFullscreen();}}}startAutoDemoTimer();}function handleCanvasTouch(_0x462a0e,_0x3d31c2,_0x32839c=![]){const _0x298cde=_0x9f089c;if(!gameCanvas)return;let _0x376d05,_0x934d25;if(_0x462a0e[_0x298cde(0x13c)]['startsWith'](_0x298cde(0xfe))){if(_0x462a0e[_0x298cde(0x158)]&&_0x462a0e[_0x298cde(0x158)][_0x298cde(0xd9)]>0x0)_0x376d05=_0x462a0e[_0x298cde(0x158)][0x0]['clientX'],_0x934d25=_0x462a0e['touches'][0x0][_0x298cde(0x180)];else{if(_0x462a0e['changedTouches']&&_0x462a0e[_0x298cde(0xa3)][_0x298cde(0xd9)]>0x0)_0x376d05=_0x462a0e[_0x298cde(0xa3)][0x0]['clientX'],_0x934d25=_0x462a0e[_0x298cde(0xa3)][0x0][_0x298cde(0x180)];else return;}}else{if(_0x462a0e[_0x298cde(0x13c)][_0x298cde(0xbe)]('mouse'))_0x376d05=_0x462a0e[_0x298cde(0x9e)],_0x934d25=_0x462a0e['clientY'];else return;}const _0x5b0249=gameCanvas[_0x298cde(0x146)](),_0x4b6a5f=gameCanvas[_0x298cde(0x16e)]/_0x5b0249[_0x298cde(0x16e)],_0x15f369=gameCanvas[_0x298cde(0x155)]/_0x5b0249[_0x298cde(0x155)],_0x5cd394=(_0x376d05-_0x5b0249[_0x298cde(0x10c)])*_0x4b6a5f,_0x20d55e=(_0x934d25-_0x5b0249[_0x298cde(0x116)])*_0x15f369,_0x434402=Date[_0x298cde(0x9f)]();if(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0){touchedMenuButtonIndex=-0x1;return;}if(isInGameState){}else{if(isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen){if(_0x3d31c2==='end'&&_0x32839c){if(typeof showMenuState===_0x298cde(0x157))showMenuState();}}else{if(!isShowingScoreScreen){stopAutoDemoTimer();const _0x5c5776=getMenuButtonRect(0x0),_0x5628b3=getMenuButtonRect(0x1);let _0x2a099c=-0x1;if(_0x5c5776&&checkCollision({'x':_0x5cd394,'y':_0x20d55e,'width':0x1,'height':0x1},_0x5c5776))_0x2a099c=0x0;else _0x5628b3&&checkCollision({'x':_0x5cd394,'y':_0x20d55e,'width':0x1,'height':0x1},_0x5628b3)&&(_0x2a099c=0x1);if(_0x3d31c2===_0x298cde(0xe4))isTouchActiveMenu=!![],touchedMenuButtonIndex=_0x2a099c,selectedButtonIndex=_0x2a099c;else{if(_0x3d31c2===_0x298cde(0xa6)){if(_0x462a0e[_0x298cde(0x13c)]==='mousemove')selectedButtonIndex=_0x2a099c;else{if(touchedMenuButtonIndex!==-0x1&&_0x2a099c!==touchedMenuButtonIndex)selectedButtonIndex=-0x1;else touchedMenuButtonIndex!==-0x1&&(selectedButtonIndex=_0x2a099c);}}else{if(_0x3d31c2==='end'&&_0x462a0e[_0x298cde(0x13c)][_0x298cde(0xbe)](_0x298cde(0xfe))){isTouchActiveMenu=![];if(_0x32839c&&_0x2a099c!==-0x1&&_0x2a099c===touchedMenuButtonIndex){selectedButtonIndex=_0x2a099c;if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P();else{if(isOnePlayerGameTypeSelectMode)selectedButtonIndex===0x0?(isOnePlayerGameTypeSelectMode=![],isFiringModeSelectMode=!![],selectedOnePlayerGameVariant=_0x298cde(0xcc),selectedGameMode='normal',isTwoPlayerMode=![],isPlayerTwoAI=![],selectedButtonIndex=0x0):(isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=0x0);else{if(isOnePlayerVsAIGameTypeSelectMode)selectedButtonIndex===0x0?(selectedOnePlayerGameVariant=_0x298cde(0x107),selectedGameMode=_0x298cde(0x148)):(selectedOnePlayerGameVariant=_0x298cde(0x181),selectedGameMode='coop'),isOnePlayerVsAIGameTypeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)selectedButtonIndex===0x0?selectedGameMode=_0x298cde(0x148):selectedGameMode='coop',isGameModeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=![],selectedButtonIndex=0x0;else{if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode='rapid':selectedFiringMode=_0x298cde(0x182),baseStartGame(!![]);else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],selectedButtonIndex=0x0;else{if(selectedButtonIndex===0x1){if(typeof exitGame==='function')exitGame();}}}}}}}}else _0x32839c&&_0x2a099c===-0x1&&touchedMenuButtonIndex===-0x1&&goBackInMenu();touchedMenuButtonIndex=-0x1;}}}if(_0x3d31c2!==_0x298cde(0x176)&&_0x2a099c!==-0x1)stopAutoDemoTimer();else(_0x3d31c2==='end'||_0x3d31c2===_0x298cde(0xa6)&&_0x2a099c===-0x1)&&startAutoDemoTimer();}}}}function handleCanvasClick(_0x43ac1c){const _0x591529=_0x9f089c;if(!gameCanvas)return;audioContext&&audioContext[_0x591529(0xd7)]===_0x591529(0xbc)&&audioContext[_0x591529(0x11b)]()[_0x591529(0x137)](()=>{const _0x5114d7=_0x591529;audioContextInitialized=!![],console[_0x5114d7(0xa1)](_0x5114d7(0x9c));});if(isInGameState){if(isPaused){if(typeof togglePause===_0x591529(0x157))togglePause();return;}}else{if(isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen){if(typeof showMenuState===_0x591529(0x157))showMenuState();}else{if(!isShowingScoreScreen){stopAutoDemoTimer();const _0x368227=gameCanvas[_0x591529(0x146)](),_0x2028c0=gameCanvas['width']/_0x368227[_0x591529(0x16e)],_0x4f4e34=gameCanvas[_0x591529(0x155)]/_0x368227[_0x591529(0x155)],_0x227e3b=(_0x43ac1c['clientX']-_0x368227[_0x591529(0x10c)])*_0x2028c0,_0xb52d9d=(_0x43ac1c[_0x591529(0x180)]-_0x368227['top'])*_0x4f4e34;let _0x3f0449=-0x1;const _0x22da97=getMenuButtonRect(0x0),_0x28219c=getMenuButtonRect(0x1);if(_0x22da97&&checkCollision({'x':_0x227e3b,'y':_0xb52d9d,'width':0x1,'height':0x1},_0x22da97))_0x3f0449=0x0;else _0x28219c&&checkCollision({'x':_0x227e3b,'y':_0xb52d9d,'width':0x1,'height':0x1},_0x28219c)&&(_0x3f0449=0x1);if(_0x3f0449!==-0x1){selectedButtonIndex=_0x3f0449;if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P();else{if(isOnePlayerGameTypeSelectMode)selectedButtonIndex===0x0?(isOnePlayerGameTypeSelectMode=![],isFiringModeSelectMode=!![],selectedOnePlayerGameVariant=_0x591529(0xcc),selectedGameMode=_0x591529(0x148),isTwoPlayerMode=![],isPlayerTwoAI=![],selectedButtonIndex=0x0):(isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=0x0);else{if(isOnePlayerVsAIGameTypeSelectMode)selectedButtonIndex===0x0?(selectedOnePlayerGameVariant=_0x591529(0x107),selectedGameMode=_0x591529(0x148)):(selectedOnePlayerGameVariant='1P_VS_AI_COOP',selectedGameMode=_0x591529(0x143)),isOnePlayerVsAIGameTypeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)selectedButtonIndex===0x0?selectedGameMode=_0x591529(0x148):selectedGameMode=_0x591529(0x143),isGameModeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=![],selectedButtonIndex=0x0;else{if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x591529(0x15d):selectedFiringMode=_0x591529(0x182),baseStartGame(!![]);else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],selectedButtonIndex=0x0;else{if(selectedButtonIndex===0x1){if(typeof exitGame===_0x591529(0x157))exitGame();}}}}}}}}else goBackInMenu();startAutoDemoTimer();}}}}function createExplosion(_0x457172,_0x5bdf4c){const _0x306f59=_0x9f089c;try{playSound('explosionSound',![],0.4);let _0x459a36=[];for(let _0x22427c=0x0;_0x22427c<EXPLOSION_PARTICLE_COUNT;_0x22427c++){const _0x3acaad=Math['random']()*Math['PI']*0x2,_0x1c0aec=Math[_0x306f59(0x145)]()*(EXPLOSION_MAX_SPEED-EXPLOSION_MIN_SPEED)+EXPLOSION_MIN_SPEED;_0x459a36['push']({'x':_0x457172,'y':_0x5bdf4c,'vx':Math[_0x306f59(0x14a)](_0x3acaad)*_0x1c0aec,'vy':Math['sin'](_0x3acaad)*_0x1c0aec,'radius':EXPLOSION_PARTICLE_RADIUS,'alpha':0x1});}explosions['push']({'creationTime':Date[_0x306f59(0x9f)](),'duration':EXPLOSION_DURATION,'particles':_0x459a36});}catch(_0x1d3292){console[_0x306f59(0xea)](_0x306f59(0xc4),_0x1d3292);}}function renderExplosions(){const _0x56bd23=_0x9f089c;try{if(!gameCtx)return;gameCtx[_0x56bd23(0x12e)](),gameCtx[_0x56bd23(0x108)]='lighter',explosions[_0x56bd23(0x10a)](_0x59a7c3=>{const _0x293c13=_0x56bd23;_0x59a7c3[_0x293c13(0xdb)][_0x293c13(0x10a)](_0x4070c5=>{const _0x2195c9=_0x293c13,_0x3dc0d8=_0x4070c5[_0x2195c9(0xd3)]*EXPLOSION_MAX_OPACITY;_0x3dc0d8>0.01&&(gameCtx[_0x2195c9(0x17f)](),gameCtx[_0x2195c9(0x16b)](Math[_0x2195c9(0x17a)](_0x4070c5['x']),Math[_0x2195c9(0x17a)](_0x4070c5['y']),_0x4070c5[_0x2195c9(0x175)],0x0,Math['PI']*0x2),gameCtx[_0x2195c9(0xcd)]=_0x2195c9(0xf6)+_0x3dc0d8['toFixed'](0x3)+')',gameCtx[_0x2195c9(0x15e)]());});}),gameCtx[_0x56bd23(0xed)]();}catch(_0x827e2f){console[_0x56bd23(0xea)](_0x56bd23(0x119),_0x827e2f);}}function drawCanvasText(_0x24b7a9,_0x252f88,_0x2e6268,_0x273491,_0x406e2a,_0x581fc3=_0x9f089c(0x100),_0x133c85=_0x9f089c(0x10f),_0x202903=![]){const _0x5d89d6=_0x9f089c;if(!gameCtx)return;gameCtx[_0x5d89d6(0x12e)](),gameCtx['font']=_0x273491,gameCtx[_0x5d89d6(0xcd)]=_0x406e2a,gameCtx[_0x5d89d6(0xac)]=_0x581fc3,gameCtx[_0x5d89d6(0xb8)]=_0x133c85,_0x202903&&(gameCtx[_0x5d89d6(0xce)]='rgba(0,\x200,\x200,\x200.8)',gameCtx[_0x5d89d6(0x150)]=0x8,gameCtx[_0x5d89d6(0xeb)]=0x3,gameCtx[_0x5d89d6(0x183)]=0x3),gameCtx['fillText'](_0x24b7a9,_0x252f88,_0x2e6268),gameCtx[_0x5d89d6(0xed)]();}function drawCanvasButton(_0x3095fb,_0x25f95c,_0x2440f3){const _0x593712=_0x9f089c;if(!gameCtx)return;const _0x5ad320=getMenuButtonRect(_0x25f95c);if(!_0x5ad320)return;gameCtx['save'](),drawCanvasText(_0x3095fb,_0x5ad320['x']+_0x5ad320[_0x593712(0x16e)]/0x2,_0x5ad320['y']+_0x5ad320[_0x593712(0x155)]/0x2,MENU_BUTTON_FONT,_0x2440f3?MENU_BUTTON_COLOR_HOVER:MENU_BUTTON_COLOR,_0x593712(0x100),_0x593712(0x10f)),gameCtx[_0x593712(0xed)]();}function renderFloatingScores(){const _0x50feb1=_0x9f089c;try{if(!gameCtx||!floatingScores||floatingScores[_0x50feb1(0xd9)]===0x0)return;const _0x259e1e=Date[_0x50feb1(0x9f)]();gameCtx[_0x50feb1(0x12e)](),gameCtx[_0x50feb1(0x12f)]=FLOATING_SCORE_OPACITY,floatingScores['forEach'](_0x503613=>{const _0x1839d3=_0x50feb1;_0x259e1e>=_0x503613['displayStartTime']&&drawCanvasText(_0x503613['text'],_0x503613['x'],_0x503613['y'],FLOATING_SCORE_FONT,_0x503613['color'],_0x1839d3(0x100),_0x1839d3(0x10f),![]);}),gameCtx[_0x50feb1(0x12f)]=0x1,gameCtx[_0x50feb1(0xed)]();}catch(_0x2b3f32){console['error'](_0x50feb1(0xc7),_0x2b3f32);}}function renderHitSparks(){const _0x39201e=_0x9f089c;if(!gameCtx||!hitSparks||hitSparks[_0x39201e(0xd9)]===0x0)return;gameCtx['save'](),gameCtx['globalCompositeOperation']=_0x39201e(0x162),hitSparks[_0x39201e(0x10a)](_0x4b1c13=>{const _0x7cb983=_0x39201e;if(_0x4b1c13&&_0x4b1c13[_0x7cb983(0xd3)]>0.01){gameCtx[_0x7cb983(0xcd)]=_0x4b1c13[_0x7cb983(0x172)],gameCtx[_0x7cb983(0x12f)]=_0x4b1c13['alpha'],gameCtx['beginPath']();const _0x50dc51=_0x4b1c13['size']*Math[_0x7cb983(0x160)](_0x4b1c13[_0x7cb983(0xd3)]);gameCtx[_0x7cb983(0x16b)](Math[_0x7cb983(0x17a)](_0x4b1c13['x']),Math['round'](_0x4b1c13['y']),Math[_0x7cb983(0x171)](0.5,_0x50dc51/0x2),0x0,Math['PI']*0x2),gameCtx[_0x7cb983(0x15e)]();}}),gameCtx['globalAlpha']=0x1,gameCtx['restore']();}function renderGame(){const _0x167372=_0x9f089c;try{if(!gameCtx||!gameCanvas){if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;return;}gameCtx[_0x167372(0x154)](0x0,0x0,gameCanvas[_0x167372(0x16e)],gameCanvas[_0x167372(0x155)]);const _0x17ac9a=Date[_0x167372(0x9f)]();gameCtx[_0x167372(0x12e)]();const _0x98050=_0x167372(0xb9),_0xd35c06=_0x167372(0x166),_0xd0fcbe=_0x167372(0xec),_0x306122=0x5,_0x3e43e9=0x2;gameCtx[_0x167372(0xe8)]=_0x98050,gameCtx[_0x167372(0xb8)]=_0x167372(0x116);const _0x481acc=(_0x46424f,_0x770ffe,_0x4104c9,_0x4ddd3a,_0x8990a4=![])=>{const _0x35a7ab=_0x167372;let _0xa6e3d3=!![],_0x27c40e=UI_1UP_BLINK_ON_MS*1.5,_0x53a10f=UI_1UP_BLINK_CYCLE_MS*1.5;if(_0x46424f===_0x35a7ab(0x144)||_0x46424f===_0x35a7ab(0x131)||_0x46424f===_0x35a7ab(0x149)||_0x46424f==='AI\x20P2')_0x27c40e=DEMO_TEXT_BLINK_ON_MS*0.7,_0x53a10f=DEMO_TEXT_BLINK_CYCLE_MS;else _0x46424f===_0x35a7ab(0x153)&&(_0x27c40e=UI_1UP_BLINK_ON_MS*1.5,_0x53a10f=UI_1UP_BLINK_CYCLE_MS*1.5,isInGameState&&(!isManualControl||isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode==='coop')&&(_0x27c40e=DEMO_TEXT_BLINK_ON_MS*0.7,_0x53a10f=DEMO_TEXT_BLINK_CYCLE_MS));let _0x4788ae=isShowingPlayerGameOverMessage||isTwoPlayerMode&&selectedGameMode===_0x35a7ab(0x143)&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage);_0x8990a4&&((isPaused||gameOverSequenceStartTime>0x0||_0x4788ae||!(_0x17ac9a%_0x53a10f<_0x27c40e))&&(_0xa6e3d3=![]));_0xa6e3d3&&(gameCtx['fillStyle']=_0xd35c06,gameCtx[_0x35a7ab(0xac)]=_0x4104c9,gameCtx[_0x35a7ab(0xee)](_0x46424f,_0x4ddd3a,MARGIN_TOP));const _0xb0eab6=gameCtx['measureText'](_0x46424f)[_0x35a7ab(0x16e)];let _0x27dd3a;if(_0x4104c9==='left')_0x27dd3a=_0x4ddd3a+_0xb0eab6/0x2;else{if(_0x4104c9==='right')_0x27dd3a=_0x4ddd3a-_0xb0eab6/0x2;else _0x27dd3a=_0x4ddd3a;}gameCtx['fillStyle']=_0xd0fcbe,gameCtx[_0x35a7ab(0xac)]='center';let _0x5c44be=MARGIN_TOP+SCORE_OFFSET_Y+0x5;_0x46424f==='HIGH\x20SCORE'&&(_0x27dd3a=_0x4ddd3a);const _0x26ca5c=typeof _0x770ffe===_0x35a7ab(0x103)?_0x770ffe[_0x35a7ab(0x15c)](0x0):String(_0x770ffe);gameCtx[_0x35a7ab(0xee)](_0x26ca5c,_0x27dd3a,_0x5c44be);};let _0x2ff9a9,_0x3eb1f4,_0x8df676,_0x116b43,_0x2977f9=_0x167372(0x14e),_0x2b6285=![],_0x1598bb=![],_0xd50f90=![],_0x1f2cb3=isTwoPlayerMode&&selectedGameMode===_0x167372(0x143)&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage);_0x3eb1f4=0x0;const _0x3fbdc0=isTwoPlayerMode||isPlayerTwoAI&&selectedGameMode===_0x167372(0x143);if(_0x3fbdc0){if(selectedGameMode===_0x167372(0x143)&&isInGameState){_0x3eb1f4=player2Score;if(isCoopAIDemoActive)_0x2977f9=_0x167372(0x149);else{if(isPlayerTwoAI&&selectedOnePlayerGameVariant===_0x167372(0x181))_0x2977f9=_0x167372(0x105);else _0x2977f9=_0x167372(0x14e);}}else{if(selectedGameMode===_0x167372(0x148)&&isInGameState)_0x3eb1f4=currentPlayer===0x2?score:player2Score,isPlayerTwoAI&&(_0x2977f9=_0x167372(0x105));else{if(isShowingResultsScreen||gameOverSequenceStartTime>0x0&&!isShowingPlayerGameOverMessage&&!_0x1f2cb3||isShowingPlayerGameOverMessage||_0x1f2cb3){_0x3eb1f4=player2Score||0x0;if(isCoopAIDemoActive&&wasLastGameAIDemo)_0x2977f9=_0x167372(0x149);else{if(isPlayerTwoAI&&wasLastGameAIDemo&&selectedGameMode==='coop')_0x2977f9=_0x167372(0x105);else{if(isPlayerTwoAI&&wasLastGameAIDemo)_0x2977f9=_0x167372(0x105);else{if(isPlayerTwoAI&&!wasLastGameAIDemo&&selectedGameMode===_0x167372(0x143))_0x2977f9=_0x167372(0x105);else isPlayerTwoAI&&!wasLastGameAIDemo&&(_0x2977f9=_0x167372(0x105));}}}}else{if(!isInGameState){_0x3eb1f4=0x0;if(isPlayerSelectMode&&selectedButtonIndex===0x1)_0x2977f9=_0x167372(0x14e);else{if(isOnePlayerVsAIGameTypeSelectMode&&selectedButtonIndex===0x1||isFiringModeSelectMode&&isPlayerTwoAI&&selectedGameMode===_0x167372(0x143))_0x2977f9=_0x167372(0x105);else{if(isOnePlayerVsAIGameTypeSelectMode&&selectedButtonIndex===0x0&&isFiringModeSelectMode&&isPlayerTwoAI||isFiringModeSelectMode&&isPlayerTwoAI&&selectedGameMode===_0x167372(0x148))_0x2977f9='AI\x20P2';else _0x2977f9=_0x167372(0x14e);}}}}}}}else _0x2977f9='2UP',_0x3eb1f4=0x0;if(isShowingResultsScreen){_0x2ff9a9=player1Score||0x0,_0x8df676=highScore||0x4e20,_0x8df676=Math['max'](_0x8df676,_0x2ff9a9,_0x3eb1f4),_0x116b43=wasLastGameAIDemo&&!isCoopAIDemoActive&&!(isPlayerTwoAI&&selectedGameMode===_0x167372(0x143))?'DEMO':isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode===_0x167372(0x143)?_0x167372(0x131):_0x167372(0xdf);if(isPlayerTwoAI&&!isCoopAIDemoActive&&wasLastGameAIDemo&&selectedGameMode===_0x167372(0x148))_0x116b43=_0x167372(0xdf);_0xd50f90=![],_0x2b6285=![],_0x1598bb=![];}else{if(gameOverSequenceStartTime>0x0&&!isShowingPlayerGameOverMessage&&!_0x1f2cb3){_0x2ff9a9=player1Score||0x0,_0x8df676=highScore||0x4e20,_0x8df676=Math[_0x167372(0x171)](_0x8df676,_0x2ff9a9,_0x3eb1f4),_0x116b43=wasLastGameAIDemo&&!isCoopAIDemoActive&&!(isPlayerTwoAI&&selectedGameMode===_0x167372(0x143))?_0x167372(0x144):isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode===_0x167372(0x143)?_0x167372(0x131):_0x167372(0xdf);if(isPlayerTwoAI&&!isCoopAIDemoActive&&wasLastGameAIDemo&&selectedGameMode===_0x167372(0x148))_0x116b43='1UP';_0xd50f90=![],_0x2b6285=![],_0x1598bb=![];}else{if(isShowingPlayerGameOverMessage||_0x1f2cb3){_0x2ff9a9=player1Score||0x0,_0x8df676=highScore||0x4e20,_0x8df676=Math[_0x167372(0x171)](_0x8df676,_0x2ff9a9,_0x3eb1f4),_0x116b43=isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode===_0x167372(0x143)?'DEMO-1':'1UP';if(isPlayerTwoAI&&!isCoopAIDemoActive&&selectedGameMode===_0x167372(0x148)&&playerWhoIsGameOver===0x1)_0x116b43=_0x167372(0xdf);_0xd50f90=![],_0x2b6285=![],_0x1598bb=![];}else{if(!isInGameState)_0x2ff9a9=0x0,_0x8df676=highScore||0x4e20,_0x116b43=_0x167372(0xdf),_0xd50f90=![],_0x2b6285=![],_0x1598bb=![];else{_0x8df676=highScore||0x0;const _0x546f36=!isPaused&&!isShowingCoopPlayersReady;if(isCoopAIDemoActive){_0x2ff9a9=player1Score,_0x8df676=Math[_0x167372(0x171)](highScore,player1Score,player2Score),_0x116b43='DEMO-1',_0x2b6285=_0x546f36&&!isShowingIntro&&player1Lives>0x0&&ship1&&!isPlayer1ShipCaptured&&!isPlayer1WaitingForRespawn&&!isPlayer1ShowingGameOverMessage,_0x1598bb=_0x546f36&&!isShowingIntro&&player2Lives>0x0&&ship2&&!isPlayer2ShipCaptured&&!isPlayer2WaitingForRespawn&&!isPlayer2ShowingGameOverMessage;if(player1Score>=_0x8df676&&player1Score>0x0&&!isPlayer1ShowingGameOverMessage)_0xd50f90=_0x2b6285;if(player2Score>=_0x8df676&&player2Score>0x0&&player2Score>=player1Score&&!isPlayer2ShowingGameOverMessage)_0xd50f90=_0x1598bb;}else{if(!isManualControl)_0x2ff9a9=score,_0x8df676=Math['max'](_0x8df676,score),_0x116b43='DEMO',_0x2b6285=_0x546f36&&!isShowingIntro&&!isShipCaptured&&playerLives>0x0&&!_0x1f2cb3,_0xd50f90=_0x546f36&&!isShowingIntro&&score>0x0&&_0x8df676>0x0&&score>=_0x8df676&&!_0x1f2cb3;else{_0x116b43=_0x167372(0xdf);if(isTwoPlayerMode&&selectedGameMode===_0x167372(0x143)){_0x2ff9a9=player1Score,_0x8df676=Math[_0x167372(0x171)](highScore,player1Score,player2Score),_0x2b6285=_0x546f36&&!isShowingIntro&&player1Lives>0x0&&ship1&&!isPlayer1ShipCaptured&&!isPlayer1WaitingForRespawn&&!isPlayer1ShowingGameOverMessage,_0x1598bb=_0x546f36&&!isShowingIntro&&player2Lives>0x0&&ship2&&!isPlayer2ShipCaptured&&!isPlayer2WaitingForRespawn&&!isPlayer2ShowingGameOverMessage&&(isPlayerTwoAI?player2Lives>0x0:!![]);if(player1Score>=_0x8df676&&player1Score>0x0&&!isPlayer1ShowingGameOverMessage)_0xd50f90=_0x2b6285;if(player2Score>=_0x8df676&&player2Score>0x0&&player2Score>=player1Score&&!isPlayer2ShowingGameOverMessage&&(isPlayerTwoAI?player2Lives>0x0:!![]))_0xd50f90=_0x1598bb;}else isTwoPlayerMode&&selectedGameMode===_0x167372(0x148)?(_0x2ff9a9=currentPlayer===0x1?score:player1Score,_0x8df676=Math[_0x167372(0x171)](highScore,player1Score,player2Score,score),_0x2b6285=_0x546f36&&!isShowingIntro&&currentPlayer===0x1&&playerLives>0x0&&!isShipCaptured&&!isWaitingForRespawn&&!isShowingPlayerGameOverMessage,_0x1598bb=_0x546f36&&!isShowingIntro&&currentPlayer===0x2&&playerLives>0x0&&!isShipCaptured&&!isWaitingForRespawn&&!isShowingPlayerGameOverMessage&&(isPlayerTwoAI?playerLives>0x0:!![]),_0xd50f90=_0x546f36&&!isShowingIntro&&score>0x0&&_0x8df676>0x0&&score>=_0x8df676&&!isShowingPlayerGameOverMessage):(_0x2ff9a9=score,_0x8df676=Math[_0x167372(0x171)](_0x8df676,score),_0x2b6285=_0x546f36&&!isShowingIntro&&playerLives>0x0&&!isShipCaptured&&!isWaitingForRespawn&&!isShowingPlayerGameOverMessage,_0xd50f90=_0x546f36&&!isShowingIntro&&score>0x0&&_0x8df676>0x0&&score>=_0x8df676&&!isShowingPlayerGameOverMessage);}}}}}}let _0x9794ce=![];if(_0xd50f90){if(!isManualControl||isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode==='coop'){_0x9794ce=player1Score>=_0x8df676&&player1Score>0x0&&_0x2b6285&&!isPlayer1ShowingGameOverMessage||(isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode===_0x167372(0x143))&&player2Score>=_0x8df676&&player2Score>0x0&&_0x1598bb&&!isPlayer2ShowingGameOverMessage;if(!isCoopAIDemoActive&&!isManualControl&&!isPlayerTwoAI)_0x9794ce=_0x2b6285;}else{if(isTwoPlayerMode&&selectedGameMode==='coop')_0x9794ce=player1Score>=_0x8df676&&player1Score>0x0&&_0x2b6285&&!isPlayer1ShowingGameOverMessage||player2Score>=_0x8df676&&player2Score>0x0&&_0x1598bb&&!isPlayer2ShowingGameOverMessage;else isTwoPlayerMode&&selectedGameMode===_0x167372(0x148)?_0x9794ce=score>=_0x8df676&&score>0x0&&(currentPlayer===0x1&&_0x2b6285||currentPlayer===0x2&&_0x1598bb&&(!isPlayerTwoAI||isPlayerTwoAI&&playerLives>0x0))&&!isShowingPlayerGameOverMessage:_0x9794ce=_0x2b6285;}}typeof MARGIN_SIDE!==_0x167372(0xe9)&&typeof MARGIN_TOP!==_0x167372(0xe9)&&typeof SCORE_OFFSET_Y!==_0x167372(0xe9)&&(_0x481acc(_0x116b43,_0x2ff9a9,'left',MARGIN_SIDE,_0x2b6285),_0x481acc(_0x167372(0x153),_0x8df676,_0x167372(0x100),gameCanvas['width']/0x2,_0x9794ce),_0x481acc(_0x2977f9,_0x3eb1f4,_0x167372(0x17d),gameCanvas['width']-MARGIN_SIDE,_0x1598bb));if(typeof shipImage!=='undefined'&&typeof LIFE_ICON_MARGIN_BOTTOM!=='undefined'&&typeof LIFE_ICON_SIZE!=='undefined'&&typeof LIFE_ICON_MARGIN_LEFT!==_0x167372(0xe9)&&typeof LIFE_ICON_SPACING!=='undefined'&&typeof LEVEL_ICON_MARGIN_RIGHT!==_0x167372(0xe9)){if(shipImage[_0x167372(0x126)]&&shipImage[_0x167372(0xb4)]!==0x0){const _0xb3bc0=gameCanvas[_0x167372(0x155)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE;let _0x292fdc=0x0,_0x24a309=0x0;if(!isInGameState||isShowingScoreScreen||isShowingResultsScreen||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage||isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage){_0x292fdc=player1Lives<=0x0?0x0:_0x3e43e9;_0x3fbdc0||!isInGameState&&(!isPlayerSelectMode||selectedButtonIndex===0x1)?_0x24a309=player2Lives<=0x0?0x0:_0x3e43e9:_0x24a309=0x0;if(!isInGameState&&isPlayerSelectMode&&selectedButtonIndex===0x0)_0x24a309=0x0;if(!isInGameState&&isOnePlayerGameTypeSelectMode&&!isPlayerTwoAI&&selectedOnePlayerGameVariant!==_0x167372(0x181))_0x24a309=0x0;!isInGameState&&isOnePlayerVsAIGameTypeSelectMode&&(selectedOnePlayerGameVariant==='1P_VS_AI_COOP'?_0x24a309=player2Lives<=0x0?0x0:_0x3e43e9:_0x24a309=0x0);}else{if(isTwoPlayerMode&&selectedGameMode==='coop')_0x292fdc=player1Lives>0x0?Math[_0x167372(0x171)](0x0,player1Lives-0x1):0x0,_0x24a309=player2Lives>0x0?Math[_0x167372(0x171)](0x0,player2Lives-0x1):0x0;else isTwoPlayerMode&&selectedGameMode==='normal'?currentPlayer===0x1?(_0x292fdc=playerLives>0x0?Math[_0x167372(0x171)](0x0,playerLives-0x1):0x0,_0x24a309=player2Lives>0x0?Math[_0x167372(0x171)](0x0,player2Lives-0x1):0x0):(_0x292fdc=player1Lives>0x0?Math[_0x167372(0x171)](0x0,player1Lives-0x1):0x0,_0x24a309=playerLives>0x0?Math[_0x167372(0x171)](0x0,playerLives-0x1):0x0):(_0x292fdc=playerLives>0x0?Math[_0x167372(0x171)](0x0,playerLives-0x1):0x0,_0x24a309=0x0);}let _0x1a91cf=LIFE_ICON_MARGIN_LEFT;for(let _0x245afa=0x0;_0x245afa<Math['min'](_0x292fdc,_0x306122);_0x245afa++){const _0xeda290=_0x1a91cf+_0x245afa*(LIFE_ICON_SIZE+LIFE_ICON_SPACING);gameCtx['drawImage'](shipImage,Math['round'](_0xeda290),Math[_0x167372(0x17a)](_0xb3bc0),LIFE_ICON_SIZE,LIFE_ICON_SIZE);}const _0x3e8d35=Math['min'](_0x24a309,_0x306122),_0xd50be7=!isInGameState&&(isPlayerSelectMode&&selectedButtonIndex===0x1||isGameModeSelectMode&&(selectedButtonIndex===0x0||selectedButtonIndex===0x1)||isFiringModeSelectMode&&isTwoPlayerMode&&!isPlayerTwoAI),_0xc347fd=!isInGameState&&(isOnePlayerVsAIGameTypeSelectMode&&selectedButtonIndex===0x1||isFiringModeSelectMode&&isPlayerTwoAI&&selectedGameMode==='coop');if(_0x3e8d35>0x0&&(_0x3fbdc0&&isInGameState||_0xd50be7||_0xc347fd)){const _0x553d5a=_0x3e8d35*LIFE_ICON_SIZE+Math[_0x167372(0x171)](0x0,_0x3e8d35-0x1)*LIFE_ICON_SPACING,_0x41d131=gameCanvas['width']-LEVEL_ICON_MARGIN_RIGHT-_0x553d5a;for(let _0x4455bf=0x0;_0x4455bf<_0x3e8d35;_0x4455bf++){const _0x17f7f2=_0x41d131+_0x4455bf*(LIFE_ICON_SIZE+LIFE_ICON_SPACING);gameCtx[_0x167372(0x163)](shipImage,Math[_0x167372(0x17a)](_0x17f7f2),Math[_0x167372(0x17a)](_0xb3bc0),LIFE_ICON_SIZE,LIFE_ICON_SIZE);}}}}const _0xb5a218=[{'val':0x32,'img':level50Image},{'val':0x1e,'img':level30Image},{'val':0x14,'img':level20Image},{'val':0xa,'img':level10Image},{'val':0x5,'img':level5Image},{'val':0x1,'img':level1Image}],_0x46593e=(_0x1481de,_0x582916)=>{const _0x5c9f22=_0x167372;let _0x1fafa4=Math[_0x5c9f22(0x171)](0x1,_0x1481de);if(_0x1fafa4<=0x0||typeof LEVEL_ICON_MARGIN_BOTTOM===_0x5c9f22(0xe9)||typeof LEVEL_ICON_SIZE===_0x5c9f22(0xe9)||typeof LEVEL_ICON_MARGIN_RIGHT==='undefined'||typeof LEVEL_ICON_SPACING===_0x5c9f22(0xe9))return;let _0x11005e=_0x1fafa4,_0x20482d=[],_0xaec657=new Set();const _0x4931e2=(_0x39e8fe,_0x5a25a9,_0x573f52)=>{const _0x11c737=_0x5c9f22;let _0xf158fa=_0x39e8fe,_0x475822=new Set(_0x573f52);for(let _0x1211d7=_0x5a25a9;_0x1211d7<_0xb5a218[_0x11c737(0xd9)];_0x1211d7++){const _0x44f688=_0xb5a218[_0x1211d7]['val'];if(_0xf158fa>=_0x44f688){const _0x518400=_0x475822[_0x11c737(0x141)]>=0x3&&!_0x475822['has'](_0x44f688);if(!_0x518400||_0x44f688===0x1){const _0x2294a4=Math[_0x11c737(0xf2)](_0xf158fa/_0x44f688);_0xf158fa-=_0x2294a4*_0x44f688,_0x475822['add'](_0x44f688);if(_0xf158fa===0x0)return!![];}}}return _0xf158fa===0x0;};for(let _0x2ecc33=0x0;_0x2ecc33<_0xb5a218[_0x5c9f22(0xd9)]-0x1;_0x2ecc33++){const _0x45578c=_0xb5a218[_0x2ecc33],_0x58859e=_0x45578c[_0x5c9f22(0xa4)],_0xcbc88e=_0x45578c['img'];if(_0x11005e>=_0x58859e){const _0x5de9fc=Math[_0x5c9f22(0xf2)](_0x11005e/_0x58859e);for(let _0x4c5140=_0x5de9fc;_0x4c5140>=0x1;_0x4c5140--){const _0x1e8453=_0x11005e-_0x4c5140*_0x58859e;let _0x395934=new Set(_0xaec657);_0x395934[_0x5c9f22(0xb3)](_0x58859e);if(_0x395934[_0x5c9f22(0x141)]<=0x3||_0x395934[_0x5c9f22(0x141)]>0x3&&_0x395934[_0x5c9f22(0xf7)](0x1)&&_0x58859e===0x1){if(_0x4931e2(_0x1e8453,_0x2ecc33+0x1,_0x395934)){for(let _0x589db1=0x0;_0x589db1<_0x4c5140;_0x589db1++){_0x20482d[_0x5c9f22(0xe2)](_0xcbc88e);}_0x11005e=_0x1e8453,_0xaec657[_0x5c9f22(0xb3)](_0x58859e);break;}}}}if(_0x11005e===0x0)break;}if(_0x11005e>0x0){for(let _0x330de8=0x0;_0x330de8<_0x11005e;_0x330de8++){_0x20482d[_0x5c9f22(0xe2)](level1Image);}_0x11005e=0x0;}if(_0x20482d[_0x5c9f22(0xd9)]===0x0&&_0x1fafa4>0x0){for(let _0x4730b6=0x0;_0x4730b6<_0x1fafa4;_0x4730b6++)_0x20482d[_0x5c9f22(0xe2)](level1Image);}if(_0x20482d[_0x5c9f22(0xd9)]===0x0)return;const _0x425c8b=_0x20482d[_0x5c9f22(0xd9)],_0x38346e=_0x425c8b*LEVEL_ICON_SIZE+Math[_0x5c9f22(0x171)](0x0,_0x425c8b-0x1)*LEVEL_ICON_SPACING,_0x1a6233=gameCanvas[_0x5c9f22(0x155)]-LEVEL_ICON_MARGIN_BOTTOM-LEVEL_ICON_SIZE;let _0x2bb2a7,_0x5ed12b=0x0;const _0x575603=_0x582916?player1Lives:player2Lives,_0x14c39d=_0x582916?0x1:0x2;let _0x3d7274=0x0;const _0x5367f9=gameOverSequenceStartTime>0x0||isShowingResultsScreen||isShowingPlayerGameOverMessage&&playerWhoIsGameOver===_0x14c39d||isPlayer1ShowingGameOverMessage&&_0x582916||isPlayer2ShowingGameOverMessage&&!_0x582916;if(!isInGameState||isShowingScoreScreen||_0x5367f9)_0x3d7274=_0x575603<=0x0?0x0:_0x3e43e9;else{if(isInGameState){const _0x172ea8=isTwoPlayerMode&&selectedGameMode==='normal'&&currentPlayer===_0x14c39d?playerLives:_0x575603;_0x3d7274=_0x172ea8>0x0?Math[_0x5c9f22(0x171)](0x0,_0x172ea8-0x1):0x0;}}_0x3d7274=Math[_0x5c9f22(0xca)](_0x3d7274,_0x306122);_0x3d7274>0x0?_0x5ed12b=_0x3d7274*LIFE_ICON_SIZE+(_0x3d7274-0x1)*LIFE_ICON_SPACING:_0x5ed12b=-LIFE_ICON_SPACING;if(isTwoPlayerMode&&selectedGameMode===_0x5c9f22(0x143)){const _0xddd87f=0xf;if(_0x582916)_0x2bb2a7=LIFE_ICON_MARGIN_LEFT+_0x5ed12b+_0xddd87f;else{const _0x3ae8c1=gameCanvas['width']-LEVEL_ICON_MARGIN_RIGHT-_0x5ed12b;_0x2bb2a7=_0x3ae8c1-_0x38346e-_0xddd87f;}}else{if(isTwoPlayerMode&&selectedGameMode===_0x5c9f22(0x148)){const _0x537148=0xf;if(_0x582916)_0x2bb2a7=LIFE_ICON_MARGIN_LEFT+_0x5ed12b+_0x537148;else{const _0x330c68=gameCanvas[_0x5c9f22(0x16e)]-LEVEL_ICON_MARGIN_RIGHT-_0x5ed12b;_0x2bb2a7=_0x330c68-_0x38346e-_0x537148;}}else _0x2bb2a7=gameCanvas['width']-LEVEL_ICON_MARGIN_RIGHT-_0x38346e;}let _0x264a70=_0x2bb2a7;for(const _0x60c990 of _0x20482d){_0x60c990&&_0x60c990[_0x5c9f22(0x126)]&&_0x60c990[_0x5c9f22(0xb4)]!==0x0&&gameCtx[_0x5c9f22(0x163)](_0x60c990,Math['round'](_0x264a70),Math['round'](_0x1a6233),LEVEL_ICON_SIZE,LEVEL_ICON_SIZE),_0x264a70+=LEVEL_ICON_SIZE+LEVEL_ICON_SPACING;}};let _0x3f6d17,_0x469247;if(isInGameState&&!isShowingPlayerGameOverMessage&&!isPlayer1ShowingGameOverMessage&&!isPlayer2ShowingGameOverMessage&&gameOverSequenceStartTime===0x0){if(isTwoPlayerMode&&selectedGameMode===_0x167372(0x148))_0x3f6d17=currentPlayer===0x1?level:player1MaxLevelReached,_0x469247=currentPlayer===0x2?level:player2MaxLevelReached;else isTwoPlayerMode&&selectedGameMode===_0x167372(0x143)?(_0x3f6d17=player1Lives>0x0?level:player1MaxLevelReached,_0x469247=player2Lives>0x0?level:player2MaxLevelReached):_0x3f6d17=level;}else _0x3f6d17=player1MaxLevelReached,(_0x3fbdc0||isTwoPlayerMode)&&(_0x469247=player2MaxLevelReached);_0x46593e(Math[_0x167372(0x171)](0x1,_0x3f6d17),!![]);if(_0x3fbdc0||isTwoPlayerMode){if(typeof _0x469247==='number'&&_0x469247>0x0)_0x46593e(Math[_0x167372(0x171)](0x1,_0x469247),![]);else player2MaxLevelReached>0x0&&_0x46593e(Math[_0x167372(0x171)](0x1,player2MaxLevelReached),![]);}gameCtx[_0x167372(0xed)](),gameCtx['save']();let _0x22de7e=![],_0x4a80ca=!isInGameState||isShowingScoreScreen||isShowingResultsScreen||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage||isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage;_0x4a80ca&&(_0x22de7e=!![]);const _0x24e114=showCsBonusScoreMessage||showPerfectMessage;if(_0x22de7e){const _0xefc492=Math['round'](gameCanvas[_0x167372(0x16e)]/0x2-SHIP_WIDTH/0x2),_0x19eaa3=gameCanvas[_0x167372(0x155)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN;typeof shipImage!=='undefined'&&shipImage[_0x167372(0x126)]&&shipImage['naturalHeight']!==0x0?gameCtx[_0x167372(0x163)](shipImage,_0xefc492,_0x19eaa3,SHIP_WIDTH,SHIP_HEIGHT):(gameCtx[_0x167372(0xcd)]='blue',gameCtx['fillRect'](_0xefc492,_0x19eaa3,SHIP_WIDTH,SHIP_HEIGHT));}else{if(isInGameState&&!isShowingPlayerGameOverMessage&&!isPlayer1ShowingGameOverMessage&&!isPlayer2ShowingGameOverMessage&&gameOverSequenceStartTime===0x0){if(isTwoPlayerMode&&selectedGameMode==='coop'){const _0x495880=ship1&&player1Lives>0x0,_0x25d619=ship2&&player2Lives>0x0;if(_0x495880&&(!isPlayer1ShipCaptured||isPlayer1ShipCaptured&&!isShowingCaptureMessage)){let _0x32dc29=!![];if((isPlayer1Invincible||isPlayer1WaitingForRespawn)&&!isShowingCoopPlayersReady&&!isShowingCaptureMessage){const _0x5e8b81=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS;if(_0x17ac9a%_0x5e8b81>=INVINCIBILITY_BLINK_ON_MS)_0x32dc29=![];}if(_0x24e114){if(isCoopAIDemoActive&&!_0x25d619){}else{if(isCoopAIDemoActive&&_0x495880&&_0x25d619){}else isCoopAIDemoActive&&(_0x32dc29=![]);}}if(_0x32dc29){const _0x1efb4e=ship1['x'],_0x589a1e=ship1['y'];typeof shipImage!==_0x167372(0xe9)&&shipImage[_0x167372(0x126)]&&shipImage[_0x167372(0xb4)]!==0x0?(gameCtx[_0x167372(0x163)](shipImage,Math[_0x167372(0x17a)](_0x1efb4e),Math[_0x167372(0x17a)](_0x589a1e),ship1['width'],ship1[_0x167372(0x155)]),player1IsDualShipActive&&gameCtx[_0x167372(0x163)](shipImage,Math['round'](_0x1efb4e+DUAL_SHIP_OFFSET_X),Math[_0x167372(0x17a)](_0x589a1e),ship1['width'],ship1[_0x167372(0x155)])):(gameCtx[_0x167372(0xcd)]=_0x167372(0x127),gameCtx[_0x167372(0xc2)](Math[_0x167372(0x17a)](_0x1efb4e),Math[_0x167372(0x17a)](_0x589a1e),ship1[_0x167372(0x16e)],ship1['height']));}}if(_0x25d619&&(!isPlayer2ShipCaptured||isPlayer2ShipCaptured&&!isShowingCaptureMessage)){let _0x4974d1=!![];if((isPlayer2Invincible||isPlayer2WaitingForRespawn)&&!isShowingCoopPlayersReady&&!isShowingCaptureMessage){const _0x2f236b=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS;if(_0x17ac9a%_0x2f236b>=INVINCIBILITY_BLINK_ON_MS)_0x4974d1=![];}if(_0x24e114){if(isCoopAIDemoActive){if(!_0x495880){}else{if(_0x495880&&_0x25d619){}else _0x4974d1=![];}}}if(_0x4974d1){const _0x5bbe79=ship2['x'],_0x305957=ship2['y'];typeof shipImage!=='undefined'&&shipImage[_0x167372(0x126)]&&shipImage[_0x167372(0xb4)]!==0x0?(gameCtx[_0x167372(0x163)](shipImage,Math[_0x167372(0x17a)](_0x5bbe79),Math['round'](_0x305957),ship2[_0x167372(0x16e)],ship2[_0x167372(0x155)]),player2IsDualShipActive&&gameCtx[_0x167372(0x163)](shipImage,Math[_0x167372(0x17a)](_0x5bbe79+DUAL_SHIP_OFFSET_X),Math['round'](_0x305957),ship2['width'],ship2[_0x167372(0x155)])):(gameCtx[_0x167372(0xcd)]=_0x167372(0xad),gameCtx[_0x167372(0xc2)](Math[_0x167372(0x17a)](_0x5bbe79),Math['round'](_0x305957),ship2[_0x167372(0x16e)],ship2[_0x167372(0x155)]));}}}else{if(ship&&playerLives>0x0&&!isShipCaptured&&!isShowingCaptureMessage){let _0xea7f09=!![];if(isInvincible||isWaitingForRespawn){const _0x2655ce=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS;if(_0x17ac9a%_0x2655ce>=INVINCIBILITY_BLINK_ON_MS)_0xea7f09=![];}if(_0xea7f09&&!(_0x24e114&&(!isManualControl||isPlayerTwoAI&&selectedGameMode===_0x167372(0x148))&&!isCoopAIDemoActive)){let _0x4ee0c7=ship['x'],_0x18492b=isShowingIntro&&(!isManualControl||isPlayerTwoAI&&selectedGameMode===_0x167372(0x148))&&selectedGameMode!==_0x167372(0x143)&&!isDualShipActive;_0x18492b&&(_0x4ee0c7=Math['round'](gameCanvas['width']/0x2-ship[_0x167372(0x16e)]/0x2));const _0x1c8650=ship['y'];typeof shipImage!==_0x167372(0xe9)&&shipImage[_0x167372(0x126)]&&shipImage[_0x167372(0xb4)]!==0x0?(gameCtx[_0x167372(0x163)](shipImage,Math[_0x167372(0x17a)](_0x4ee0c7),Math[_0x167372(0x17a)](_0x1c8650),ship[_0x167372(0x16e)],ship[_0x167372(0x155)]),isDualShipActive&&gameCtx['drawImage'](shipImage,Math[_0x167372(0x17a)](_0x4ee0c7+DUAL_SHIP_OFFSET_X),Math[_0x167372(0x17a)](_0x1c8650),ship[_0x167372(0x16e)],ship[_0x167372(0x155)])):(gameCtx[_0x167372(0xcd)]=_0x167372(0x127),gameCtx[_0x167372(0xc2)](Math[_0x167372(0x17a)](_0x4ee0c7),Math['round'](_0x1c8650),ship['width'],ship[_0x167372(0x155)]));}}}}}fallingShips[_0x167372(0xd9)]>0x0&&typeof shipImage!==_0x167372(0xe9)&&shipImage[_0x167372(0x126)]&&fallingShips['forEach'](_0x322bcb=>{const _0x354e55=_0x167372;if(_0x322bcb){gameCtx[_0x354e55(0x12e)]();const _0x10710a=_0x322bcb['x']+_0x322bcb['width']/0x2,_0x1f59be=_0x322bcb['y']+_0x322bcb['height']/0x2;gameCtx['translate'](_0x10710a,_0x1f59be),gameCtx[_0x354e55(0x15a)](_0x322bcb[_0x354e55(0x133)]||0x0);const _0x5712cc=-_0x322bcb['width']/0x2,_0xa17072=-_0x322bcb[_0x354e55(0x155)]/0x2,_0xc3d8f0=_0x322bcb[_0x354e55(0x16e)],_0x1533c7=_0x322bcb[_0x354e55(0x155)];gameCtx[_0x354e55(0x163)](shipImage,_0x5712cc,_0xa17072,_0xc3d8f0,_0x1533c7),typeof _0x322bcb[_0x354e55(0xa7)]===_0x354e55(0x103)&&_0x322bcb['tintProgress']>0.01&&(gameCtx[_0x354e55(0x12e)](),gameCtx[_0x354e55(0x12f)]=_0x322bcb[_0x354e55(0xa7)],gameCtx[_0x354e55(0xcd)]=CAPTURED_SHIP_TINT_COLOR,gameCtx['globalCompositeOperation']='source-atop',gameCtx[_0x354e55(0xc2)](_0x5712cc,_0xa17072,_0xc3d8f0,_0x1533c7),gameCtx[_0x354e55(0xed)]()),gameCtx[_0x354e55(0xed)]();}});gameCtx['restore']();if(!isInGameState){if(isShowingScoreScreen){if(typeof LIFE_ICON_SIZE!==_0x167372(0xe9)){gameCtx[_0x167372(0x12e)]();const _0x5d1ee0=gameCanvas[_0x167372(0x16e)]/0x2;let _0x5e3dfd=gameCanvas[_0x167372(0x155)]*0.25+SCORE_SCREEN_VERTICAL_OFFSET+SCORE_SCREEN_LINE_V_SPACING,_0x54be42=0x0,_0x4f11df=_0x5e3dfd+0x0;drawCanvasText('PUSH\x20START\x20BUTTON',_0x5d1ee0,_0x4f11df-0x1e,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP,_0x167372(0x100),_0x167372(0x10f),!![]);let _0x2a9df4=_0x4f11df+SCORE_SCREEN_LINE_V_SPACING*1.8;const _0x56b58a='\x201ST\x20LIFE\x20BONUS\x20FOR\x20'+EXTRA_LIFE_THRESHOLD_1+_0x167372(0x13a);gameCtx[_0x167372(0xe8)]=SCORE_SCREEN_TEXT_FONT;const _0x2359ec=gameCtx['measureText'](_0x56b58a)[_0x167372(0x16e)],_0x3bc743=LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING+_0x2359ec;_0x54be42=_0x5d1ee0-_0x3bc743/0x2-0x1e;typeof shipImage!==_0x167372(0xe9)&&shipImage['complete']&&shipImage[_0x167372(0xb4)]!==0x0&&gameCtx[_0x167372(0x163)](shipImage,Math[_0x167372(0x17a)](_0x54be42),Math[_0x167372(0x17a)](_0x2a9df4-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x56b58a,_0x54be42+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x2a9df4,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,'left','middle',![]);let _0x41f630=_0x2a9df4+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x1030cc=_0x167372(0x161)+EXTRA_LIFE_THRESHOLD_2+_0x167372(0x13a);typeof shipImage!==_0x167372(0xe9)&&shipImage[_0x167372(0x126)]&&shipImage[_0x167372(0xb4)]!==0x0&&gameCtx[_0x167372(0x163)](shipImage,Math[_0x167372(0x17a)](_0x54be42),Math[_0x167372(0x17a)](_0x41f630-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x1030cc,_0x54be42+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x41f630,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,_0x167372(0x10c),_0x167372(0x10f),![]);let _0x403f8e=_0x41f630+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x4c4e3c=_0x167372(0xd5)+RECURRING_EXTRA_LIFE_INTERVAL+'\x20PTS';typeof shipImage!=='undefined'&&shipImage[_0x167372(0x126)]&&shipImage[_0x167372(0xb4)]!==0x0&&gameCtx[_0x167372(0x163)](shipImage,Math[_0x167372(0x17a)](_0x54be42),Math[_0x167372(0x17a)](_0x403f8e-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x4c4e3c,_0x54be42+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x403f8e,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,_0x167372(0x10c),_0x167372(0x10f),![]);let _0x1486ac=_0x403f8e+SCORE_SCREEN_LINE_V_SPACING*1.8;drawCanvasText(_0x167372(0x121),_0x5d1ee0-0xa,_0x1486ac+0x1e,MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,_0x167372(0x100),_0x167372(0x10f),![]),gameCtx[_0x167372(0xed)]();}}else{gameCtx[_0x167372(0x12e)]();const _0x3647c8=gameCanvas[_0x167372(0x16e)],_0x4042c2=gameCanvas[_0x167372(0x155)],_0x135dc6=_0x3647c8/0x2;selectedButtonIndex===-0x1&&(isPlayerSelectMode||isOnePlayerGameTypeSelectMode||isOnePlayerVsAIGameTypeSelectMode||isGameModeSelectMode||isFiringModeSelectMode||!isPlayerSelectMode&&!isOnePlayerGameTypeSelectMode&&!isOnePlayerVsAIGameTypeSelectMode&&!isGameModeSelectMode&&!isFiringModeSelectMode)&&(selectedButtonIndex=0x0);let _0x201648=MENU_LOGO_APPROX_HEIGHT,_0x3b752e=_0x201648*(logoImage['naturalWidth']/logoImage[_0x167372(0xb4)]||0x1);typeof logoImage!==_0x167372(0xe9)&&logoImage[_0x167372(0x126)]&&logoImage[_0x167372(0xb4)]!==0x0&&(_0x201648=logoImage[_0x167372(0xb4)]*LOGO_SCALE_FACTOR,_0x3b752e=logoImage[_0x167372(0x12c)]*LOGO_SCALE_FACTOR);const _0x30b30a=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0x2c9591=_0x201648+MENU_LOGO_BOTTOM_TO_START_GAP+0x2*MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_SUBTITLE_V_GAP+_0x30b30a;let _0x3f0c76=(_0x4042c2-_0x2c9591)/0x2-0x46;_0x3f0c76+=MENU_GENERAL_Y_OFFSET;const _0x5a2325=_0x135dc6-_0x3b752e/0x2,_0x264334=_0x3f0c76+MENU_LOGO_EXTRA_Y_OFFSET;typeof logoImage!=='undefined'&&logoImage[_0x167372(0x126)]&&logoImage[_0x167372(0xb4)]!==0x0?gameCtx[_0x167372(0x163)](logoImage,Math[_0x167372(0x17a)](_0x5a2325),Math[_0x167372(0x17a)](_0x264334),_0x3b752e,_0x201648):drawCanvasText('LOGO',_0x135dc6,_0x264334+_0x201648/0x2,_0x167372(0x10d),_0x167372(0xf0));if(isPlayerSelectMode)drawCanvasButton('PLAYER\x201',0x0,selectedButtonIndex===0x0),drawCanvasButton('PLAYER\x202',0x1,selectedButtonIndex===0x1);else{if(isOnePlayerGameTypeSelectMode)drawCanvasButton('NORMAL\x20GAME',0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x167372(0x13d),0x1,selectedButtonIndex===0x1);else{if(isOnePlayerVsAIGameTypeSelectMode)drawCanvasButton(_0x167372(0x167),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x167372(0x110),0x1,selectedButtonIndex===0x1);else{if(isGameModeSelectMode)drawCanvasButton('NORMAL\x20GAME',0x0,selectedButtonIndex===0x0),drawCanvasButton('CO-OP\x20GAME',0x1,selectedButtonIndex===0x1);else isFiringModeSelectMode?(drawCanvasButton(_0x167372(0x142),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x167372(0x16d),0x1,selectedButtonIndex===0x1)):(drawCanvasButton('START\x20GAME',0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x167372(0x101),0x1,selectedButtonIndex===0x1));}}}const _0x5ef66b=getMenuButtonRect(0x1);let _0x2c1a89;_0x5ef66b?_0x2c1a89=_0x5ef66b['y']+_0x5ef66b[_0x167372(0x155)]+MENU_BUTTON_SUBTITLE_V_GAP+_0x30b30a/0x2:_0x2c1a89=_0x3f0c76+_0x201648+MENU_LOGO_BOTTOM_TO_START_GAP+0x2*MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_SUBTITLE_V_GAP+_0x30b30a/0x2,drawCanvasText(MENU_SUBTITLE_TEXT,_0x135dc6-0x1,Math[_0x167372(0x17a)](_0x2c1a89),MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,_0x167372(0x100),'middle',!![]),gameCtx['restore']();}}else{const _0xef07e0=gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage&&!isShowingResultsScreen;if(_0xef07e0||_0x1f2cb3){gameCtx[_0x167372(0x12e)]();let _0x1e80b5=!showReadyMessage&&!showCsHitsMessage&&!showPerfectMessage&&!showCsBonusScoreMessage&&!showCSClearMessage&&!isCsCompletionDelayActive&&!isShowingIntro&&!isShowingCaptureMessage&&!isShowingCoopPlayersReady&&!_0x1f2cb3;_0x1e80b5&&(bullets[_0x167372(0x10a)](_0x2520cf=>{const _0x45b498=_0x167372;_0x2520cf&&(typeof bulletImage!==_0x45b498(0xe9)&&bulletImage[_0x45b498(0x126)]?gameCtx[_0x45b498(0x163)](bulletImage,Math[_0x45b498(0x17a)](_0x2520cf['x']),Math[_0x45b498(0x17a)](_0x2520cf['y']),_0x2520cf['width'],_0x2520cf[_0x45b498(0x155)]):(gameCtx[_0x45b498(0xcd)]=_0x45b498(0x114),gameCtx[_0x45b498(0xc2)](Math[_0x45b498(0x17a)](_0x2520cf['x']),Math[_0x45b498(0x17a)](_0x2520cf['y']),_0x2520cf[_0x45b498(0x16e)],_0x2520cf[_0x45b498(0x155)])));}),enemyBullets[_0x167372(0x10a)](_0x53abc9=>{const _0x1bde8c=_0x167372;_0x53abc9&&(typeof enemyBulletImage!=='undefined'&&enemyBulletImage[_0x1bde8c(0x126)]&&enemyBulletImage[_0x1bde8c(0x12c)]>0x0?gameCtx['drawImage'](enemyBulletImage,Math[_0x1bde8c(0x17a)](_0x53abc9['x']),Math[_0x1bde8c(0x17a)](_0x53abc9['y']),_0x53abc9[_0x1bde8c(0x16e)],_0x53abc9[_0x1bde8c(0x155)]):(gameCtx['fillStyle']=_0x1bde8c(0xec),gameCtx[_0x1bde8c(0xc2)](Math[_0x1bde8c(0x17a)](_0x53abc9['x']),Math[_0x1bde8c(0x17a)](_0x53abc9['y']),_0x53abc9[_0x1bde8c(0x16e)],_0x53abc9[_0x1bde8c(0x155)])));}));!isShowingCoopPlayersReady&&enemies['forEach'](_0x94ad5e=>{const _0x1fa249=_0x167372;if(_0x94ad5e&&_0x94ad5e['y']<gameCanvas[_0x1fa249(0x155)]+_0x94ad5e[_0x1fa249(0x155)]*0x2&&_0x94ad5e['y']>-_0x94ad5e['height']*0x2){gameCtx[_0x1fa249(0x12e)]();try{let _0x5a5a15=null,_0xf7d74a=_0x1fa249(0xf0);const _0x48cd9d=!isPaused&&_0x17ac9a%(ENEMY_ANIMATION_INTERVAL_MS*0x2)>=ENEMY_ANIMATION_INTERVAL_MS;if(_0x94ad5e[_0x1fa249(0x13c)]===ENEMY3_TYPE)_0x5a5a15=_0x48cd9d?bossGalagaImage2:bossGalagaImage,_0xf7d74a=_0x1fa249(0x10b);else _0x94ad5e[_0x1fa249(0x13c)]===ENEMY2_TYPE?(_0x5a5a15=_0x48cd9d?butterflyImage2:butterflyImage,_0xf7d74a='cyan'):(_0x5a5a15=_0x48cd9d?beeImage2:beeImage,_0xf7d74a=_0x1fa249(0x166));const _0x575924=Math[_0x1fa249(0x17a)](_0x94ad5e['x']),_0x59bb1b=Math[_0x1fa249(0x17a)](_0x94ad5e['y']),_0x18851b=_0x94ad5e[_0x1fa249(0x16e)],_0x4b295e=_0x94ad5e[_0x1fa249(0x155)],_0x1c06dd=_0x94ad5e[_0x1fa249(0x13c)]===ENEMY3_TYPE&&_0x94ad5e['isDamaged'],_0x843693=!isPaused&&(_0x94ad5e[_0x1fa249(0xd7)]===_0x1fa249(0x11a)||_0x94ad5e[_0x1fa249(0xd7)]==='following_bezier_path'||_0x94ad5e[_0x1fa249(0xd7)]===_0x1fa249(0xc3))&&_0x94ad5e['y']>-_0x94ad5e[_0x1fa249(0x155)]*0.5&&(Math[_0x1fa249(0xc1)](_0x94ad5e[_0x1fa249(0x13f)])>0.1||Math[_0x1fa249(0xc1)](_0x94ad5e[_0x1fa249(0xfb)])>0.1),_0x176805=_0x94ad5e['state']===_0x1fa249(0xa0)&&_0x94ad5e[_0x1fa249(0x13c)]===ENEMY3_TYPE&&_0x94ad5e['hasCapturedShip']&&_0x94ad5e['capturedShipDimensions']&&typeof _0x94ad5e[_0x1fa249(0x11f)]===_0x1fa249(0x103)&&typeof _0x94ad5e[_0x1fa249(0xff)]===_0x1fa249(0x103)&&typeof _0x94ad5e[_0x1fa249(0x17b)]===_0x1fa249(0x103),_0x399869=_0x94ad5e[_0x1fa249(0xd7)]!=='showing_capture_message'&&_0x94ad5e[_0x1fa249(0x13c)]===ENEMY3_TYPE&&_0x94ad5e[_0x1fa249(0xaf)]&&_0x94ad5e[_0x1fa249(0xa5)],_0x59e6e9=_0x176805||_0x399869?_0x94ad5e[_0x1fa249(0xa5)][_0x1fa249(0x16e)]:0x0,_0x1bcd9f=_0x176805||_0x399869?_0x94ad5e['capturedShipDimensions']['height']:0x0;let _0x45fd6c=0x0,_0x41ea41=0x0;if(_0x176805)_0x45fd6c=Math[_0x1fa249(0x17a)](_0x94ad5e[_0x1fa249(0x11f)]),_0x41ea41=Math[_0x1fa249(0x17a)](_0x94ad5e[_0x1fa249(0xff)]);else _0x399869&&(_0x45fd6c=Math['round'](_0x94ad5e['x']+CAPTURED_SHIP_OFFSET_X),_0x41ea41=Math[_0x1fa249(0x17a)](_0x94ad5e['y']+CAPTURED_SHIP_OFFSET_Y));const _0x34da96=(_0x5de2c6,_0xcba1ab,_0x1d5bea,_0x2a6f9a)=>{const _0x261e49=_0x1fa249;typeof _0x5a5a15!==_0x261e49(0xe9)&&_0x5a5a15[_0x261e49(0x126)]&&_0x5a5a15[_0x261e49(0xb4)]!==0x0?gameCtx['drawImage'](_0x5a5a15,_0x5de2c6,_0xcba1ab,_0x1d5bea,_0x2a6f9a):(gameCtx[_0x261e49(0xcd)]=_0xf7d74a,gameCtx[_0x261e49(0xc2)](_0x5de2c6,_0xcba1ab,_0x1d5bea,_0x2a6f9a)),_0x1c06dd&&(gameCtx[_0x261e49(0x108)]='source-atop',gameCtx['fillStyle']=_0x261e49(0x15f),gameCtx[_0x261e49(0xc2)](_0x5de2c6,_0xcba1ab,_0x1d5bea,_0x2a6f9a),gameCtx['globalCompositeOperation']=_0x261e49(0xaa));};if(_0x843693){const _0xb819f2=_0x575924+_0x18851b/0x2,_0x2238f4=_0x59bb1b+_0x4b295e/0x2;gameCtx[_0x1fa249(0x132)](_0xb819f2,_0x2238f4);let _0x76137d=Math['atan2'](_0x94ad5e[_0x1fa249(0xfb)],_0x94ad5e[_0x1fa249(0x13f)])+Math['PI']/0x2;if(_0x94ad5e[_0x1fa249(0x13c)]===ENEMY3_TYPE&&_0x94ad5e[_0x1fa249(0xd7)]===_0x1fa249(0x11a))_0x76137d+=Math['PI'];gameCtx[_0x1fa249(0x15a)](_0x76137d),_0x34da96(-_0x18851b/0x2,-_0x4b295e/0x2,_0x18851b,_0x4b295e);if(_0x399869&&typeof shipImage!==_0x1fa249(0xe9)&&shipImage['complete']){gameCtx[_0x1fa249(0x12f)]=0.8;const _0x5d7eab=CAPTURED_SHIP_OFFSET_X,_0x2c7f1d=CAPTURED_SHIP_OFFSET_Y;gameCtx[_0x1fa249(0x163)](shipImage,_0x5d7eab-_0x59e6e9/0x2,_0x2c7f1d-_0x1bcd9f/0x2,_0x59e6e9,_0x1bcd9f),gameCtx[_0x1fa249(0x12f)]=0x1,gameCtx[_0x1fa249(0x12e)](),gameCtx[_0x1fa249(0xcd)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x1fa249(0x108)]='source-atop',gameCtx[_0x1fa249(0xc2)](_0x5d7eab-_0x59e6e9/0x2,_0x2c7f1d-_0x1bcd9f/0x2,_0x59e6e9,_0x1bcd9f),gameCtx[_0x1fa249(0xed)]();}gameCtx[_0x1fa249(0x15a)](-_0x76137d),gameCtx[_0x1fa249(0x132)](-_0xb819f2,-_0x2238f4);}else _0x34da96(_0x575924,_0x59bb1b,_0x18851b,_0x4b295e),_0x399869&&typeof shipImage!==_0x1fa249(0xe9)&&shipImage[_0x1fa249(0x126)]&&(gameCtx[_0x1fa249(0x12f)]=0.8,gameCtx[_0x1fa249(0x163)](shipImage,_0x45fd6c,_0x41ea41,_0x59e6e9,_0x1bcd9f),gameCtx[_0x1fa249(0x12f)]=0x1,gameCtx[_0x1fa249(0x12e)](),gameCtx['fillStyle']=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x1fa249(0x108)]='source-atop',gameCtx['fillRect'](_0x45fd6c,_0x41ea41,_0x59e6e9,_0x1bcd9f),gameCtx[_0x1fa249(0xed)]());if(_0x176805&&typeof shipImage!==_0x1fa249(0xe9)&&shipImage[_0x1fa249(0x126)]){gameCtx['save']();const _0x19d2f2=_0x45fd6c+_0x59e6e9/0x2,_0x2306f8=_0x41ea41+_0x1bcd9f/0x2;gameCtx['translate'](_0x19d2f2,_0x2306f8),gameCtx[_0x1fa249(0x15a)](_0x94ad5e[_0x1fa249(0x17b)]),gameCtx[_0x1fa249(0x12f)]=0.8,gameCtx[_0x1fa249(0x163)](shipImage,-_0x59e6e9/0x2,-_0x1bcd9f/0x2,_0x59e6e9,_0x1bcd9f),gameCtx[_0x1fa249(0x12f)]=0x1,gameCtx[_0x1fa249(0x12e)](),gameCtx['fillStyle']=CAPTURED_SHIP_TINT_COLOR,gameCtx['globalCompositeOperation']=_0x1fa249(0x123),gameCtx[_0x1fa249(0xc2)](-_0x59e6e9/0x2,-_0x1bcd9f/0x2,_0x59e6e9,_0x1bcd9f),gameCtx['restore'](),gameCtx[_0x1fa249(0xed)]();}}catch(_0x1c6d68){console[_0x1fa249(0xea)]('Error\x20drawing\x20enemy:',_0x1c6d68),gameCtx[_0x1fa249(0xcd)]='orange',gameCtx[_0x1fa249(0xc2)](Math[_0x1fa249(0x17a)](_0x94ad5e['x']),Math[_0x1fa249(0x17a)](_0x94ad5e['y']),_0x94ad5e[_0x1fa249(0x16e)],_0x94ad5e[_0x1fa249(0x155)]);}finally{gameCtx['restore']();}}});if(captureBeamActive&&capturingBossId&&captureBeamProgress>0x0&&!isShowingCoopPlayersReady){gameCtx[_0x167372(0x12e)]();const _0x5cfcca=0.4+(Math[_0x167372(0x159)](_0x17ac9a*CAPTURE_BEAM_PULSE_SPEED)+0x1)/0x2*0.6,_0x1dc9fc=captureBeamProgress;gameCtx[_0x167372(0x12f)]=_0x1dc9fc*_0x5cfcca;const _0x2bd019=enemies['find'](_0x3ed3d5=>_0x3ed3d5['id']===capturingBossId);if(_0x2bd019){const _0x425492=_0x2bd019['x']+BOSS_WIDTH/0x2,_0x3cc0fe=_0x2bd019['y']+BOSS_HEIGHT,_0x714a61=gameCanvas[_0x167372(0x155)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE-0xa,_0x21ff2e=BOSS_WIDTH*CAPTURE_BEAM_WIDTH_TOP_FACTOR,_0x10fd97=SHIP_WIDTH*CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR;if(_0x3cc0fe<_0x714a61){const _0x55bad1=gameCtx[_0x167372(0xa8)](_0x425492,_0x3cc0fe,_0x425492,_0x714a61);_0x55bad1[_0x167372(0xd2)](0x0,CAPTURE_BEAM_COLOR_START),_0x55bad1['addColorStop'](0x1,CAPTURE_BEAM_COLOR_END),gameCtx['fillStyle']=_0x55bad1,gameCtx['beginPath'](),gameCtx[_0x167372(0xd1)](_0x425492-_0x21ff2e/0x2,_0x3cc0fe),gameCtx[_0x167372(0x120)](_0x425492+_0x21ff2e/0x2,_0x3cc0fe),gameCtx[_0x167372(0x120)](_0x425492+_0x10fd97/0x2,_0x714a61),gameCtx[_0x167372(0x120)](_0x425492-_0x10fd97/0x2,_0x714a61),gameCtx[_0x167372(0x125)](),gameCtx['fill']();}}gameCtx[_0x167372(0xed)]();}!isShowingCoopPlayersReady&&(renderExplosions(),renderFloatingScores(),renderHitSparks());let _0x2c50e9=![];const _0x1d5dea=gameCanvas['height']/0x2,_0x51d212=gameCanvas[_0x167372(0x16e)]/0x2,_0x5e194f=_0x167372(0x12b)+challengingStageEnemiesHit,_0x59827b=_0x167372(0x106)+scoreEarnedThisCS,_0x404f03=RESULTS_LINE_V_SPACING_SINGLE;if(isPaused)drawCanvasText(_0x167372(0xbf),_0x51d212,_0x1d5dea,PAUSE_TEXT_FONT,PAUSE_TEXT_COLOR,_0x167372(0x100),'middle',PAUSE_TEXT_SHADOW),_0x2c50e9=!![];else{if(isTwoPlayerMode&&selectedGameMode==='coop'&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage)){const _0x1d99d3=gameCanvas[_0x167372(0x155)]*0.45;if(isPlayer1ShowingGameOverMessage&&!isPlayer2ShowingGameOverMessage){const _0x5344b6=isCoopAIDemoActive?'DEMO-1':isPlayerTwoAI&&selectedOnePlayerGameVariant===_0x167372(0x181)?_0x167372(0x179):_0x167372(0x179);drawCanvasText(_0x5344b6[_0x167372(0xf1)](),_0x51d212,_0x1d99d3-_0x404f03/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,'center',_0x167372(0x10f),!![]),drawCanvasText(_0x167372(0xdd),_0x51d212,_0x1d99d3+_0x404f03/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x167372(0x100),_0x167372(0x10f),!![]),_0x2c50e9=!![];}else{if(isPlayer2ShowingGameOverMessage&&!isPlayer1ShowingGameOverMessage){const _0x4a5142=isCoopAIDemoActive?_0x167372(0x149):isPlayerTwoAI?_0x167372(0x135):_0x167372(0xde);drawCanvasText(_0x4a5142['toUpperCase'](),_0x51d212,_0x1d99d3-_0x404f03/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x167372(0x100),'middle',!![]),drawCanvasText(_0x167372(0xdd),_0x51d212,_0x1d99d3+_0x404f03/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,'center',_0x167372(0x10f),!![]),_0x2c50e9=!![];}}}else{if(isShowingCoopPlayersReady){const _0x30c918=isCoopAIDemoActive?_0x167372(0x128):isPlayerTwoAI&&selectedGameMode===_0x167372(0x143)?'PLAYER\x20&\x20AI\x20READY!':_0x167372(0x10e);drawCanvasText(_0x30c918,_0x51d212,_0x1d5dea,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x167372(0x100),_0x167372(0x10f),!![]),_0x2c50e9=!![];}else{if(isShowingCaptureMessage)drawCanvasText(_0x167372(0xc5),_0x51d212,_0x1d5dea,INTRO_TEXT_FONT,_0x167372(0x166),'center',_0x167372(0x10f),!![]),_0x2c50e9=!![];else{if(!isManualControl&&isInGameState&&isShowingDemoText){const _0x3f49f2=isShowingIntro||showCsBonusScoreMessage||showPerfectMessage||showCsHitsMessage||showCSClearMessage||showExtraLifeMessage||showReadyMessage||isCsCompletionDelayActive;if(!_0x3f49f2){const _0x409f6c=DEMO_TEXT_BLINK_CYCLE_MS,_0x2f205e=DEMO_TEXT_BLINK_ON_MS;_0x17ac9a%_0x409f6c<_0x2f205e&&(drawCanvasText(_0x167372(0x13b),_0x51d212,_0x1d5dea,DEMO_TEXT_LINE1_FONT,DEMO_TEXT_COLOR,'center',_0x167372(0x10f),!![]),_0x2c50e9=!![]);}}}}}}if(!_0x2c50e9){if(showCsBonusScoreMessage||showPerfectMessage||showCsHitsMessage)drawCanvasText(_0x5e194f,_0x51d212,_0x1d5dea,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,_0x167372(0x100),'middle',!![]),_0x2c50e9=!![],(showCsBonusScoreMessage||showPerfectMessage)&&drawCanvasText(_0x167372(0xef),_0x51d212,_0x1d5dea-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,PERFECT_TEXT_COLOR,'center',_0x167372(0x10f),!![]),showCsBonusScoreMessage&&drawCanvasText(_0x167372(0x12d),_0x51d212,_0x1d5dea+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_BONUS_SCORE_TEXT_COLOR,_0x167372(0x100),_0x167372(0x10f),!![]);else{if(showCSClearMessage)drawCanvasText(_0x167372(0x151),_0x51d212,_0x1d5dea-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_TEXT_COLOR,_0x167372(0x100),_0x167372(0x10f),!![]),_0x2c50e9=!![],showCsHitsForClearMessage&&drawCanvasText(_0x5e194f,_0x51d212,_0x1d5dea,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,_0x167372(0x100),_0x167372(0x10f),!![]),showCsScoreForClearMessage&&drawCanvasText(_0x59827b,_0x51d212,_0x1d5dea+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_SCORE_TEXT_COLOR,'center','middle',!![]);else{if(showExtraLifeMessage)drawCanvasText(_0x167372(0x13e),_0x51d212,_0x1d5dea,INTRO_TEXT_FONT,EXTRA_LIFE_TEXT_COLOR,_0x167372(0x100),'middle',!![]),_0x2c50e9=!![];else{if(isShowingIntro&&!isShowingCoopPlayersReady){let _0x378ffb='',_0x54de27=INTRO_TEXT_COLOR_NORMAL;if(introStep===0x1){if(!(selectedGameMode===_0x167372(0x143)&&level===0x1)){_0x378ffb=!isManualControl&&!isCoopAIDemoActive&&!isPlayerTwoAI?_0x167372(0x144):isCoopAIDemoActive?_0x167372(0x131):isTwoPlayerMode&&selectedGameMode==='normal'&&!isPlayerTwoAI?_0x167372(0x11c)+currentPlayer:isPlayerTwoAI&&selectedOnePlayerGameVariant===_0x167372(0x107)?_0x167372(0x11c)+currentPlayer:_0x167372(0x179);if(isManualControl&&isPlayerTwoAI&&selectedGameMode==='normal'&&currentPlayer===0x2)_0x378ffb=_0x167372(0x135);}}else{if(introStep===0x2)_0x378ffb='STAGE\x20'+level;else introStep===0x3&&(_0x378ffb=_0x167372(0xdc),_0x54de27=INTRO_TEXT_COLOR_CS_TEXT,!csIntroSoundPlayed&&(playSound(_0x167372(0x117),![],0.4),csIntroSoundPlayed=!![]));}_0x378ffb&&(drawCanvasText(_0x378ffb,_0x51d212,_0x1d5dea,INTRO_TEXT_FONT,_0x54de27,_0x167372(0x100),_0x167372(0x10f),!![]),_0x2c50e9=!![]);}else showReadyMessage&&(drawCanvasText(_0x167372(0xe7),_0x51d212,_0x1d5dea,INTRO_TEXT_FONT,READY_TEXT_COLOR,_0x167372(0x100),_0x167372(0x10f),!![]),_0x2c50e9=!![]);}}}}gameCtx[_0x167372(0xed)]();}else{if(isShowingPlayerGameOverMessage&&selectedGameMode===_0x167372(0x148)){const _0x5bdb7a=isPlayerTwoAI&&playerWhoIsGameOver===0x2?_0x167372(0x135):_0x167372(0x11c)+playerWhoIsGameOver,_0x528d76=RESULTS_LINE_V_SPACING_SINGLE,_0x3c63a1=gameCanvas[_0x167372(0x155)]*0.45;drawCanvasText(_0x5bdb7a,gameCanvas[_0x167372(0x16e)]/0x2,_0x3c63a1-_0x528d76/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x167372(0x100),'middle',!![]),drawCanvasText(_0x167372(0xdd),gameCanvas[_0x167372(0x16e)]/0x2,_0x3c63a1+_0x528d76/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x167372(0x100),_0x167372(0x10f),!![]);}else{if(gameOverSequenceStartTime>0x0){const _0x2c2d8c=_0x17ac9a-gameOverSequenceStartTime,_0x48cafe=_0x2c2d8c<GAME_OVER_DURATION,_0x3f3c60=_0x2c2d8c>=GAME_OVER_DURATION;if(_0x48cafe&&!isTwoPlayerMode&&!isCoopAIDemoActive&&!isPlayerTwoAI&&selectedGameMode!==_0x167372(0x143))drawCanvasText(_0x167372(0xdd),gameCanvas['width']/0x2,gameCanvas[_0x167372(0x155)]/0x2,GAME_OVER_FONT,GAME_OVER_COLOR,_0x167372(0x100),_0x167372(0x10f),GAME_OVER_SHADOW);else{if(_0x48cafe&&isCoopAIDemoActive&&player1Lives<=0x0&&player2Lives<=0x0)drawCanvasText(_0x167372(0xdd),gameCanvas[_0x167372(0x16e)]/0x2,gameCanvas[_0x167372(0x155)]/0x2,GAME_OVER_FONT,GAME_OVER_COLOR,'center',_0x167372(0x10f),GAME_OVER_SHADOW);else{if(_0x3f3c60){gameCtx[_0x167372(0x12e)]();const _0x3a408c=gameCanvas[_0x167372(0x16e)]/0x2,_0x24d626=gameCanvas[_0x167372(0x16e)];let _0x3ca20f=RESULTS_START_Y+RESULTS_LINE_V_SPACING_SINGLE;const _0x308982=(_0x4dfa75,_0x30c090,_0x4326d,_0x5edb45,_0x450b26,_0x80b1b7,_0xa910a8,_0x246430)=>{const _0x5e30e1=_0x167372;let _0x3317f2=_0x246430;const _0x4d51bf=RESULTS_VALUE_COLOR_YELLOW,_0x3b9305=RESULTS_VALUE_COLOR_CYAN;drawCanvasText(_0x5e30e1(0xf8),_0xa910a8,_0x3317f2,INTRO_TEXT_FONT,RESULTS_HEADER_COLOR,_0x5e30e1(0x100),_0x5e30e1(0x116),!![]),_0x3317f2+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x4dfa75,_0xa910a8,_0x3317f2,INTRO_TEXT_FONT,_0x5e30e1(0xec),_0x5e30e1(0x100),_0x5e30e1(0x10f),![]),_0x3317f2+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x5e30e1(0xd4),_0xa910a8,_0x3317f2,INTRO_TEXT_FONT,_0x4d51bf,'center','middle',![]),_0x3317f2+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x80b1b7[_0x5e30e1(0xab)](),_0xa910a8,_0x3317f2,INTRO_TEXT_FONT,_0x3b9305,_0x5e30e1(0x100),_0x5e30e1(0x10f),![]),_0x3317f2+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText('SCORE',_0xa910a8,_0x3317f2,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x5e30e1(0x100),_0x5e30e1(0x10f),![]),_0x3317f2+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x30c090['toString'](),_0xa910a8,_0x3317f2,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x5e30e1(0x100),_0x5e30e1(0x10f),![]),_0x3317f2+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x5e30e1(0xc6),_0xa910a8,_0x3317f2,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x5e30e1(0x100),'middle',![]),_0x3317f2+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x4326d[_0x5e30e1(0xab)](),_0xa910a8,_0x3317f2,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x5e30e1(0x100),_0x5e30e1(0x10f),![]),_0x3317f2+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x5e30e1(0x15b),_0xa910a8,_0x3317f2,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x5e30e1(0x100),_0x5e30e1(0x10f),![]),_0x3317f2+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x5edb45[_0x5e30e1(0xab)](),_0xa910a8,_0x3317f2,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x5e30e1(0x100),'middle',![]),_0x3317f2+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x5e30e1(0xba),_0xa910a8,_0x3317f2,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x5e30e1(0x100),_0x5e30e1(0x10f),![]),_0x3317f2+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x450b26,_0xa910a8,_0x3317f2,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,'center','middle',![]),_0x3317f2+=RESULTS_LINE_V_SPACING_SINGLE*1.5-0xa,drawCanvasText(_0x5e30e1(0x16a),_0xa910a8,_0x3317f2,RESULTS_FOOTER_FONT,RESULTS_FOOTER_COLOR,'center','middle',![]);};if(isTwoPlayerMode||wasLastGameAIDemo&&isPlayerTwoAI){const _0x2287db=player1ShotsFired||0x0,_0x46d0ec=player1EnemiesHit||0x0,_0x292ca6=_0x2287db>0x0?Math[_0x167372(0x17a)](_0x46d0ec/_0x2287db*0x64)+'%':'0%',_0x44fb14=player2ShotsFired||0x0,_0x1dc0ce=player2EnemiesHit||0x0,_0x37dcc1=_0x44fb14>0x0?Math[_0x167372(0x17a)](_0x1dc0ce/_0x44fb14*0x64)+'%':'0%',_0x57ab7f=_0x24d626*0.4,_0x509f5c=_0x24d626*0.1,_0x34d63e=_0x3a408c-_0x509f5c/0x2-_0x57ab7f/0x2+_0x57ab7f*0.1,_0xd6078b=_0x3a408c+_0x509f5c/0x2+_0x57ab7f/0x2-_0x57ab7f*0.1,_0xe894f=isCoopAIDemoActive&&wasLastGameAIDemo?_0x167372(0x131):_0x167372(0x179);let _0x2fbac1=_0x167372(0xde);if(isCoopAIDemoActive&&wasLastGameAIDemo)_0x2fbac1=_0x167372(0x149);else{if(isPlayerTwoAI&&wasLastGameAIDemo)_0x2fbac1='AI\x20PLAYER\x202';else{if(isPlayerTwoAI&&!wasLastGameAIDemo)_0x2fbac1=_0x167372(0x135);}}_0x308982(_0xe894f,player1Score,_0x2287db,_0x46d0ec,_0x292ca6,player1MaxLevelReached,_0x34d63e,_0x3ca20f),_0x308982(_0x2fbac1,player2Score,_0x44fb14,_0x1dc0ce,_0x37dcc1,player2MaxLevelReached,_0xd6078b,_0x3ca20f);let _0x38866e=0x0,_0x3b202a='';if(player1Score>player2Score)_0x38866e=0x1,_0x3b202a=_0xe894f;else player2Score>player1Score&&(_0x38866e=0x2,_0x3b202a=_0x2fbac1);if(_0x38866e>0x0){let _0x5ca93b=_0x3ca20f+getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE*0x2;drawCanvasText(_0x3b202a,_0x3a408c,_0x5ca93b,INTRO_TEXT_FONT,_0x167372(0xec),'center',_0x167372(0x10f),!![]),drawCanvasText(_0x167372(0xcf),_0x3a408c,_0x5ca93b+RESULTS_LINE_V_SPACING_SINGLE,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x167372(0x100),_0x167372(0x10f),!![]);}}else{const _0x4a4b46=player1ShotsFired||0x0,_0x2e83b0=player1EnemiesHit||0x0,_0x4e0a05=!isManualControl&&wasLastGameAIDemo&&!isCoopAIDemoActive&&!isPlayerTwoAI?score:player1Score,_0x3d263e=!isManualControl&&wasLastGameAIDemo&&!isCoopAIDemoActive&&!isPlayerTwoAI?level:player1MaxLevelReached,_0x20d902=_0x4a4b46>0x0?Math[_0x167372(0x17a)](_0x2e83b0/_0x4a4b46*0x64)+'%':'0%',_0x103dfa=!isManualControl&&wasLastGameAIDemo&&!isCoopAIDemoActive&&!isPlayerTwoAI?_0x167372(0x144):_0x167372(0x179);_0x308982(_0x103dfa,_0x4e0a05,_0x4a4b46,_0x2e83b0,_0x20d902,_0x3d263e,_0x3a408c,_0x3ca20f);}gameCtx['restore']();}}}}}}}}catch(_0x50f016){console[_0x167372(0xea)](_0x167372(0xfa),_0x50f016,_0x50f016[_0x167372(0x147)]);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;try{gameCtx&&gameCanvas&&(gameCtx[_0x167372(0xcd)]=_0x167372(0x166),gameCtx[_0x167372(0xe8)]='20px\x20sans-serif',gameCtx[_0x167372(0xac)]=_0x167372(0x100),gameCtx[_0x167372(0xee)](_0x167372(0xf5),gameCanvas[_0x167372(0x16e)]/0x2,gameCanvas[_0x167372(0x155)]/0x2));}catch(_0x28110f){}try{showMenuState();}catch(_0x56d2df){}}}function hideCursor(){const _0x37be50=_0x9f089c;gameCanvas&&(gameCanvas[_0x37be50(0xc9)]['cursor']=_0x37be50(0xc0)),mouseIdleTimerId=null;}function handleCanvasMouseMove(_0x1dd61b){const _0x25e12a=_0x9f089c;if(!gameCanvas)return;if(isTouchActiveGame&&isInGameState)return;clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;let _0x31d7bf=_0x25e12a(0x178);const _0x2d3867=!isInGameState&&!isShowingScoreScreen;_0x2d3867?(typeof handleCanvasTouch==='function'&&handleCanvasTouch(_0x1dd61b,'move'),selectedButtonIndex!==-0x1&&(_0x31d7bf=_0x25e12a(0x102))):selectedButtonIndex=-0x1;gameCanvas[_0x25e12a(0xc9)][_0x25e12a(0xf4)]=_0x31d7bf,mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(!isInGameState){const _0x1a3099=Date[_0x25e12a(0x9f)]();_0x1a3099-lastMouseMoveResetTime>0x1f4&&(typeof startAutoDemoTimer===_0x25e12a(0x157)&&selectedButtonIndex===-0x1&&startAutoDemoTimer(),lastMouseMoveResetTime=_0x1a3099);}}function mainLoop(_0x2967d6){const _0x1db90d=_0x9f089c;try{drawStars();retroGridCtx&&retroGridCanvas&&drawRetroGrid();pollControllerForMenu();if(isInGameState&&!isPaused){if(!isManualControl&&connectedGamepadIndex!==null){const _0x3c4db9=navigator['getGamepads']();if(_0x3c4db9?.[connectedGamepadIndex]){const _0x1195d0=_0x3c4db9[connectedGamepadIndex],_0x343e7f=_0x1195d0[_0x1db90d(0x130)][_0x1db90d(0xfc)](_0x35b802=>_0x35b802[_0x1db90d(0xc8)]);let _0x4277c1=![];for(let _0xd2fa68=0x0;_0xd2fa68<_0x343e7f[_0x1db90d(0xd9)];_0xd2fa68++){if(_0xd2fa68===PS5_BUTTON_R1||_0xd2fa68===PS5_BUTTON_TRIANGLE)continue;if(_0x343e7f[_0xd2fa68]&&!(previousDemoButtonStates[_0xd2fa68]??![])){_0x4277c1=!![];break;}}if(_0x4277c1){isCoopAIDemoActive=![],isPlayerTwoAI=![],showMenuState(),requestAnimationFrame(mainLoop);return;}previousDemoButtonStates=_0x343e7f[_0x1db90d(0xa2)]();}else{if(previousDemoButtonStates[_0x1db90d(0xd9)]>0x0)previousDemoButtonStates=[];}}else{if(previousDemoButtonStates[_0x1db90d(0xd9)]>0x0)previousDemoButtonStates=[];}if(typeof window[_0x1db90d(0xe5)]===_0x1db90d(0x157))window['runSingleGameUpdate'](_0x2967d6);else{console[_0x1db90d(0xea)](_0x1db90d(0x134));if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,showMenuState(),requestAnimationFrame(mainLoop);return;}if(gameOverSequenceStartTime>0x0){const _0x345c48=Date['now'](),_0x356d74=_0x345c48-gameOverSequenceStartTime,_0x301284=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x356d74>=_0x301284){showMenuState(),requestAnimationFrame(mainLoop);return;}}}else{if(isShowingScoreScreen)typeof renderGame==='function'&&renderGame();else{if(isInGameState&&gameOverSequenceStartTime>0x0){typeof renderGame===_0x1db90d(0x157)&&renderGame();const _0x155116=Date['now'](),_0x110921=_0x155116-gameOverSequenceStartTime,_0x22782c=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x110921>=_0x22782c){showMenuState(),requestAnimationFrame(mainLoop);return;}}else{if(isInGameState&&isPaused)typeof renderGame===_0x1db90d(0x157)&&renderGame();else{if(isInGameState&&isCsCompletionDelayActive){if(typeof window[_0x1db90d(0xe5)]===_0x1db90d(0x157))window['runSingleGameUpdate'](_0x2967d6);else{if(typeof renderGame==='function')renderGame();}}else{if(isInGameState&&(isShowingPlayerGameOverMessage||isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage)){if(typeof window[_0x1db90d(0xe5)]===_0x1db90d(0x157))window[_0x1db90d(0xe5)](_0x2967d6);else{if(typeof renderGame===_0x1db90d(0x157))renderGame();}}else typeof renderGame===_0x1db90d(0x157)&&renderGame();}}}}}mainLoopId=requestAnimationFrame(mainLoop);}catch(_0x37e85f){console[_0x1db90d(0xea)](_0x1db90d(0x140),_0x37e85f,_0x37e85f[_0x1db90d(0x147)]);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,isPaused=![],stopAllGameSoundsInternal(),isGridSoundPlaying=![];try{showMenuState();}catch(_0x508ece){console[_0x1db90d(0xea)]('Failed\x20to\x20return\x20to\x20menu\x20after\x20loop\x20error:',_0x508ece),document[_0x1db90d(0xe1)][_0x1db90d(0x12a)]=_0x1db90d(0x156);}}}function startMainLoop(){if(mainLoopId===null)gridOffsetY=0x0,mainLoop();else{}}function initializeGame(){const _0xed14b4=_0x9f089c;try{if(typeof initializeDOMElements===_0xed14b4(0x157)){if(!initializeDOMElements()){console[_0xed14b4(0xea)](_0xed14b4(0x170));return;}}else{console['error'](_0xed14b4(0xf3));return;}if(typeof window[_0xed14b4(0x104)]===_0xed14b4(0x157))window['loadHighScore']();else{if(typeof loadHighScore===_0xed14b4(0x157))loadHighScore();else console[_0xed14b4(0x11e)](_0xed14b4(0x14c));}if(typeof window['defineNormalWaveEntrancePaths']===_0xed14b4(0x157))window[_0xed14b4(0x139)]();else{if(typeof defineNormalWaveEntrancePaths===_0xed14b4(0x157))defineNormalWaveEntrancePaths();else console['error'](_0xed14b4(0x177));}if(typeof window[_0xed14b4(0x168)]===_0xed14b4(0x157))window['defineChallengingStagePaths']();else{if(typeof defineChallengingStagePaths==='function')defineChallengingStagePaths();else console['error'](_0xed14b4(0x111));}window[_0xed14b4(0xf9)](_0xed14b4(0x164),handleKeyDown),window[_0xed14b4(0xf9)](_0xed14b4(0xfd),handleKeyUp);gameCanvas?(gameCanvas[_0xed14b4(0xf9)](_0xed14b4(0x129),handleCanvasClick),gameCanvas['addEventListener']('mousemove',handleCanvasMouseMove)):console[_0xed14b4(0xea)](_0xed14b4(0x173));window[_0xed14b4(0xf9)](_0xed14b4(0x138),handleGamepadConnected),window[_0xed14b4(0xf9)]('gamepaddisconnected',handleGamepadDisconnected),window[_0xed14b4(0xf9)](_0xed14b4(0x16c),resizeCanvases),showMenuState();if(typeof resizeCanvases===_0xed14b4(0x157))resizeCanvases();else console[_0xed14b4(0xea)]('resizeCanvases\x20not\x20found!');startMainLoop();}catch(_0x159146){console['error']('FATAL\x20INITIALIZATION\x20ERROR:',_0x159146,_0x159146[_0xed14b4(0x147)]),document['body'][_0xed14b4(0x12a)]=_0xed14b4(0x113)+_0x159146['message']+_0xed14b4(0xb7),mainLoopId&&(cancelAnimationFrame(mainLoopId),mainLoopId=null);}}window[_0x9f089c(0xf9)]('load',initializeGame);