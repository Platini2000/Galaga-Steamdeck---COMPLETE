const _0x2a8fa4=_0x2440;(function(_0x532b9c,_0x3c48e5){const _0x3514c1=_0x2440,_0x1d7e4a=_0x532b9c();while(!![]){try{const _0x2abc35=parseInt(_0x3514c1(0x2aa))/0x1*(parseInt(_0x3514c1(0x1f8))/0x2)+-parseInt(_0x3514c1(0x293))/0x3*(-parseInt(_0x3514c1(0x277))/0x4)+parseInt(_0x3514c1(0x280))/0x5*(-parseInt(_0x3514c1(0x2a8))/0x6)+-parseInt(_0x3514c1(0x25d))/0x7*(-parseInt(_0x3514c1(0x24c))/0x8)+parseInt(_0x3514c1(0x22e))/0x9+parseInt(_0x3514c1(0x248))/0xa+parseInt(_0x3514c1(0x282))/0xb*(-parseInt(_0x3514c1(0x217))/0xc);if(_0x2abc35===_0x3c48e5)break;else _0x1d7e4a['push'](_0x1d7e4a['shift']());}catch(_0x5b4c14){_0x1d7e4a['push'](_0x1d7e4a['shift']());}}}(_0x5279,0x9468b));const MENU_LOGO_APPROX_HEIGHT=0x55,MENU_SUBTITLE_TEXT=_0x2a8fa4(0x283),MENU_SUBTITLE_FONT=_0x2a8fa4(0x261),MENU_SUBTITLE_COLOR=_0x2a8fa4(0x27a),MENU_BUTTON_FONT=_0x2a8fa4(0x257),MENU_BUTTON_COLOR='white',MENU_BUTTON_COLOR_HOVER=_0x2a8fa4(0x295),MENU_BUTTON_WIDTH=0x12c,MENU_BUTTON_HEIGHT=0x37,MENU_LOGO_BOTTOM_TO_START_GAP=0x5,MENU_BUTTON_V_GAP=-0xf,MENU_BUTTON_SUBTITLE_V_GAP=-0x0,MENU_SCORE_FONT=_0x2a8fa4(0x224),MENU_SCORE_COLOR='white',MENU_SCORE_LABEL_COLOR='red',GAME_OVER_FONT='bold\x2018px\x20\x27Press\x20Start\x202P\x27',GAME_OVER_COLOR=_0x2a8fa4(0x295),GAME_OVER_SHADOW=!![],DEMO_TEXT_LINE1_FONT='bold\x2018px\x20\x27Press\x20Start\x202P\x27',DEMO_TEXT_COLOR=_0x2a8fa4(0x295),DEMO_TEXT_BLINK_ON_MS=0x3e8,DEMO_TEXT_BLINK_OFF_MS=0x3e8,DEMO_TEXT_BLINK_CYCLE_MS=DEMO_TEXT_BLINK_ON_MS+DEMO_TEXT_BLINK_OFF_MS,LOGO_SCALE_FACTOR=0.45,MENU_LOGO_EXTRA_Y_OFFSET=0x0,MENU_GENERAL_Y_OFFSET=0x32,INTRO_TEXT_FONT=_0x2a8fa4(0x1f7),INTRO_TEXT_COLOR_NORMAL=_0x2a8fa4(0x295),INTRO_TEXT_COLOR_DARK_YELLOW=_0x2a8fa4(0x1ef),INTRO_TEXT_COLOR_CS_TEXT=INTRO_TEXT_COLOR_NORMAL,PERFECT_TEXT_COLOR=_0x2a8fa4(0x27a),EXTRA_LIFE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,READY_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_BONUS_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_DARK_YELLOW,CS_CLEAR_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_HITS_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_CLEAR_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_FONT=INTRO_TEXT_FONT,PAUSE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_SHADOW=!![],RESULTS_SCREEN_DURATION=0x4e20,PLAYER_GAME_OVER_MESSAGE_DURATION=0x1388,SCORE_SCREEN_TEXT_FONT=INTRO_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP=INTRO_TEXT_COLOR_NORMAL,SCORE_SCREEN_TEXT_COLOR_BONUS=INTRO_TEXT_COLOR_DARK_YELLOW,SCORE_SCREEN_LINE_V_SPACING=0x28,SCORE_SCREEN_ICON_TEXT_H_SPACING=0xf,SCORE_SCREEN_VERTICAL_OFFSET=0x4b,RESULTS_HEADER_COLOR=_0x2a8fa4(0x27a),RESULTS_VALUE_COLOR_YELLOW=INTRO_TEXT_COLOR_DARK_YELLOW,RESULTS_LABEL_COLOR=_0x2a8fa4(0x26c),RESULTS_VALUE_COLOR_CYAN=INTRO_TEXT_COLOR_NORMAL,RESULTS_LINE_V_SPACING_SINGLE=0x23,RESULTS_LINE_V_SPACING_DOUBLE=0x5a,RESULTS_START_Y=0xaf,RESULTS_FOOTER_FONT=MENU_SUBTITLE_FONT,RESULTS_FOOTER_COLOR=RESULTS_HEADER_COLOR,CS_MESSAGE_VERTICAL_OFFSET=0x1e;function getSubtitleApproxHeight(_0xa16d4){const _0x4180f5=_0xa16d4['match'](/(\d+)px/);return _0x4180f5?.[0x1]?parseInt(_0x4180f5[0x1],0xa):0x19;}function formatMillisecondsToMMSS(_0x4e4bde){const _0x3cf9d1=_0x2a8fa4;if(_0x4e4bde<=0x0||typeof _0x4e4bde!=='number'||!isFinite(_0x4e4bde))return _0x3cf9d1(0x2c0);const _0x27f387=Math[_0x3cf9d1(0x28c)](_0x4e4bde/0x3e8),_0x31ad8b=Math[_0x3cf9d1(0x28c)](_0x27f387/0x3c),_0x2944f5=_0x27f387%0x3c,_0x1959bd=String(_0x31ad8b)['padStart'](0x2,'0'),_0x2ed484=String(_0x2944f5)[_0x3cf9d1(0x1d5)](0x2,'0');return _0x1959bd+':'+_0x2ed484;}let isTransitioningToDemoViaScoreScreen=![];function getMenuButtonRect(_0x19a43d){const _0x216ebd=_0x2a8fa4;if(!gameCtx||!gameCanvas||gameCanvas[_0x216ebd(0x23d)]===0x0||gameCanvas['height']===0x0)return null;const _0x5f4c13=gameCanvas[_0x216ebd(0x23d)],_0x66b5d=gameCanvas['height'],_0x1bb168=_0x5f4c13/0x2-MENU_BUTTON_WIDTH/0x2-0x1;let _0x582cc2=MENU_LOGO_APPROX_HEIGHT;typeof logoImage!==_0x216ebd(0x1fe)&&logoImage[_0x216ebd(0x1dc)]&&logoImage[_0x216ebd(0x272)]!==0x0&&(_0x582cc2=logoImage['naturalHeight']*LOGO_SCALE_FACTOR);const _0x3885d2=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0x1707bf=0x2,_0xb0b117=_0x582cc2+MENU_LOGO_BOTTOM_TO_START_GAP+_0x1707bf*MENU_BUTTON_HEIGHT+(_0x1707bf-0x1)*MENU_BUTTON_V_GAP+MENU_BUTTON_SUBTITLE_V_GAP+_0x3885d2;let _0x452773=(_0x66b5d-_0xb0b117)/0x2-0x46;_0x452773+=MENU_GENERAL_Y_OFFSET;const _0x3d27e2=_0x452773+_0x582cc2+MENU_LOGO_BOTTOM_TO_START_GAP,_0x162d44=_0x3d27e2+_0x19a43d*(MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP);if(_0x19a43d===0x0||_0x19a43d===0x1)return{'x':_0x1bb168,'y':Math[_0x216ebd(0x1ee)](_0x162d44),'width':MENU_BUTTON_WIDTH,'height':MENU_BUTTON_HEIGHT};return null;}function pollControllerForMenu(){const _0x3a89bf=_0x2a8fa4;try{audioContext&&audioContext[_0x3a89bf(0x28e)]===_0x3a89bf(0x287)&&(connectedGamepadIndex!==null||connectedGamepadIndexP2!==null)&&audioContext[_0x3a89bf(0x200)]()[_0x3a89bf(0x231)](()=>{audioContextInitialized=!![],console['log']('AudioContext\x20resumed\x20by\x20controller\x20interaction.');});if(connectedGamepadIndex===null&&connectedGamepadIndexP2===null){joystickMovedVerticallyLastFrame=![];if(previousButtonStates[_0x3a89bf(0x206)]>0x0)previousButtonStates=[];if(previousGameButtonStates[_0x3a89bf(0x206)]>0x0)previousGameButtonStates=[];if(previousGameButtonStatesP2[_0x3a89bf(0x206)]>0x0)previousGameButtonStatesP2=[];return;}let _0x538f74=connectedGamepadIndex!==null?connectedGamepadIndex:connectedGamepadIndexP2;if(_0x538f74===null)return;const _0x2af4f1=navigator[_0x3a89bf(0x2bd)]();if(!_0x2af4f1?.[_0x538f74])return;const _0x4fa596=_0x2af4f1[_0x538f74],_0xd2d2ae=_0x4fa596['buttons']['map'](_0x238e0d=>_0x238e0d[_0x3a89bf(0x29d)]),_0x38d438=_0xd2d2ae,_0x246822=_0xd2d2ae;let _0x234aea=![];const _0x17d1dc=Date[_0x3a89bf(0x298)]();let _0x94ad3a=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x94ad3a=!![]);if(_0x94ad3a){connectedGamepadIndex!==null&&(previousButtonStates=_0x38d438[_0x3a89bf(0x263)](),previousGameButtonStates=_0x246822[_0x3a89bf(0x263)]());if(connectedGamepadIndexP2!==null){const _0x3fdc95=navigator[_0x3a89bf(0x2bd)]();_0x3fdc95?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0x3fdc95[connectedGamepadIndexP2][_0x3a89bf(0x2a9)][_0x3a89bf(0x1f9)](_0x35e4fc=>_0x35e4fc[_0x3a89bf(0x29d)]));}return;}if(isInGameState&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){const _0x8c2ba=_0x246822[PS5_BUTTON_TRIANGLE],_0x4b969d=previousGameButtonStates[PS5_BUTTON_TRIANGLE]??![];if(_0x8c2ba&&!_0x4b969d){if(typeof stopGameAndShowMenu===_0x3a89bf(0x22a))stopGameAndShowMenu();_0x234aea=!![];}if(!_0x234aea){const _0x541f09=_0x246822[PS5_BUTTON_R1],_0x1672fd=previousGameButtonStates[PS5_BUTTON_R1]??![];if(_0x541f09&&!_0x1672fd){if(typeof togglePause===_0x3a89bf(0x22a))togglePause();_0x234aea=!![];}}}if(!_0x234aea){const _0x533c0f=isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen;if(_0x533c0f){let _0x2d0c5b=![];for(let _0x417ca7=0x0;_0x417ca7<_0x38d438[_0x3a89bf(0x206)];_0x417ca7++){if(_0x417ca7===PS5_BUTTON_R1||_0x417ca7===PS5_BUTTON_TRIANGLE)continue;const _0x3d495b=previousButtonStates[_0x417ca7]??![];if(_0x38d438[_0x417ca7]&&!_0x3d495b){_0x2d0c5b=!![];break;}}if(_0x2d0c5b){if(typeof showMenuState==='function')showMenuState();_0x234aea=!![];}}else{if(!isInGameState&&!_0x234aea){const _0x510bbe=_0x38d438[PS5_BUTTON_CROSS],_0x12f953=previousButtonStates[PS5_BUTTON_CROSS]??![],_0x1e54d0=_0x38d438[PS5_BUTTON_CIRCLE],_0x3cba0d=previousButtonStates[PS5_BUTTON_CIRCLE]??![],_0x3806c4=_0x4fa596[_0x3a89bf(0x21b)][PS5_LEFT_STICK_Y]??0x0,_0x9fd806=_0x38d438[PS5_DPAD_UP],_0x8b3b41=_0x38d438[PS5_DPAD_DOWN];let _0x289bd9=0x0;if(_0x3806c4<-AXIS_DEAD_ZONE_MENU||_0x9fd806)_0x289bd9=-0x1;else{if(_0x3806c4>AXIS_DEAD_ZONE_MENU||_0x8b3b41)_0x289bd9=0x1;}let _0x3e38d2=_0x289bd9!==0x0;if(_0x3e38d2&&!joystickMovedVerticallyLastFrame){let _0x1977a3=selectedButtonIndex;const _0x3ab1ae=0x2;_0x1977a3===-0x1?_0x1977a3=_0x289bd9===0x1?0x0:_0x3ab1ae-0x1:_0x1977a3+=_0x289bd9;if(_0x1977a3<0x0)_0x1977a3=_0x3ab1ae-0x1;if(_0x1977a3>=_0x3ab1ae)_0x1977a3=0x0;_0x1977a3!==selectedButtonIndex&&(selectedButtonIndex=_0x1977a3,startAutoDemoTimer());}joystickMovedVerticallyLastFrame=_0x3e38d2;if(_0x510bbe&&!_0x12f953){stopAutoDemoTimer();if(isPlayerSelectMode)selectedButtonIndex===0x0?(isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x0):(isPlayerSelectMode=![],isGameModeSelectMode=!![],isTwoPlayerMode=!![],selectedButtonIndex=0x0);else{if(isOnePlayerGameTypeSelectMode)selectedButtonIndex===0x0?(isOnePlayerGameTypeSelectMode=![],isFiringModeSelectMode=!![],selectedOnePlayerGameVariant=_0x3a89bf(0x1f0),isTwoPlayerMode=![],isPlayerTwoAI=![],selectedButtonIndex=0x0):(isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=0x0);else{if(isOnePlayerVsAIGameTypeSelectMode)selectedButtonIndex===0x0?(selectedOnePlayerGameVariant=_0x3a89bf(0x1e4),selectedGameMode='normal'):(selectedOnePlayerGameVariant=_0x3a89bf(0x273),selectedGameMode=_0x3a89bf(0x21d)),isOnePlayerVsAIGameTypeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)selectedButtonIndex===0x0?selectedGameMode=_0x3a89bf(0x215):selectedGameMode=_0x3a89bf(0x21d),isGameModeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=![],selectedButtonIndex=0x0;else{if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x3a89bf(0x1d1):selectedFiringMode='single',baseStartGame(!![]);else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],selectedButtonIndex=0x0;else selectedButtonIndex===0x1&&exitGame();}}}}}_0x234aea=!![],startAutoDemoTimer();}if(!_0x234aea&&_0x1e54d0&&!_0x3cba0d){stopAutoDemoTimer();if(isFiringModeSelectMode){isFiringModeSelectMode=![];if(selectedOnePlayerGameVariant===_0x3a89bf(0x1f0))isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x0;else{if(selectedOnePlayerGameVariant===_0x3a89bf(0x1e4)||selectedOnePlayerGameVariant===_0x3a89bf(0x273))isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=selectedOnePlayerGameVariant==='1P_VS_AI_COOP'?0x1:0x0;else isTwoPlayerMode&&!isPlayerTwoAI?(isGameModeSelectMode=!![],selectedButtonIndex=selectedGameMode==='coop'?0x1:0x0):(isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],isGameModeSelectMode=![],selectedButtonIndex=0x0);}selectedOnePlayerGameVariant='',isPlayerTwoAI=![];}else{if(isOnePlayerVsAIGameTypeSelectMode)isOnePlayerVsAIGameTypeSelectMode=![],isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x1;else{if(isOnePlayerGameTypeSelectMode)isOnePlayerGameTypeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)isGameModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x1;else isPlayerSelectMode?(isPlayerSelectMode=![],selectedButtonIndex=0x0):triggerFullscreen();}}}_0x234aea=!![],startAutoDemoTimer();}}}}connectedGamepadIndex!==null&&(previousButtonStates=_0x38d438[_0x3a89bf(0x263)](),previousGameButtonStates=_0x246822['slice']());if(connectedGamepadIndexP2!==null){const _0x23b079=navigator[_0x3a89bf(0x2bd)]();_0x23b079?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0x23b079[connectedGamepadIndexP2][_0x3a89bf(0x2a9)]['map'](_0x579b05=>_0x579b05[_0x3a89bf(0x29d)]));}}catch(_0x3c865c){console[_0x3a89bf(0x207)](_0x3a89bf(0x28a),_0x3c865c),previousButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![];}}function initiateScoreScreenThenDemo(){!isInGameState&&!isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen?(isTransitioningToDemoViaScoreScreen=!![],showScoreScreen(),autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null),autoStartTimerId=setTimeout(()=>{const _0x125340=_0x2440;if(isShowingScoreScreen){isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],demoModeCounter++;if(demoModeCounter%0x2===0x1){if(typeof startCoopAIDemo===_0x125340(0x22a))startCoopAIDemo();else startAIDemo();}else startAIDemo();}isTransitioningToDemoViaScoreScreen=![];},SCORE_SCREEN_DURATION)):(autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null),isTransitioningToDemoViaScoreScreen=![]);}function startAutoDemoTimer(){const _0x29145e=_0x2a8fa4;try{stopAutoDemoTimer(),isTransitioningToDemoViaScoreScreen=![],autoStartTimerId=setTimeout(()=>{initiateScoreScreenThenDemo();},MENU_INACTIVITY_TIMEOUT);}catch(_0x2785de){console[_0x29145e(0x207)](_0x29145e(0x203),_0x2785de),isTransitioningToDemoViaScoreScreen=![];}}function stopAutoDemoTimer(){const _0x12970e=_0x2a8fa4;try{autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null),isTransitioningToDemoViaScoreScreen=![];}catch(_0x4f051e){console[_0x12970e(0x207)](_0x12970e(0x1f6),_0x4f051e);}}function showMenuState(){const _0x2c7015=_0x2a8fa4;try{wasLastGameAIDemo&&(highScore=0x4e20);wasLastGameAIDemo=![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,initialGameStartSoundPlayedThisSession=![],coopStartSoundPlayedThisSession=![],gameJustStartedAndWaveLaunched=![],isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,isManualControl=![],isShowingDemoText=![],isPaused=![],isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],isGameModeSelectMode=![],isFiringModeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],selectedFiringMode=_0x2c7015(0x1d1),selectedGameMode=_0x2c7015(0x215),isTwoPlayerMode=![],currentPlayer=0x1,showCsHitsMessage=![],csHitsMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showReadyMessage=![],readyMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],isShowingCoopPlayersReady=![],coopPlayersReadyStartTime=0x0,isTransitioningToDemoViaScoreScreen=![],stopAllGameSoundsInternal(),isGridSoundPlaying=![],playerLives=0x3,score=0x0,level=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,scoreEarnedThisCS=0x0,enemies=[],bullets=[],enemyBullets=[],explosions=[],isShowingIntro=![],introStep=0x0,isChallengingStage=![],challengingStageEnemiesHit=0x0,currentGridOffsetX=0x0,gridMoveDirection=0x1,currentWaveDefinition=null,isEntrancePhaseActive=![],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0;typeof enemySpawnTimeouts!==_0x2c7015(0x1fe)&&Array[_0x2c7015(0x226)](enemySpawnTimeouts)&&enemySpawnTimeouts[_0x2c7015(0x245)](clearTimeout);enemySpawnTimeouts=[],lastEnemyDetachTime=0x0,selectedButtonIndex=0x0,joystickMovedVerticallyLastFrame=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,forceCenterShipNextReset=![],player1CompletedLevel=-0x1,p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];if(ship&&typeof ship===_0x2c7015(0x292)&&ship[_0x2c7015(0x299)]('x')&&gameCanvas&&gameCanvas[_0x2c7015(0x23d)]>0x0&&gameCanvas[_0x2c7015(0x22d)]>0x0)ship['x']=Math[_0x2c7015(0x1ee)](gameCanvas[_0x2c7015(0x23d)]/0x2-SHIP_WIDTH/0x2),ship[_0x2c7015(0x278)]=ship['x'],ship['y']=gameCanvas[_0x2c7015(0x22d)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN;else{if(ship!==null){}}clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0),playSound(_0x2c7015(0x227),!![],0.2),startAutoDemoTimer();}catch(_0xdb4bcc){console['error']('Error\x20in\x20showMenuState:',_0xdb4bcc),gameJustStartedAndWaveLaunched=![],wasLastGameAIDemo=![],initialGameStartSoundPlayedThisSession=![],isInGameState=![],isShowingScoreScreen=![],isPaused=![],isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],isGameModeSelectMode=![],isFiringModeSelectMode=![],selectedGameMode=_0x2c7015(0x215),selectedOnePlayerGameVariant='',isPlayerTwoAI=![],isTwoPlayerMode=![],currentPlayer=0x1,isShowingPlayerGameOverMessage=![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,coopStartSoundPlayedThisSession=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],isShowingCoopPlayersReady=![],coopPlayersReadyStartTime=0x0,isTransitioningToDemoViaScoreScreen=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,alert(_0x2c7015(0x1e0)),document['body'][_0x2c7015(0x2b0)]='<p\x20style=\x22color:white;\x22>Error\x20returning\x20to\x20menu.\x20Please\x20refresh.</p>';}}function _0x2440(_0x4a804a,_0x59c786){const _0x527910=_0x5279();return _0x2440=function(_0x244026,_0x561131){_0x244026=_0x244026-0x1cf;let _0x203413=_0x527910[_0x244026];return _0x203413;},_0x2440(_0x4a804a,_0x59c786);}function startAIDemo(){const _0xf1dfef=_0x2a8fa4;if(isInGameState)return;stopSound(_0xf1dfef(0x227)),isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],selectedFiringMode=_0xf1dfef(0x1d1),isTwoPlayerMode=![],selectedGameMode=_0xf1dfef(0x215),isManualControl=![],isShowingDemoText=!![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,wasLastGameAIDemo=!![],coopStartSoundPlayedThisSession=![],baseStartGame(![]),gameJustStarted=!![];}function startCoopAIDemo(){const _0x1923dd=_0x2a8fa4;if(isInGameState)return;stopSound(_0x1923dd(0x227)),isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],selectedFiringMode='rapid',isTwoPlayerMode=!![],selectedGameMode=_0x1923dd(0x21d),isManualControl=![],isShowingDemoText=!![],isCoopAIDemoActive=!![],aiPlayerActivelySeekingCaptureById=null,wasLastGameAIDemo=!![],baseStartGame(![]),gameJustStarted=!![];}function startGame1P(){const _0x5aa76d=_0x2a8fa4;if(isInGameState)return;isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=!![],isGameModeSelectMode=![],isFiringModeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],isTwoPlayerMode=![],selectedGameMode=_0x5aa76d(0x215),isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,selectedButtonIndex=0x0,coopStartSoundPlayedThisSession=![],startAutoDemoTimer();}function startGame2P(){const _0x460126=_0x2a8fa4;if(isInGameState)return;isPlayerSelectMode=![],isGameModeSelectMode=!![],isFiringModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],isTwoPlayerMode=!![],selectedGameMode=_0x460126(0x215),isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,selectedButtonIndex=0x0,coopStartSoundPlayedThisSession=![],startAutoDemoTimer();}function baseStartGame(_0x23bca1){const _0x103cfb=_0x2a8fa4;try{if(!gameCanvas||!gameCtx){console[_0x103cfb(0x207)](_0x103cfb(0x281)),showMenuState();return;}_0x23bca1&&stopSound(_0x103cfb(0x227));stopAutoDemoTimer(),isInGameState=!![],isShowingScoreScreen=![],isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],isGameModeSelectMode=![],isFiringModeSelectMode=![],gameJustStartedAndWaveLaunched=![],isTransitioningToDemoViaScoreScreen=![],isManualControl=_0x23bca1,isShowingDemoText=!_0x23bca1,isPaused=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];_0x23bca1?(wasLastGameAIDemo=![],selectedOnePlayerGameVariant==='1P_VS_AI_COOP'?isCoopAIDemoActive=![]:isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null):(isPlayerTwoAI=![],selectedOnePlayerGameVariant='');clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(typeof window[_0x103cfb(0x20f)]===_0x103cfb(0x22a))window[_0x103cfb(0x20f)]();else{console[_0x103cfb(0x207)](_0x103cfb(0x1d2)),alert('Critical\x20error:\x20Game\x20logic\x20(window.resetGame)\x20not\x20loaded\x20correctly!'),showMenuState();return;}isShowingCoopPlayersReady=![];const _0x2c1f37=level===0x1&&!initialGameStartSoundPlayedThisSession;let _0x10cabd=![];if(isManualControl){if(selectedOnePlayerGameVariant==='CLASSIC_1P'){if(_0x2c1f37)_0x10cabd=!![];}else{if(selectedOnePlayerGameVariant==='1P_VS_AI_NORMAL'||selectedOnePlayerGameVariant===_0x103cfb(0x273)){if(_0x2c1f37)_0x10cabd=!![];selectedOnePlayerGameVariant==='1P_VS_AI_COOP'&&(isShowingCoopPlayersReady=!![],coopPlayersReadyStartTime=Date[_0x103cfb(0x298)]());}else{if(isTwoPlayerMode&&!isPlayerTwoAI&&selectedGameMode==='normal'){if(_0x2c1f37)_0x10cabd=!![];}else{if(isTwoPlayerMode&&!isPlayerTwoAI&&selectedGameMode===_0x103cfb(0x21d)){if(_0x2c1f37&&!coopStartSoundPlayedThisSession)_0x10cabd=!![];isShowingCoopPlayersReady=!![],coopPlayersReadyStartTime=Date[_0x103cfb(0x298)]();}}}}}else{if(_0x2c1f37)_0x10cabd=!![];isCoopAIDemoActive&&(isShowingCoopPlayersReady=!![],coopPlayersReadyStartTime=Date[_0x103cfb(0x298)]());}_0x10cabd&&(playSound('startSound',![],0.4),initialGameStartSoundPlayedThisSession=!![],(selectedGameMode===_0x103cfb(0x21d)||isCoopAIDemoActive||selectedOnePlayerGameVariant===_0x103cfb(0x273))&&(coopStartSoundPlayedThisSession=!![]));gameStartTime=Date[_0x103cfb(0x298)](),leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![],p2RightPressed=![],p2ShootPressed=![],keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],selectedButtonIndex=-0x1;if(mainLoopId===null){if(typeof window[_0x103cfb(0x213)]===_0x103cfb(0x22a))window[_0x103cfb(0x213)]();else startMainLoop();}}catch(_0x5eea01){console['error'](_0x103cfb(0x1f1),_0x5eea01),gameJustStartedAndWaveLaunched=![],wasLastGameAIDemo=![],initialGameStartSoundPlayedThisSession=![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,isPlayerTwoAI=![],coopStartSoundPlayedThisSession=![],isShowingCoopPlayersReady=![],coopPlayersReadyStartTime=0x0,isTransitioningToDemoViaScoreScreen=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null,alert(_0x103cfb(0x1eb)),showMenuState();}}function _0x5279(){const _0x4d35e6=['fillStyle','CO-OP\x20GAME','PLAYER\x201','innerHTML','max','lineTo','20px\x20sans-serif','move','triggerFinalGameOverSequence','find','left','gamepaddisconnected','velocityY','source-atop','closePath','toString','getGamepads','push','purple','00:00','stack','fillRect','rapid','FATAL:\x20window.resetGame\x20function\x20is\x20not\x20defined\x20or\x20not\x20a\x20function!\x20Cannot\x20start\x20game\x20properly.','<p\x20style=\x22color:white;\x22>CRITICAL\x20LOOP\x20ERROR.\x20Please\x20refresh.</p>','translate','padStart','rgba(255,\x20200,\x2080,\x20','</p></div>','rotate','style','font','1UP','complete','\x20PTS','rgba(0,\x200,\x200,\x200.8)','START\x20GAME','Error\x20returning\x20to\x20menu.\x20Please\x20refresh\x20the\x20page.','startsWith','tintProgress','LOGO','1P_VS_AI_NORMAL','PLAYER\x20&\x20AI\x20READY!','random','default','hasCapturedShip','log','capturedShipY','Critical\x20error\x20starting\x20game!','load','fillText','round','yellow','CLASSIC_1P','Error\x20in\x20baseStartGame:','source-over','following_bezier_path','AudioContext\x20resumed\x20by\x20canvas\x20click.','save','Error\x20stopping\x20auto\x20demo\x20timer:','bold\x2018px\x20\x27Press\x20Start\x202P\x27','6jIjlNk','map','defineChallengingStagePaths','click','body','FATAL\x20RENDER\x20ERROR.','undefined','lighter','resume','rgba(0,\x200,\x20139,\x200.5)','STAGE','Error\x20starting\x20auto\x20demo\x20timer:','cursor','getBoundingClientRect','length','error','STAGE\x20','add','radius','STAGE\x20CLEARED','Cannot\x20add\x20canvas\x20listeners:\x20gameCanvas\x20not\x20found\x20during\x20init.','abs','middle','resetGame','atan2','warn','Error\x20drawing\x20enemy:','startMainLoop','SCORE','normal','PUSH\x20START\x20BUTTON','1597128TgMUnC','SHOTS\x20FIRED','globalCompositeOperation','touches','axes','blue','coop','DEMO-1','GAME\x20OVER','toFixed','keydown','close','AI\x20P2','20px\x20\x27Press\x20Start\x202P\x27','displayStartTime','isArray','menuMusicSound','createLinearGradient','sin','function','HIT-MISS-RATIO','arc','height','10155420jgRMwP','number','NORMAL\x20GAME','then','30px\x20Arial','grey','resizeCanvases\x20not\x20found!','!!!\x20CRITICAL\x20ERROR\x20IN\x20mainLoop:','FATAL\x20INITIALIZATION\x20ERROR:','center','DEMO','Error\x20in\x20renderGame:','2UP','top','showing_capture_message','width','drawImage','capturedShipDimensions','PLAYERS\x20READY!','Platini2000(c)\x20LTD','entranceSound','\x20EXT\x20LIFE\x20FOR\x20EVERY\x20','saveHighScore','forEach','changedTouches','shadowBlur','5573120fbRgqa','NORMAL','keyup','shadowColor','32lUGDoB','addColorStop','val','message','NUMBER\x20OF\x20HITS','READY?','CHALLENGING\x20STAGE','DEMO\x20PLAYERS\x20READY!','beginPath','HIGH\x20SCORE','mousemove','22px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif','2025\x20\x20\x20Platini2000(c)\x20\x20\x20LTD','<div\x20style=\x22color:white;\x20padding:\x2020px;\x20font-family:\x20sans-serif;\x22><h1>Fatal\x20Initialization\x20Error</h1><p>The\x20game\x20could\x20not\x20be\x20started.\x20Please\x20check\x20the\x20browser\x20console\x20(F12)\x20for\x20details.</p><p>Error:\x20','moveTo','globalAlpha','WINS','997276JXnjTE','start','rotation','naturalWidth','18px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif','textAlign','slice','clientY','clientX','AI\x20PLAYER\x202','gamepadconnected','touch','defineChallengingStagePaths\x20not\x20found!','color','alpha','white','PLAYER\x202','loadHighScore','initializeDOMElements\x20function\x20not\x20found!','shadowOffsetY','runSingleGameUpdate','naturalHeight','1P_VS_AI_COOP','DOM\x20element\x20initialization\x20failed.','-\x20RESULTS\x20-','velocityX','524rKVrYJ','targetX','clearRect','red','particles','type','explosionSound','fill','end','55wRweel','Cannot\x20start\x20game\x20-\x20canvas\x20not\x20ready.','165BHMKZP','Written\x20By\x20Platini2000(c)','Error\x20rendering\x20floatingScores:','size','measureText','suspended','cyan','BONUS\x20','Error\x20in\x20pollControllerForMenu:','restore','floor','PAUSED','state','capturedShipX','textBaseline','right','object','1191DIXsNn','text','rgba(0,\x20191,\x20255,\x200.9)','attacking','toUpperCase','now','hasOwnProperty','PLAYER\x20','Error\x20rendering\x20explosions:','Error\x20creating\x20explosion:','pressed','window.close()\x20failed:','none','PERFECT\x20!','EXTRA\x20LIFE','min','has','FATAL:\x20window.runSingleGameUpdate\x20is\x20not\x20defined!','addEventListener','green','DEMO-2','449862nFacWo','buttons','373823ARGbNi','orange','EASY'];_0x5279=function(){return _0x4d35e6;};return _0x5279();}function stopGameAndShowMenu(){const _0x422536=_0x2a8fa4;isPaused=![];if(isManualControl){if(typeof window['saveHighScore']===_0x422536(0x22a))window[_0x422536(0x244)]();else saveHighScore();}showMenuState();}function exitGame(){const _0x120bfa=_0x2a8fa4;isPaused=![],stopAutoDemoTimer();if(typeof window[_0x120bfa(0x244)]==='function')window['saveHighScore']();else saveHighScore();isInGameState=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],showMenuState();try{window[_0x120bfa(0x222)](),setTimeout(()=>{if(!isInGameState)showMenuState();},0xc8);}catch(_0x26570c){console[_0x120bfa(0x207)](_0x120bfa(0x29e),_0x26570c),showMenuState();}}function triggerGameOver(){const _0x13db62=_0x2a8fa4;if(typeof window[_0x13db62(0x2b5)]===_0x13db62(0x22a))window[_0x13db62(0x2b5)]();else triggerFinalGameOverSequence();}function showScoreScreen(){const _0x5af58e=_0x2a8fa4;if(isInGameState||isShowingScoreScreen)return;isShowingScoreScreen=!![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],selectedOnePlayerGameVariant='',isPlayerTwoAI=![],scoreScreenStartTime=Date[_0x5af58e(0x298)](),selectedButtonIndex=-0x1,clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);}function goBackInMenu(){const _0x2a1a63=_0x2a8fa4;if(isFiringModeSelectMode){isFiringModeSelectMode=![];if(selectedOnePlayerGameVariant===_0x2a1a63(0x1f0))isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x0;else{if(selectedOnePlayerGameVariant==='1P_VS_AI_NORMAL'||selectedOnePlayerGameVariant===_0x2a1a63(0x273))isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=selectedOnePlayerGameVariant==='1P_VS_AI_COOP'?0x1:0x0;else isTwoPlayerMode&&!isPlayerTwoAI?(isGameModeSelectMode=!![],selectedButtonIndex=selectedGameMode===_0x2a1a63(0x21d)?0x1:0x0):(isPlayerSelectMode=!![],selectedButtonIndex=0x0);}selectedOnePlayerGameVariant='',isPlayerTwoAI=![],selectedGameMode=_0x2a1a63(0x215);}else{if(isOnePlayerVsAIGameTypeSelectMode)isOnePlayerVsAIGameTypeSelectMode=![],isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x1;else{if(isOnePlayerGameTypeSelectMode)isOnePlayerGameTypeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)isGameModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x1;else isPlayerSelectMode?(isPlayerSelectMode=![],selectedButtonIndex=0x0):triggerFullscreen();}}}startAutoDemoTimer();}function handleCanvasTouch(_0x27be6b,_0x3eb007,_0x5d6ee6=![]){const _0x1aba97=_0x2a8fa4;if(!gameCanvas)return;let _0x5b8c8d,_0x70287a;if(_0x27be6b[_0x1aba97(0x27c)][_0x1aba97(0x1e1)](_0x1aba97(0x268))){if(_0x27be6b[_0x1aba97(0x21a)]&&_0x27be6b[_0x1aba97(0x21a)]['length']>0x0)_0x5b8c8d=_0x27be6b[_0x1aba97(0x21a)][0x0][_0x1aba97(0x265)],_0x70287a=_0x27be6b[_0x1aba97(0x21a)][0x0][_0x1aba97(0x264)];else{if(_0x27be6b['changedTouches']&&_0x27be6b[_0x1aba97(0x246)][_0x1aba97(0x206)]>0x0)_0x5b8c8d=_0x27be6b['changedTouches'][0x0][_0x1aba97(0x265)],_0x70287a=_0x27be6b[_0x1aba97(0x246)][0x0][_0x1aba97(0x264)];else return;}}else{if(_0x27be6b[_0x1aba97(0x27c)][_0x1aba97(0x1e1)]('mouse'))_0x5b8c8d=_0x27be6b[_0x1aba97(0x265)],_0x70287a=_0x27be6b[_0x1aba97(0x264)];else return;}const _0x41fe8d=gameCanvas[_0x1aba97(0x205)](),_0x134b7d=gameCanvas[_0x1aba97(0x23d)]/_0x41fe8d['width'],_0x2e623b=gameCanvas[_0x1aba97(0x22d)]/_0x41fe8d[_0x1aba97(0x22d)],_0x3ae3db=(_0x5b8c8d-_0x41fe8d[_0x1aba97(0x2b7)])*_0x134b7d,_0x3d1276=(_0x70287a-_0x41fe8d['top'])*_0x2e623b,_0x2457c7=Date[_0x1aba97(0x298)]();if(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0){touchedMenuButtonIndex=-0x1;return;}if(isInGameState){}else{if(isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen){if(_0x3eb007===_0x1aba97(0x27f)&&_0x5d6ee6){if(typeof showMenuState==='function')showMenuState();}}else{if(!isShowingScoreScreen){stopAutoDemoTimer();const _0x23d979=getMenuButtonRect(0x0),_0x1961b9=getMenuButtonRect(0x1);let _0x58d588=-0x1;if(_0x23d979&&checkCollision({'x':_0x3ae3db,'y':_0x3d1276,'width':0x1,'height':0x1},_0x23d979))_0x58d588=0x0;else _0x1961b9&&checkCollision({'x':_0x3ae3db,'y':_0x3d1276,'width':0x1,'height':0x1},_0x1961b9)&&(_0x58d588=0x1);if(_0x3eb007===_0x1aba97(0x25e))isTouchActiveMenu=!![],touchedMenuButtonIndex=_0x58d588,selectedButtonIndex=_0x58d588;else{if(_0x3eb007===_0x1aba97(0x2b4)){if(_0x27be6b[_0x1aba97(0x27c)]===_0x1aba97(0x256))selectedButtonIndex=_0x58d588;else{if(touchedMenuButtonIndex!==-0x1&&_0x58d588!==touchedMenuButtonIndex)selectedButtonIndex=-0x1;else touchedMenuButtonIndex!==-0x1&&(selectedButtonIndex=_0x58d588);}}else{if(_0x3eb007==='end'&&_0x27be6b[_0x1aba97(0x27c)]['startsWith'](_0x1aba97(0x268))){isTouchActiveMenu=![];if(_0x5d6ee6&&_0x58d588!==-0x1&&_0x58d588===touchedMenuButtonIndex){selectedButtonIndex=_0x58d588;if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P();else{if(isOnePlayerGameTypeSelectMode)selectedButtonIndex===0x0?(isOnePlayerGameTypeSelectMode=![],isFiringModeSelectMode=!![],selectedOnePlayerGameVariant=_0x1aba97(0x1f0),selectedGameMode=_0x1aba97(0x215),isTwoPlayerMode=![],isPlayerTwoAI=![],selectedButtonIndex=0x0):(isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=0x0);else{if(isOnePlayerVsAIGameTypeSelectMode)selectedButtonIndex===0x0?(selectedOnePlayerGameVariant='1P_VS_AI_NORMAL',selectedGameMode=_0x1aba97(0x215)):(selectedOnePlayerGameVariant=_0x1aba97(0x273),selectedGameMode=_0x1aba97(0x21d)),isOnePlayerVsAIGameTypeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)selectedButtonIndex===0x0?selectedGameMode=_0x1aba97(0x215):selectedGameMode=_0x1aba97(0x21d),isGameModeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=![],selectedButtonIndex=0x0;else{if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode='rapid':selectedFiringMode='single',baseStartGame(!![]);else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],selectedButtonIndex=0x0;else{if(selectedButtonIndex===0x1){if(typeof exitGame===_0x1aba97(0x22a))exitGame();}}}}}}}}else _0x5d6ee6&&_0x58d588===-0x1&&touchedMenuButtonIndex===-0x1&&goBackInMenu();touchedMenuButtonIndex=-0x1;}}}if(_0x3eb007!==_0x1aba97(0x27f)&&_0x58d588!==-0x1)stopAutoDemoTimer();else(_0x3eb007===_0x1aba97(0x27f)||_0x3eb007===_0x1aba97(0x2b4)&&_0x58d588===-0x1)&&startAutoDemoTimer();}}}}function handleCanvasClick(_0x188db4){const _0x199a67=_0x2a8fa4;if(!gameCanvas)return;audioContext&&audioContext['state']===_0x199a67(0x287)&&audioContext[_0x199a67(0x200)]()['then'](()=>{const _0x44cf9a=_0x199a67;audioContextInitialized=!![],console[_0x44cf9a(0x1e9)](_0x44cf9a(0x1f4));});if(isInGameState){if(isPaused){if(typeof togglePause===_0x199a67(0x22a))togglePause();return;}}else{if(isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen){if(typeof showMenuState===_0x199a67(0x22a))showMenuState();}else{if(!isShowingScoreScreen){stopAutoDemoTimer();const _0x273bf1=gameCanvas['getBoundingClientRect'](),_0x24e40a=gameCanvas[_0x199a67(0x23d)]/_0x273bf1[_0x199a67(0x23d)],_0x3e71ad=gameCanvas[_0x199a67(0x22d)]/_0x273bf1[_0x199a67(0x22d)],_0x520ecf=(_0x188db4[_0x199a67(0x265)]-_0x273bf1[_0x199a67(0x2b7)])*_0x24e40a,_0x1cd681=(_0x188db4['clientY']-_0x273bf1['top'])*_0x3e71ad;let _0x49d1d4=-0x1;const _0x2bfd88=getMenuButtonRect(0x0),_0x135a9d=getMenuButtonRect(0x1);if(_0x2bfd88&&checkCollision({'x':_0x520ecf,'y':_0x1cd681,'width':0x1,'height':0x1},_0x2bfd88))_0x49d1d4=0x0;else _0x135a9d&&checkCollision({'x':_0x520ecf,'y':_0x1cd681,'width':0x1,'height':0x1},_0x135a9d)&&(_0x49d1d4=0x1);if(_0x49d1d4!==-0x1){selectedButtonIndex=_0x49d1d4;if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P();else{if(isOnePlayerGameTypeSelectMode)selectedButtonIndex===0x0?(isOnePlayerGameTypeSelectMode=![],isFiringModeSelectMode=!![],selectedOnePlayerGameVariant='CLASSIC_1P',selectedGameMode=_0x199a67(0x215),isTwoPlayerMode=![],isPlayerTwoAI=![],selectedButtonIndex=0x0):(isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=0x0);else{if(isOnePlayerVsAIGameTypeSelectMode)selectedButtonIndex===0x0?(selectedOnePlayerGameVariant=_0x199a67(0x1e4),selectedGameMode=_0x199a67(0x215)):(selectedOnePlayerGameVariant=_0x199a67(0x273),selectedGameMode=_0x199a67(0x21d)),isOnePlayerVsAIGameTypeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)selectedButtonIndex===0x0?selectedGameMode=_0x199a67(0x215):selectedGameMode=_0x199a67(0x21d),isGameModeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=![],selectedButtonIndex=0x0;else{if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x199a67(0x1d1):selectedFiringMode='single',baseStartGame(!![]);else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],selectedButtonIndex=0x0;else{if(selectedButtonIndex===0x1){if(typeof exitGame===_0x199a67(0x22a))exitGame();}}}}}}}}else goBackInMenu();startAutoDemoTimer();}}}}function createExplosion(_0x4c5ca0,_0x2776ea){const _0x3b8a46=_0x2a8fa4;try{playSound(_0x3b8a46(0x27d),![],0.4);let _0x5ddc4b=[];for(let _0x136952=0x0;_0x136952<EXPLOSION_PARTICLE_COUNT;_0x136952++){const _0xa30f01=Math[_0x3b8a46(0x1e6)]()*Math['PI']*0x2,_0x546e05=Math[_0x3b8a46(0x1e6)]()*(EXPLOSION_MAX_SPEED-EXPLOSION_MIN_SPEED)+EXPLOSION_MIN_SPEED;_0x5ddc4b[_0x3b8a46(0x2be)]({'x':_0x4c5ca0,'y':_0x2776ea,'vx':Math['cos'](_0xa30f01)*_0x546e05,'vy':Math[_0x3b8a46(0x229)](_0xa30f01)*_0x546e05,'radius':EXPLOSION_PARTICLE_RADIUS,'alpha':0x1});}explosions['push']({'creationTime':Date[_0x3b8a46(0x298)](),'duration':EXPLOSION_DURATION,'particles':_0x5ddc4b});}catch(_0x3e15c4){console['error'](_0x3b8a46(0x29c),_0x3e15c4);}}function renderExplosions(){const _0x299507=_0x2a8fa4;try{if(!gameCtx)return;gameCtx['save'](),gameCtx[_0x299507(0x219)]='lighter',explosions['forEach'](_0x7fa963=>{const _0x20f5ff=_0x299507;_0x7fa963[_0x20f5ff(0x27b)][_0x20f5ff(0x245)](_0x184d29=>{const _0x16305c=_0x20f5ff,_0x117d7e=_0x184d29['alpha']*EXPLOSION_MAX_OPACITY;_0x117d7e>0.01&&(gameCtx['beginPath'](),gameCtx[_0x16305c(0x22c)](Math[_0x16305c(0x1ee)](_0x184d29['x']),Math['round'](_0x184d29['y']),_0x184d29[_0x16305c(0x20a)],0x0,Math['PI']*0x2),gameCtx[_0x16305c(0x2ad)]=_0x16305c(0x1d6)+_0x117d7e[_0x16305c(0x220)](0x3)+')',gameCtx[_0x16305c(0x27e)]());});}),gameCtx[_0x299507(0x28b)]();}catch(_0x1c2be9){console[_0x299507(0x207)](_0x299507(0x29b),_0x1c2be9);}}function drawCanvasText(_0x10b8da,_0x59868a,_0x4009a6,_0x24657d,_0x40f01c,_0x388920=_0x2a8fa4(0x237),_0xfc42cd=_0x2a8fa4(0x20e),_0x4ae8af=![]){const _0x134cc=_0x2a8fa4;if(!gameCtx)return;gameCtx[_0x134cc(0x1f5)](),gameCtx['font']=_0x24657d,gameCtx['fillStyle']=_0x40f01c,gameCtx[_0x134cc(0x262)]=_0x388920,gameCtx['textBaseline']=_0xfc42cd,_0x4ae8af&&(gameCtx[_0x134cc(0x24b)]=_0x134cc(0x1de),gameCtx[_0x134cc(0x247)]=0x8,gameCtx['shadowOffsetX']=0x3,gameCtx[_0x134cc(0x270)]=0x3),gameCtx[_0x134cc(0x1ed)](_0x10b8da,_0x59868a,_0x4009a6),gameCtx[_0x134cc(0x28b)]();}function drawCanvasButton(_0x1fbacb,_0xe18cd,_0x4a8341){const _0x1edd34=_0x2a8fa4;if(!gameCtx)return;const _0x5ab8ea=getMenuButtonRect(_0xe18cd);if(!_0x5ab8ea)return;gameCtx['save'](),drawCanvasText(_0x1fbacb,_0x5ab8ea['x']+_0x5ab8ea[_0x1edd34(0x23d)]/0x2,_0x5ab8ea['y']+_0x5ab8ea[_0x1edd34(0x22d)]/0x2,MENU_BUTTON_FONT,_0x4a8341?MENU_BUTTON_COLOR_HOVER:MENU_BUTTON_COLOR,_0x1edd34(0x237),_0x1edd34(0x20e)),gameCtx[_0x1edd34(0x28b)]();}function renderFloatingScores(){const _0x16f753=_0x2a8fa4;try{if(!gameCtx||!floatingScores||floatingScores['length']===0x0)return;const _0x100e58=Date[_0x16f753(0x298)]();gameCtx['save'](),gameCtx[_0x16f753(0x25b)]=FLOATING_SCORE_OPACITY,floatingScores[_0x16f753(0x245)](_0x59352a=>{const _0x354f27=_0x16f753;_0x100e58>=_0x59352a[_0x354f27(0x225)]&&drawCanvasText(_0x59352a[_0x354f27(0x294)],_0x59352a['x'],_0x59352a['y'],FLOATING_SCORE_FONT,_0x59352a[_0x354f27(0x26a)],_0x354f27(0x237),_0x354f27(0x20e),![]);}),gameCtx[_0x16f753(0x25b)]=0x1,gameCtx['restore']();}catch(_0x3caffe){console[_0x16f753(0x207)](_0x16f753(0x284),_0x3caffe);}}function renderHitSparks(){const _0x480583=_0x2a8fa4;if(!gameCtx||!hitSparks||hitSparks['length']===0x0)return;gameCtx[_0x480583(0x1f5)](),gameCtx[_0x480583(0x219)]=_0x480583(0x1ff),hitSparks[_0x480583(0x245)](_0x38a506=>{const _0x4a51c7=_0x480583;if(_0x38a506&&_0x38a506[_0x4a51c7(0x26b)]>0.01){gameCtx[_0x4a51c7(0x2ad)]=_0x38a506['color'],gameCtx[_0x4a51c7(0x25b)]=_0x38a506[_0x4a51c7(0x26b)],gameCtx['beginPath']();const _0x590a93=_0x38a506['size']*Math['sqrt'](_0x38a506['alpha']);gameCtx['arc'](Math[_0x4a51c7(0x1ee)](_0x38a506['x']),Math[_0x4a51c7(0x1ee)](_0x38a506['y']),Math[_0x4a51c7(0x2b1)](0.5,_0x590a93/0x2),0x0,Math['PI']*0x2),gameCtx[_0x4a51c7(0x27e)]();}}),gameCtx[_0x480583(0x25b)]=0x1,gameCtx[_0x480583(0x28b)]();}function renderGame(){const _0x347ad0=_0x2a8fa4;try{if(!gameCtx||!gameCanvas){if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;return;}gameCtx[_0x347ad0(0x279)](0x0,0x0,gameCanvas['width'],gameCanvas[_0x347ad0(0x22d)]);const _0x43dfb5=Date[_0x347ad0(0x298)]();gameCtx['save']();const _0x11f1d5=_0x347ad0(0x224),_0x459579=_0x347ad0(0x27a),_0xf46eb=_0x347ad0(0x26c),_0x530acc=0x5,_0x560e77=0x2;gameCtx[_0x347ad0(0x1da)]=_0x11f1d5,gameCtx[_0x347ad0(0x290)]=_0x347ad0(0x23b);const _0x4e5688=(_0xa0ff0a,_0xac4d2c,_0x505c46,_0x452d37,_0x2b3c0b=![])=>{const _0x266935=_0x347ad0;let _0x20a647=!![],_0x45baba=UI_1UP_BLINK_ON_MS*1.5,_0x5c7094=UI_1UP_BLINK_CYCLE_MS*1.5;if(_0xa0ff0a===_0x266935(0x238)||_0xa0ff0a===_0x266935(0x21e)||_0xa0ff0a==='DEMO-2'||_0xa0ff0a==='AI\x20P2')_0x45baba=DEMO_TEXT_BLINK_ON_MS*0.7,_0x5c7094=DEMO_TEXT_BLINK_CYCLE_MS;else _0xa0ff0a===_0x266935(0x255)&&(_0x45baba=UI_1UP_BLINK_ON_MS*1.5,_0x5c7094=UI_1UP_BLINK_CYCLE_MS*1.5,isInGameState&&(!isManualControl||isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode==='coop')&&(_0x45baba=DEMO_TEXT_BLINK_ON_MS*0.7,_0x5c7094=DEMO_TEXT_BLINK_CYCLE_MS));let _0x45def5=isShowingPlayerGameOverMessage||isTwoPlayerMode&&selectedGameMode===_0x266935(0x21d)&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage);_0x2b3c0b&&((isPaused||gameOverSequenceStartTime>0x0||_0x45def5||!(_0x43dfb5%_0x5c7094<_0x45baba))&&(_0x20a647=![]));_0x20a647&&(gameCtx[_0x266935(0x2ad)]=_0x459579,gameCtx[_0x266935(0x262)]=_0x505c46,gameCtx['fillText'](_0xa0ff0a,_0x452d37,MARGIN_TOP));const _0x231704=gameCtx[_0x266935(0x286)](_0xa0ff0a)['width'];let _0x2276d5;if(_0x505c46===_0x266935(0x2b7))_0x2276d5=_0x452d37+_0x231704/0x2;else{if(_0x505c46===_0x266935(0x291))_0x2276d5=_0x452d37-_0x231704/0x2;else _0x2276d5=_0x452d37;}gameCtx[_0x266935(0x2ad)]=_0xf46eb,gameCtx['textAlign']=_0x266935(0x237);let _0x4a89b4=MARGIN_TOP+SCORE_OFFSET_Y+0x5;_0xa0ff0a===_0x266935(0x255)&&(_0x2276d5=_0x452d37);const _0x253e9c=typeof _0xac4d2c===_0x266935(0x22f)?_0xac4d2c[_0x266935(0x220)](0x0):String(_0xac4d2c);gameCtx['fillText'](_0x253e9c,_0x2276d5,_0x4a89b4);};let _0x4cac5b,_0x1927b4,_0x2b9981,_0x1baef5,_0x30efb4=_0x347ad0(0x23a),_0x496aa2=![],_0x4e5f6f=![],_0xc2789a=![],_0x208f0b=isTwoPlayerMode&&selectedGameMode==='coop'&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage);_0x1927b4=0x0;const _0x5005f3=isTwoPlayerMode||isPlayerTwoAI&&selectedGameMode===_0x347ad0(0x21d);if(_0x5005f3){if(selectedGameMode===_0x347ad0(0x21d)&&isInGameState){_0x1927b4=player2Score;if(isCoopAIDemoActive)_0x30efb4=_0x347ad0(0x2a7);else{if(isPlayerTwoAI&&selectedOnePlayerGameVariant===_0x347ad0(0x273))_0x30efb4=_0x347ad0(0x223);else _0x30efb4='2UP';}}else{if(selectedGameMode===_0x347ad0(0x215)&&isInGameState)_0x1927b4=currentPlayer===0x2?score:player2Score,isPlayerTwoAI&&(_0x30efb4=_0x347ad0(0x223));else{if(isShowingResultsScreen||gameOverSequenceStartTime>0x0&&!isShowingPlayerGameOverMessage&&!_0x208f0b||isShowingPlayerGameOverMessage||_0x208f0b){_0x1927b4=player2Score||0x0;if(isCoopAIDemoActive&&wasLastGameAIDemo)_0x30efb4=_0x347ad0(0x2a7);else{if(isPlayerTwoAI&&wasLastGameAIDemo&&selectedGameMode===_0x347ad0(0x21d))_0x30efb4='AI\x20P2';else{if(isPlayerTwoAI&&wasLastGameAIDemo)_0x30efb4=_0x347ad0(0x223);else{if(isPlayerTwoAI&&!wasLastGameAIDemo&&selectedGameMode==='coop')_0x30efb4=_0x347ad0(0x223);else isPlayerTwoAI&&!wasLastGameAIDemo&&(_0x30efb4=_0x347ad0(0x223));}}}}else{if(!isInGameState){_0x1927b4=0x0;if(isPlayerSelectMode&&selectedButtonIndex===0x1)_0x30efb4=_0x347ad0(0x23a);else{if(isOnePlayerVsAIGameTypeSelectMode&&selectedButtonIndex===0x1||isFiringModeSelectMode&&isPlayerTwoAI&&selectedGameMode===_0x347ad0(0x21d))_0x30efb4=_0x347ad0(0x223);else{if(isOnePlayerVsAIGameTypeSelectMode&&selectedButtonIndex===0x0&&isFiringModeSelectMode&&isPlayerTwoAI||isFiringModeSelectMode&&isPlayerTwoAI&&selectedGameMode===_0x347ad0(0x215))_0x30efb4=_0x347ad0(0x223);else _0x30efb4=_0x347ad0(0x23a);}}}}}}}else _0x30efb4=_0x347ad0(0x23a),_0x1927b4=0x0;if(isShowingResultsScreen){_0x4cac5b=player1Score||0x0,_0x2b9981=highScore||0x4e20,_0x2b9981=Math[_0x347ad0(0x2b1)](_0x2b9981,_0x4cac5b,_0x1927b4),_0x1baef5=wasLastGameAIDemo&&!isCoopAIDemoActive&&!(isPlayerTwoAI&&selectedGameMode===_0x347ad0(0x21d))?_0x347ad0(0x238):isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode===_0x347ad0(0x21d)?_0x347ad0(0x21e):_0x347ad0(0x1db);if(isPlayerTwoAI&&!isCoopAIDemoActive&&wasLastGameAIDemo&&selectedGameMode===_0x347ad0(0x215))_0x1baef5=_0x347ad0(0x1db);_0xc2789a=![],_0x496aa2=![],_0x4e5f6f=![];}else{if(gameOverSequenceStartTime>0x0&&!isShowingPlayerGameOverMessage&&!_0x208f0b){_0x4cac5b=player1Score||0x0,_0x2b9981=highScore||0x4e20,_0x2b9981=Math[_0x347ad0(0x2b1)](_0x2b9981,_0x4cac5b,_0x1927b4),_0x1baef5=wasLastGameAIDemo&&!isCoopAIDemoActive&&!(isPlayerTwoAI&&selectedGameMode===_0x347ad0(0x21d))?'DEMO':isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode===_0x347ad0(0x21d)?'DEMO-1':_0x347ad0(0x1db);if(isPlayerTwoAI&&!isCoopAIDemoActive&&wasLastGameAIDemo&&selectedGameMode===_0x347ad0(0x215))_0x1baef5=_0x347ad0(0x1db);_0xc2789a=![],_0x496aa2=![],_0x4e5f6f=![];}else{if(isShowingPlayerGameOverMessage||_0x208f0b){_0x4cac5b=player1Score||0x0,_0x2b9981=highScore||0x4e20,_0x2b9981=Math[_0x347ad0(0x2b1)](_0x2b9981,_0x4cac5b,_0x1927b4),_0x1baef5=isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode===_0x347ad0(0x21d)?_0x347ad0(0x21e):_0x347ad0(0x1db);if(isPlayerTwoAI&&!isCoopAIDemoActive&&selectedGameMode==='normal'&&playerWhoIsGameOver===0x1)_0x1baef5='1UP';_0xc2789a=![],_0x496aa2=![],_0x4e5f6f=![];}else{if(!isInGameState)_0x4cac5b=0x0,_0x2b9981=highScore||0x4e20,_0x1baef5=_0x347ad0(0x1db),_0xc2789a=![],_0x496aa2=![],_0x4e5f6f=![];else{_0x2b9981=highScore||0x0;const _0x2aec62=!isPaused&&!isShowingCoopPlayersReady;if(isCoopAIDemoActive){_0x4cac5b=player1Score,_0x2b9981=Math[_0x347ad0(0x2b1)](highScore,player1Score,player2Score),_0x1baef5=_0x347ad0(0x21e),_0x496aa2=_0x2aec62&&!isShowingIntro&&player1Lives>0x0&&ship1&&!isPlayer1ShipCaptured&&!isPlayer1WaitingForRespawn&&!isPlayer1ShowingGameOverMessage,_0x4e5f6f=_0x2aec62&&!isShowingIntro&&player2Lives>0x0&&ship2&&!isPlayer2ShipCaptured&&!isPlayer2WaitingForRespawn&&!isPlayer2ShowingGameOverMessage;if(player1Score>=_0x2b9981&&player1Score>0x0&&!isPlayer1ShowingGameOverMessage)_0xc2789a=_0x496aa2;if(player2Score>=_0x2b9981&&player2Score>0x0&&player2Score>=player1Score&&!isPlayer2ShowingGameOverMessage)_0xc2789a=_0x4e5f6f;}else{if(!isManualControl)_0x4cac5b=score,_0x2b9981=Math[_0x347ad0(0x2b1)](_0x2b9981,score),_0x1baef5=_0x347ad0(0x238),_0x496aa2=_0x2aec62&&!isShowingIntro&&!isShipCaptured&&playerLives>0x0&&!_0x208f0b,_0xc2789a=_0x2aec62&&!isShowingIntro&&score>0x0&&_0x2b9981>0x0&&score>=_0x2b9981&&!_0x208f0b;else{_0x1baef5=_0x347ad0(0x1db);if(isTwoPlayerMode&&selectedGameMode===_0x347ad0(0x21d)){_0x4cac5b=player1Score,_0x2b9981=Math[_0x347ad0(0x2b1)](highScore,player1Score,player2Score),_0x496aa2=_0x2aec62&&!isShowingIntro&&player1Lives>0x0&&ship1&&!isPlayer1ShipCaptured&&!isPlayer1WaitingForRespawn&&!isPlayer1ShowingGameOverMessage,_0x4e5f6f=_0x2aec62&&!isShowingIntro&&player2Lives>0x0&&ship2&&!isPlayer2ShipCaptured&&!isPlayer2WaitingForRespawn&&!isPlayer2ShowingGameOverMessage&&(isPlayerTwoAI?player2Lives>0x0:!![]);if(player1Score>=_0x2b9981&&player1Score>0x0&&!isPlayer1ShowingGameOverMessage)_0xc2789a=_0x496aa2;if(player2Score>=_0x2b9981&&player2Score>0x0&&player2Score>=player1Score&&!isPlayer2ShowingGameOverMessage&&(isPlayerTwoAI?player2Lives>0x0:!![]))_0xc2789a=_0x4e5f6f;}else isTwoPlayerMode&&selectedGameMode==='normal'?(_0x4cac5b=currentPlayer===0x1?score:player1Score,_0x2b9981=Math[_0x347ad0(0x2b1)](highScore,player1Score,player2Score,score),_0x496aa2=_0x2aec62&&!isShowingIntro&&currentPlayer===0x1&&playerLives>0x0&&!isShipCaptured&&!isWaitingForRespawn&&!isShowingPlayerGameOverMessage,_0x4e5f6f=_0x2aec62&&!isShowingIntro&&currentPlayer===0x2&&playerLives>0x0&&!isShipCaptured&&!isWaitingForRespawn&&!isShowingPlayerGameOverMessage&&(isPlayerTwoAI?playerLives>0x0:!![]),_0xc2789a=_0x2aec62&&!isShowingIntro&&score>0x0&&_0x2b9981>0x0&&score>=_0x2b9981&&!isShowingPlayerGameOverMessage):(_0x4cac5b=score,_0x2b9981=Math[_0x347ad0(0x2b1)](_0x2b9981,score),_0x496aa2=_0x2aec62&&!isShowingIntro&&playerLives>0x0&&!isShipCaptured&&!isWaitingForRespawn&&!isShowingPlayerGameOverMessage,_0xc2789a=_0x2aec62&&!isShowingIntro&&score>0x0&&_0x2b9981>0x0&&score>=_0x2b9981&&!isShowingPlayerGameOverMessage);}}}}}}isHighScoreBlinkingNow=![];if(_0xc2789a){if(!isManualControl||isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode==='coop'){isHighScoreBlinkingNow=player1Score>=_0x2b9981&&player1Score>0x0&&_0x496aa2&&!isPlayer1ShowingGameOverMessage||(isCoopAIDemoActive||isPlayerTwoAI&&selectedGameMode===_0x347ad0(0x21d))&&player2Score>=_0x2b9981&&player2Score>0x0&&_0x4e5f6f&&!isPlayer2ShowingGameOverMessage;if(!isCoopAIDemoActive&&!isManualControl&&!isPlayerTwoAI)isHighScoreBlinkingNow=_0x496aa2;}else{if(isTwoPlayerMode&&selectedGameMode==='coop')isHighScoreBlinkingNow=player1Score>=_0x2b9981&&player1Score>0x0&&_0x496aa2&&!isPlayer1ShowingGameOverMessage||player2Score>=_0x2b9981&&player2Score>0x0&&_0x4e5f6f&&!isPlayer2ShowingGameOverMessage;else isTwoPlayerMode&&selectedGameMode===_0x347ad0(0x215)?isHighScoreBlinkingNow=score>=_0x2b9981&&score>0x0&&(currentPlayer===0x1&&_0x496aa2||currentPlayer===0x2&&_0x4e5f6f&&(!isPlayerTwoAI||isPlayerTwoAI&&playerLives>0x0))&&!isShowingPlayerGameOverMessage:isHighScoreBlinkingNow=_0x496aa2;}}typeof MARGIN_SIDE!==_0x347ad0(0x1fe)&&typeof MARGIN_TOP!==_0x347ad0(0x1fe)&&typeof SCORE_OFFSET_Y!==_0x347ad0(0x1fe)&&(_0x4e5688(_0x1baef5,_0x4cac5b,_0x347ad0(0x2b7),MARGIN_SIDE,_0x496aa2),_0x4e5688(_0x347ad0(0x255),_0x2b9981,_0x347ad0(0x237),gameCanvas[_0x347ad0(0x23d)]/0x2,isHighScoreBlinkingNow),_0x4e5688(_0x30efb4,_0x1927b4,'right',gameCanvas['width']-MARGIN_SIDE,_0x4e5f6f));const _0x5a3339=isShowingResultsScreen&&isTwoPlayerMode&&selectedGameMode===_0x347ad0(0x215);if(typeof shipImage!==_0x347ad0(0x1fe)&&typeof LIFE_ICON_MARGIN_BOTTOM!==_0x347ad0(0x1fe)&&typeof LIFE_ICON_SIZE!==_0x347ad0(0x1fe)&&typeof LIFE_ICON_MARGIN_LEFT!=='undefined'&&typeof LIFE_ICON_SPACING!==_0x347ad0(0x1fe)){if(shipImage['complete']&&shipImage['naturalHeight']!==0x0){const _0x540619=gameCanvas[_0x347ad0(0x22d)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE;let _0x495f39=0x0,_0x536ccb=0x0;const _0x43632a=!isTwoPlayerMode&&selectedGameMode===_0x347ad0(0x215),_0x24acbc=_0x43632a&&(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0||isShowingResultsScreen);if(_0x24acbc)_0x495f39=_0x560e77;else{if(_0x5a3339)_0x495f39=_0x560e77;else{if(!isInGameState||isShowingScoreScreen||isShowingPlayerGameOverMessage||isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage||gameOverSequenceStartTime>0x0)_0x495f39=player1Lives<=0x0?0x0:_0x560e77;else{if(isTwoPlayerMode&&selectedGameMode==='coop')_0x495f39=player1Lives>0x0?Math[_0x347ad0(0x2b1)](0x0,player1Lives-0x1):0x0;else isTwoPlayerMode&&selectedGameMode===_0x347ad0(0x215)?currentPlayer===0x1?_0x495f39=playerLives>0x0?Math['max'](0x0,playerLives-0x1):0x0:_0x495f39=player1Lives>0x0?Math[_0x347ad0(0x2b1)](0x0,player1Lives-0x1):0x0:_0x495f39=playerLives>0x0?Math[_0x347ad0(0x2b1)](0x0,playerLives-0x1):0x0;}}}if(_0x495f39>0x0){let _0x27ff29=LIFE_ICON_MARGIN_LEFT;for(let _0x1f3fdc=0x0;_0x1f3fdc<Math[_0x347ad0(0x2a2)](_0x495f39,_0x530acc);_0x1f3fdc++){const _0x180317=_0x27ff29+_0x1f3fdc*(LIFE_ICON_SIZE+LIFE_ICON_SPACING);gameCtx[_0x347ad0(0x23e)](shipImage,Math[_0x347ad0(0x1ee)](_0x180317),Math[_0x347ad0(0x1ee)](_0x540619),LIFE_ICON_SIZE,LIFE_ICON_SIZE);}}if(!_0x5a3339){if(!isInGameState||isShowingScoreScreen||isShowingPlayerGameOverMessage||isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage||gameOverSequenceStartTime>0x0)(_0x5005f3||!isInGameState&&(!isPlayerSelectMode||selectedButtonIndex===0x1))&&(_0x536ccb=player2Lives<=0x0?0x0:_0x560e77);else{if(isTwoPlayerMode&&selectedGameMode===_0x347ad0(0x21d))_0x536ccb=player2Lives>0x0?Math['max'](0x0,player2Lives-0x1):0x0;else isTwoPlayerMode&&selectedGameMode==='normal'&&(currentPlayer===0x2?_0x536ccb=playerLives>0x0?Math[_0x347ad0(0x2b1)](0x0,playerLives-0x1):0x0:_0x536ccb=player2Lives>0x0?Math[_0x347ad0(0x2b1)](0x0,player2Lives-0x1):0x0);}const _0x3b47db=Math[_0x347ad0(0x2a2)](_0x536ccb,_0x530acc),_0x25fbd0=!isInGameState&&(isPlayerSelectMode&&selectedButtonIndex===0x1||isGameModeSelectMode&&(selectedButtonIndex===0x0||selectedButtonIndex===0x1)||isFiringModeSelectMode&&isTwoPlayerMode&&!isPlayerTwoAI),_0x474e2c=!isInGameState&&(isOnePlayerVsAIGameTypeSelectMode&&selectedButtonIndex===0x1||isFiringModeSelectMode&&isPlayerTwoAI&&selectedGameMode===_0x347ad0(0x21d));if(_0x3b47db>0x0&&(_0x5005f3&&isInGameState||_0x25fbd0||_0x474e2c)){const _0x4a9af0=_0x3b47db*LIFE_ICON_SIZE+Math[_0x347ad0(0x2b1)](0x0,_0x3b47db-0x1)*LIFE_ICON_SPACING,_0x5c18c9=gameCanvas['width']-(typeof LEVEL_ICON_MARGIN_RIGHT!=='undefined'?LEVEL_ICON_MARGIN_RIGHT:MARGIN_SIDE)-_0x4a9af0;for(let _0x99f365=0x0;_0x99f365<_0x3b47db;_0x99f365++){const _0x570b1f=_0x5c18c9+_0x99f365*(LIFE_ICON_SIZE+LIFE_ICON_SPACING);gameCtx[_0x347ad0(0x23e)](shipImage,Math['round'](_0x570b1f),Math[_0x347ad0(0x1ee)](_0x540619),LIFE_ICON_SIZE,LIFE_ICON_SIZE);}}}}}const _0x282869=[{'val':0x32,'img':level50Image},{'val':0x1e,'img':level30Image},{'val':0x14,'img':level20Image},{'val':0xa,'img':level10Image},{'val':0x5,'img':level5Image},{'val':0x1,'img':level1Image}],_0xf3f4fb=(_0x1a7ce6,_0x368e17)=>{const _0x44f2f8=_0x347ad0,_0x1ba02e=!isTwoPlayerMode&&selectedGameMode==='normal'&&(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0||isShowingResultsScreen);if(_0x5a3339&&_0x368e17||_0x1ba02e&&_0x368e17)return;let _0x1feaf4=Math['max'](0x1,_0x1a7ce6);if(_0x1feaf4<=0x0||typeof LEVEL_ICON_MARGIN_BOTTOM===_0x44f2f8(0x1fe)||typeof LEVEL_ICON_SIZE===_0x44f2f8(0x1fe)||typeof LEVEL_ICON_MARGIN_RIGHT===_0x44f2f8(0x1fe)||typeof LEVEL_ICON_SPACING===_0x44f2f8(0x1fe))return;let _0x29f5d2=_0x1feaf4,_0x1b529d=[],_0x15a14a=new Set();const _0x432fed=(_0x4f8b20,_0x78ba22,_0x11e928)=>{const _0x5f53cb=_0x44f2f8;let _0x1dc7d0=_0x4f8b20,_0x386cfa=new Set(_0x11e928);for(let _0x2954c5=_0x78ba22;_0x2954c5<_0x282869['length'];_0x2954c5++){const _0x255c39=_0x282869[_0x2954c5][_0x5f53cb(0x24e)];if(_0x1dc7d0>=_0x255c39){const _0x2fdf70=_0x386cfa[_0x5f53cb(0x285)]>=0x3&&!_0x386cfa['has'](_0x255c39);if(!_0x2fdf70||_0x255c39===0x1){const _0x21787a=Math[_0x5f53cb(0x28c)](_0x1dc7d0/_0x255c39);_0x1dc7d0-=_0x21787a*_0x255c39,_0x386cfa[_0x5f53cb(0x209)](_0x255c39);if(_0x1dc7d0===0x0)return!![];}}}return _0x1dc7d0===0x0;};for(let _0x265aa5=0x0;_0x265aa5<_0x282869[_0x44f2f8(0x206)]-0x1;_0x265aa5++){const _0x4810df=_0x282869[_0x265aa5],_0x1971f0=_0x4810df['val'],_0xa7db12=_0x4810df['img'];if(_0x29f5d2>=_0x1971f0){const _0x1ea514=Math[_0x44f2f8(0x28c)](_0x29f5d2/_0x1971f0);for(let _0x3ec1ee=_0x1ea514;_0x3ec1ee>=0x1;_0x3ec1ee--){const _0x55d6a1=_0x29f5d2-_0x3ec1ee*_0x1971f0;let _0x37e8da=new Set(_0x15a14a);_0x37e8da[_0x44f2f8(0x209)](_0x1971f0);if(_0x37e8da['size']<=0x3||_0x37e8da[_0x44f2f8(0x285)]>0x3&&_0x37e8da[_0x44f2f8(0x2a3)](0x1)&&_0x1971f0===0x1){if(_0x432fed(_0x55d6a1,_0x265aa5+0x1,_0x37e8da)){for(let _0x50c42b=0x0;_0x50c42b<_0x3ec1ee;_0x50c42b++){_0x1b529d[_0x44f2f8(0x2be)](_0xa7db12);}_0x29f5d2=_0x55d6a1,_0x15a14a[_0x44f2f8(0x209)](_0x1971f0);break;}}}}if(_0x29f5d2===0x0)break;}if(_0x29f5d2>0x0){for(let _0x20b627=0x0;_0x20b627<_0x29f5d2;_0x20b627++){_0x1b529d['push'](level1Image);}_0x29f5d2=0x0;}if(_0x1b529d[_0x44f2f8(0x206)]===0x0&&_0x1feaf4>0x0){for(let _0x470bc7=0x0;_0x470bc7<_0x1feaf4;_0x470bc7++)_0x1b529d[_0x44f2f8(0x2be)](level1Image);}if(_0x1b529d[_0x44f2f8(0x206)]===0x0)return;const _0x80231d=_0x1b529d[_0x44f2f8(0x206)],_0x421117=_0x80231d*LEVEL_ICON_SIZE+Math[_0x44f2f8(0x2b1)](0x0,_0x80231d-0x1)*LEVEL_ICON_SPACING,_0x41131c=gameCanvas['height']-LEVEL_ICON_MARGIN_BOTTOM-LEVEL_ICON_SIZE;let _0x27629e,_0x77527c=0x0;const _0x2cc336=_0x368e17?player1Lives:player2Lives,_0xf3063=_0x368e17?0x1:0x2;let _0x156fe9=0x0;const _0x2e0329=gameOverSequenceStartTime>0x0||isShowingResultsScreen||isShowingPlayerGameOverMessage&&playerWhoIsGameOver===_0xf3063||isPlayer1ShowingGameOverMessage&&_0x368e17||isPlayer2ShowingGameOverMessage&&!_0x368e17;if(!isInGameState||isShowingScoreScreen||_0x2e0329){if(_0x1ba02e&&_0x368e17)_0x156fe9=_0x560e77;else{if(_0x5a3339&&_0x368e17)_0x156fe9=_0x560e77;else _0x5a3339&&!_0x368e17?_0x156fe9=0x0:_0x156fe9=_0x2cc336<=0x0?0x0:_0x560e77;}}else{if(isInGameState){const _0x4651e9=isTwoPlayerMode&&selectedGameMode===_0x44f2f8(0x215)&&currentPlayer===_0xf3063?playerLives:_0x2cc336;_0x156fe9=_0x4651e9>0x0?Math[_0x44f2f8(0x2b1)](0x0,_0x4651e9-0x1):0x0;}}_0x156fe9=Math[_0x44f2f8(0x2a2)](_0x156fe9,_0x530acc);_0x156fe9>0x0?_0x77527c=_0x156fe9*LIFE_ICON_SIZE+(_0x156fe9-0x1)*LIFE_ICON_SPACING:_0x77527c=-LIFE_ICON_SPACING;if(isTwoPlayerMode&&selectedGameMode===_0x44f2f8(0x21d)){const _0x4ea7dd=0xf;if(_0x368e17)_0x27629e=LIFE_ICON_MARGIN_LEFT+_0x77527c+_0x4ea7dd;else{const _0x135734=gameCanvas[_0x44f2f8(0x23d)]-LEVEL_ICON_MARGIN_RIGHT-_0x77527c;_0x27629e=_0x135734-_0x421117-_0x4ea7dd;}}else{if(isTwoPlayerMode&&selectedGameMode===_0x44f2f8(0x215)){const _0x18d0fd=0xf;if(_0x368e17)_0x27629e=LIFE_ICON_MARGIN_LEFT+_0x77527c+_0x18d0fd;else{const _0x4f9778=gameCanvas[_0x44f2f8(0x23d)]-LEVEL_ICON_MARGIN_RIGHT-_0x77527c;_0x27629e=_0x4f9778-_0x421117-_0x18d0fd;}}else _0x27629e=gameCanvas['width']-LEVEL_ICON_MARGIN_RIGHT-_0x421117;}let _0x423253=_0x27629e;for(const _0x520453 of _0x1b529d){_0x520453&&_0x520453['complete']&&_0x520453[_0x44f2f8(0x272)]!==0x0&&gameCtx[_0x44f2f8(0x23e)](_0x520453,Math['round'](_0x423253),Math[_0x44f2f8(0x1ee)](_0x41131c),LEVEL_ICON_SIZE,LEVEL_ICON_SIZE),_0x423253+=LEVEL_ICON_SIZE+LEVEL_ICON_SPACING;}};let _0x1b0444,_0x25dbac;if(isInGameState&&!isShowingPlayerGameOverMessage&&!isPlayer1ShowingGameOverMessage&&!isPlayer2ShowingGameOverMessage&&gameOverSequenceStartTime===0x0){if(isTwoPlayerMode&&selectedGameMode===_0x347ad0(0x215))_0x1b0444=currentPlayer===0x1?level:player1MaxLevelReached,_0x25dbac=currentPlayer===0x2?level:player2MaxLevelReached;else isTwoPlayerMode&&selectedGameMode===_0x347ad0(0x21d)?(_0x1b0444=player1Lives>0x0?level:player1MaxLevelReached,_0x25dbac=player2Lives>0x0?level:player2MaxLevelReached):_0x1b0444=level;}else _0x1b0444=player1MaxLevelReached,(_0x5005f3||isTwoPlayerMode)&&(_0x25dbac=player2MaxLevelReached);_0xf3f4fb(Math[_0x347ad0(0x2b1)](0x1,_0x1b0444),!![]);const _0x483552=!isTwoPlayerMode&&selectedGameMode===_0x347ad0(0x215)&&(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0||isShowingResultsScreen);if(_0x483552)_0xf3f4fb(Math[_0x347ad0(0x2b1)](0x1,player1MaxLevelReached),![]);else{if(_0x5005f3||isTwoPlayerMode){if(typeof _0x25dbac===_0x347ad0(0x22f)&&_0x25dbac>0x0)_0xf3f4fb(Math['max'](0x1,_0x25dbac),![]);else player2MaxLevelReached>0x0&&_0xf3f4fb(Math[_0x347ad0(0x2b1)](0x1,player2MaxLevelReached),![]);}}gameCtx[_0x347ad0(0x28b)](),gameCtx[_0x347ad0(0x1f5)]();let _0x17550c=![],_0x2a3e2e=!isInGameState||isShowingScoreScreen||isShowingResultsScreen||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage||isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage;_0x2a3e2e&&(_0x17550c=!![]);const _0x2c99fa=showCsBonusScoreMessage||showPerfectMessage;if(_0x17550c){const _0x3ff7e2=Math[_0x347ad0(0x1ee)](gameCanvas[_0x347ad0(0x23d)]/0x2-SHIP_WIDTH/0x2),_0xa3b596=gameCanvas[_0x347ad0(0x22d)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN;typeof shipImage!==_0x347ad0(0x1fe)&&shipImage[_0x347ad0(0x1dc)]&&shipImage[_0x347ad0(0x272)]!==0x0?gameCtx[_0x347ad0(0x23e)](shipImage,_0x3ff7e2,_0xa3b596,SHIP_WIDTH,SHIP_HEIGHT):(gameCtx[_0x347ad0(0x2ad)]=_0x347ad0(0x21c),gameCtx[_0x347ad0(0x1d0)](_0x3ff7e2,_0xa3b596,SHIP_WIDTH,SHIP_HEIGHT));}else{if(isInGameState&&!isShowingPlayerGameOverMessage&&!isPlayer1ShowingGameOverMessage&&!isPlayer2ShowingGameOverMessage&&gameOverSequenceStartTime===0x0){if(isTwoPlayerMode&&selectedGameMode===_0x347ad0(0x21d)){const _0x3a6dda=ship1&&player1Lives>0x0,_0x37bddf=ship2&&player2Lives>0x0;if(_0x3a6dda&&(!isPlayer1ShipCaptured||isPlayer1ShipCaptured&&!isShowingCaptureMessage)){let _0x1f2a0a=!![];if((isPlayer1Invincible||isPlayer1WaitingForRespawn)&&!isShowingCoopPlayersReady&&!isShowingCaptureMessage){const _0x13f133=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS;if(_0x43dfb5%_0x13f133>=INVINCIBILITY_BLINK_ON_MS)_0x1f2a0a=![];}if(_0x2c99fa){if(isCoopAIDemoActive&&!_0x37bddf){}else{if(isCoopAIDemoActive&&_0x3a6dda&&_0x37bddf){}else isCoopAIDemoActive&&(_0x1f2a0a=![]);}}if(_0x1f2a0a){const _0x5904af=ship1['x'],_0x16d8e3=ship1['y'];typeof shipImage!==_0x347ad0(0x1fe)&&shipImage['complete']&&shipImage[_0x347ad0(0x272)]!==0x0?(gameCtx[_0x347ad0(0x23e)](shipImage,Math['round'](_0x5904af),Math[_0x347ad0(0x1ee)](_0x16d8e3),ship1[_0x347ad0(0x23d)],ship1[_0x347ad0(0x22d)]),player1IsDualShipActive&&gameCtx[_0x347ad0(0x23e)](shipImage,Math['round'](_0x5904af+DUAL_SHIP_OFFSET_X),Math[_0x347ad0(0x1ee)](_0x16d8e3),ship1[_0x347ad0(0x23d)],ship1[_0x347ad0(0x22d)])):(gameCtx['fillStyle']=_0x347ad0(0x21c),gameCtx[_0x347ad0(0x1d0)](Math['round'](_0x5904af),Math[_0x347ad0(0x1ee)](_0x16d8e3),ship1[_0x347ad0(0x23d)],ship1[_0x347ad0(0x22d)]));}}if(_0x37bddf&&(!isPlayer2ShipCaptured||isPlayer2ShipCaptured&&!isShowingCaptureMessage)){let _0x219f14=!![];if((isPlayer2Invincible||isPlayer2WaitingForRespawn)&&!isShowingCoopPlayersReady&&!isShowingCaptureMessage){const _0x2bb7bb=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS;if(_0x43dfb5%_0x2bb7bb>=INVINCIBILITY_BLINK_ON_MS)_0x219f14=![];}if(_0x2c99fa){if(isCoopAIDemoActive){if(!_0x3a6dda){}else{if(_0x3a6dda&&_0x37bddf){}else _0x219f14=![];}}}if(_0x219f14){const _0x545f1b=ship2['x'],_0x5e65d5=ship2['y'];typeof shipImage!==_0x347ad0(0x1fe)&&shipImage[_0x347ad0(0x1dc)]&&shipImage[_0x347ad0(0x272)]!==0x0?(gameCtx[_0x347ad0(0x23e)](shipImage,Math[_0x347ad0(0x1ee)](_0x545f1b),Math['round'](_0x5e65d5),ship2[_0x347ad0(0x23d)],ship2[_0x347ad0(0x22d)]),player2IsDualShipActive&&gameCtx['drawImage'](shipImage,Math[_0x347ad0(0x1ee)](_0x545f1b+DUAL_SHIP_OFFSET_X),Math[_0x347ad0(0x1ee)](_0x5e65d5),ship2['width'],ship2[_0x347ad0(0x22d)])):(gameCtx[_0x347ad0(0x2ad)]=_0x347ad0(0x2a6),gameCtx[_0x347ad0(0x1d0)](Math[_0x347ad0(0x1ee)](_0x545f1b),Math[_0x347ad0(0x1ee)](_0x5e65d5),ship2[_0x347ad0(0x23d)],ship2[_0x347ad0(0x22d)]));}}}else{if(ship&&playerLives>0x0&&!isShipCaptured&&!isShowingCaptureMessage){let _0x3703c2=!![];if(isInvincible||isWaitingForRespawn){const _0x45bb77=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS;if(_0x43dfb5%_0x45bb77>=INVINCIBILITY_BLINK_ON_MS)_0x3703c2=![];}if(_0x3703c2&&!(_0x2c99fa&&(!isManualControl||isPlayerTwoAI&&selectedGameMode==='normal')&&!isCoopAIDemoActive)){let _0x1cddd7=ship['x'],_0x475f07=isShowingIntro&&(!isManualControl||isPlayerTwoAI&&selectedGameMode===_0x347ad0(0x215))&&selectedGameMode!==_0x347ad0(0x21d)&&!isDualShipActive;_0x475f07&&(_0x1cddd7=Math[_0x347ad0(0x1ee)](gameCanvas[_0x347ad0(0x23d)]/0x2-ship['width']/0x2));const _0x45de08=ship['y'];typeof shipImage!=='undefined'&&shipImage['complete']&&shipImage[_0x347ad0(0x272)]!==0x0?(gameCtx[_0x347ad0(0x23e)](shipImage,Math[_0x347ad0(0x1ee)](_0x1cddd7),Math[_0x347ad0(0x1ee)](_0x45de08),ship[_0x347ad0(0x23d)],ship['height']),isDualShipActive&&gameCtx[_0x347ad0(0x23e)](shipImage,Math[_0x347ad0(0x1ee)](_0x1cddd7+DUAL_SHIP_OFFSET_X),Math[_0x347ad0(0x1ee)](_0x45de08),ship[_0x347ad0(0x23d)],ship[_0x347ad0(0x22d)])):(gameCtx[_0x347ad0(0x2ad)]='blue',gameCtx[_0x347ad0(0x1d0)](Math[_0x347ad0(0x1ee)](_0x1cddd7),Math[_0x347ad0(0x1ee)](_0x45de08),ship[_0x347ad0(0x23d)],ship[_0x347ad0(0x22d)]));}}}}}fallingShips[_0x347ad0(0x206)]>0x0&&typeof shipImage!=='undefined'&&shipImage[_0x347ad0(0x1dc)]&&fallingShips['forEach'](_0x1e79f3=>{const _0x25cadd=_0x347ad0;if(_0x1e79f3){gameCtx[_0x25cadd(0x1f5)]();const _0x4d8e8d=_0x1e79f3['x']+_0x1e79f3[_0x25cadd(0x23d)]/0x2,_0x528d93=_0x1e79f3['y']+_0x1e79f3['height']/0x2;gameCtx['translate'](_0x4d8e8d,_0x528d93),gameCtx['rotate'](_0x1e79f3[_0x25cadd(0x25f)]||0x0);const _0x3fc35f=-_0x1e79f3['width']/0x2,_0xaf53a1=-_0x1e79f3[_0x25cadd(0x22d)]/0x2,_0x4a446e=_0x1e79f3[_0x25cadd(0x23d)],_0x4f9ad6=_0x1e79f3['height'];gameCtx['drawImage'](shipImage,_0x3fc35f,_0xaf53a1,_0x4a446e,_0x4f9ad6),typeof _0x1e79f3[_0x25cadd(0x1e2)]==='number'&&_0x1e79f3[_0x25cadd(0x1e2)]>0.01&&(gameCtx['save'](),gameCtx[_0x25cadd(0x25b)]=_0x1e79f3[_0x25cadd(0x1e2)],gameCtx[_0x25cadd(0x2ad)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x25cadd(0x219)]='source-atop',gameCtx['fillRect'](_0x3fc35f,_0xaf53a1,_0x4a446e,_0x4f9ad6),gameCtx[_0x25cadd(0x28b)]()),gameCtx[_0x25cadd(0x28b)]();}});gameCtx[_0x347ad0(0x28b)]();if(!isInGameState){if(isShowingScoreScreen){if(typeof LIFE_ICON_SIZE!=='undefined'){gameCtx[_0x347ad0(0x1f5)]();const _0x535ec2=gameCanvas[_0x347ad0(0x23d)]/0x2;let _0x4facf0=gameCanvas[_0x347ad0(0x22d)]*0.25+SCORE_SCREEN_VERTICAL_OFFSET+SCORE_SCREEN_LINE_V_SPACING,_0x4b9e9b=0x0,_0x56ddae=_0x4facf0+0x0;drawCanvasText(_0x347ad0(0x216),_0x535ec2,_0x56ddae-0x1e,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP,_0x347ad0(0x237),_0x347ad0(0x20e),!![]);let _0x2ef437=_0x56ddae+SCORE_SCREEN_LINE_V_SPACING*1.8;const _0x4abe8c='\x201ST\x20LIFE\x20BONUS\x20FOR\x20'+EXTRA_LIFE_THRESHOLD_1+'\x20PTS';gameCtx[_0x347ad0(0x1da)]=SCORE_SCREEN_TEXT_FONT;const _0x59b722=gameCtx[_0x347ad0(0x286)](_0x4abe8c)[_0x347ad0(0x23d)],_0x57a35f=LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING+_0x59b722;_0x4b9e9b=_0x535ec2-_0x57a35f/0x2-0x1e;typeof shipImage!==_0x347ad0(0x1fe)&&shipImage['complete']&&shipImage[_0x347ad0(0x272)]!==0x0&&gameCtx['drawImage'](shipImage,Math[_0x347ad0(0x1ee)](_0x4b9e9b),Math[_0x347ad0(0x1ee)](_0x2ef437-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x4abe8c,_0x4b9e9b+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x2ef437,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,'left',_0x347ad0(0x20e),![]);let _0x58ab54=_0x2ef437+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x4fc92e='\x202ND\x20LIFE\x20BONUS\x20FOR\x20'+EXTRA_LIFE_THRESHOLD_2+_0x347ad0(0x1dd);typeof shipImage!==_0x347ad0(0x1fe)&&shipImage[_0x347ad0(0x1dc)]&&shipImage[_0x347ad0(0x272)]!==0x0&&gameCtx[_0x347ad0(0x23e)](shipImage,Math[_0x347ad0(0x1ee)](_0x4b9e9b),Math[_0x347ad0(0x1ee)](_0x58ab54-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x4fc92e,_0x4b9e9b+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x58ab54,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,_0x347ad0(0x2b7),_0x347ad0(0x20e),![]);let _0x286167=_0x58ab54+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x2e5c4e=_0x347ad0(0x243)+RECURRING_EXTRA_LIFE_INTERVAL+_0x347ad0(0x1dd);typeof shipImage!==_0x347ad0(0x1fe)&&shipImage[_0x347ad0(0x1dc)]&&shipImage[_0x347ad0(0x272)]!==0x0&&gameCtx[_0x347ad0(0x23e)](shipImage,Math[_0x347ad0(0x1ee)](_0x4b9e9b),Math['round'](_0x286167-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x2e5c4e,_0x4b9e9b+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x286167,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,_0x347ad0(0x2b7),_0x347ad0(0x20e),![]);let _0xf1b2ea=_0x286167+SCORE_SCREEN_LINE_V_SPACING*1.8;drawCanvasText(_0x347ad0(0x258),_0x535ec2-0xa,_0xf1b2ea+0x1e,MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,_0x347ad0(0x237),'middle',![]),gameCtx[_0x347ad0(0x28b)]();}}else{gameCtx[_0x347ad0(0x1f5)]();const _0x51a073=gameCanvas['width'],_0x4c5202=gameCanvas[_0x347ad0(0x22d)],_0x4fbd4d=_0x51a073/0x2;selectedButtonIndex===-0x1&&(isPlayerSelectMode||isOnePlayerGameTypeSelectMode||isOnePlayerVsAIGameTypeSelectMode||isGameModeSelectMode||isFiringModeSelectMode||!isPlayerSelectMode&&!isOnePlayerGameTypeSelectMode&&!isOnePlayerVsAIGameTypeSelectMode&&!isGameModeSelectMode&&!isFiringModeSelectMode)&&(selectedButtonIndex=0x0);let _0x251cce=MENU_LOGO_APPROX_HEIGHT,_0x355ae0=_0x251cce*(logoImage[_0x347ad0(0x260)]/logoImage[_0x347ad0(0x272)]||0x1);typeof logoImage!==_0x347ad0(0x1fe)&&logoImage[_0x347ad0(0x1dc)]&&logoImage[_0x347ad0(0x272)]!==0x0&&(_0x251cce=logoImage[_0x347ad0(0x272)]*LOGO_SCALE_FACTOR,_0x355ae0=logoImage[_0x347ad0(0x260)]*LOGO_SCALE_FACTOR);const _0x1f9323=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0xc060e2=_0x251cce+MENU_LOGO_BOTTOM_TO_START_GAP+0x2*MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_SUBTITLE_V_GAP+_0x1f9323;let _0x3cc718=(_0x4c5202-_0xc060e2)/0x2-0x46;_0x3cc718+=MENU_GENERAL_Y_OFFSET;const _0x56b939=_0x4fbd4d-_0x355ae0/0x2,_0x5f34ea=_0x3cc718+MENU_LOGO_EXTRA_Y_OFFSET;typeof logoImage!==_0x347ad0(0x1fe)&&logoImage['complete']&&logoImage[_0x347ad0(0x272)]!==0x0?gameCtx[_0x347ad0(0x23e)](logoImage,Math[_0x347ad0(0x1ee)](_0x56b939),Math[_0x347ad0(0x1ee)](_0x5f34ea),_0x355ae0,_0x251cce):drawCanvasText(_0x347ad0(0x1e3),_0x4fbd4d,_0x5f34ea+_0x251cce/0x2,_0x347ad0(0x232),_0x347ad0(0x233));if(isPlayerSelectMode)drawCanvasButton(_0x347ad0(0x2af),0x0,selectedButtonIndex===0x0),drawCanvasButton('PLAYER\x202',0x1,selectedButtonIndex===0x1);else{if(isOnePlayerGameTypeSelectMode)drawCanvasButton(_0x347ad0(0x230),0x0,selectedButtonIndex===0x0),drawCanvasButton('GAME\x20Vs\x20AI',0x1,selectedButtonIndex===0x1);else{if(isOnePlayerVsAIGameTypeSelectMode)drawCanvasButton(_0x347ad0(0x230),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x347ad0(0x2ae),0x1,selectedButtonIndex===0x1);else{if(isGameModeSelectMode)drawCanvasButton(_0x347ad0(0x230),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x347ad0(0x2ae),0x1,selectedButtonIndex===0x1);else isFiringModeSelectMode?(drawCanvasButton(_0x347ad0(0x2ac),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x347ad0(0x249),0x1,selectedButtonIndex===0x1)):(drawCanvasButton(_0x347ad0(0x1df),0x0,selectedButtonIndex===0x0),drawCanvasButton('GAME\x20EXIT',0x1,selectedButtonIndex===0x1));}}}const _0x405522=getMenuButtonRect(0x1);let _0x582835;_0x405522?_0x582835=_0x405522['y']+_0x405522['height']+MENU_BUTTON_SUBTITLE_V_GAP+_0x1f9323/0x2:_0x582835=_0x3cc718+_0x251cce+MENU_LOGO_BOTTOM_TO_START_GAP+0x2*MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_SUBTITLE_V_GAP+_0x1f9323/0x2,drawCanvasText(MENU_SUBTITLE_TEXT,_0x4fbd4d-0x1,Math[_0x347ad0(0x1ee)](_0x582835),MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,_0x347ad0(0x237),_0x347ad0(0x20e),!![]),gameCtx[_0x347ad0(0x28b)]();}}else{const _0x1a1cef=gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage&&!isShowingResultsScreen;if(_0x1a1cef||_0x208f0b){gameCtx[_0x347ad0(0x1f5)]();let _0x1f1519=!showReadyMessage&&!showCsHitsMessage&&!showPerfectMessage&&!showCsBonusScoreMessage&&!showCSClearMessage&&!isCsCompletionDelayActive&&!isShowingIntro&&!isShowingCaptureMessage&&!isShowingCoopPlayersReady&&!_0x208f0b;_0x1f1519&&(bullets[_0x347ad0(0x245)](_0x471d6a=>{const _0x158720=_0x347ad0;_0x471d6a&&(typeof bulletImage!==_0x158720(0x1fe)&&bulletImage[_0x158720(0x1dc)]?gameCtx[_0x158720(0x23e)](bulletImage,Math[_0x158720(0x1ee)](_0x471d6a['x']),Math[_0x158720(0x1ee)](_0x471d6a['y']),_0x471d6a['width'],_0x471d6a[_0x158720(0x22d)]):(gameCtx[_0x158720(0x2ad)]=_0x158720(0x1ef),gameCtx[_0x158720(0x1d0)](Math['round'](_0x471d6a['x']),Math['round'](_0x471d6a['y']),_0x471d6a[_0x158720(0x23d)],_0x471d6a[_0x158720(0x22d)])));}),enemyBullets[_0x347ad0(0x245)](_0x340b2e=>{const _0x53c913=_0x347ad0;_0x340b2e&&(typeof enemyBulletImage!==_0x53c913(0x1fe)&&enemyBulletImage[_0x53c913(0x1dc)]&&enemyBulletImage['naturalWidth']>0x0?gameCtx[_0x53c913(0x23e)](enemyBulletImage,Math['round'](_0x340b2e['x']),Math['round'](_0x340b2e['y']),_0x340b2e[_0x53c913(0x23d)],_0x340b2e['height']):(gameCtx[_0x53c913(0x2ad)]=_0x53c913(0x26c),gameCtx['fillRect'](Math[_0x53c913(0x1ee)](_0x340b2e['x']),Math['round'](_0x340b2e['y']),_0x340b2e[_0x53c913(0x23d)],_0x340b2e[_0x53c913(0x22d)])));}));!isShowingCoopPlayersReady&&enemies[_0x347ad0(0x245)](_0x1012ac=>{const _0x1f31b3=_0x347ad0;if(_0x1012ac&&_0x1012ac['y']<gameCanvas[_0x1f31b3(0x22d)]+_0x1012ac[_0x1f31b3(0x22d)]*0x2&&_0x1012ac['y']>-_0x1012ac[_0x1f31b3(0x22d)]*0x2){gameCtx['save']();try{let _0x47b5e3=null,_0x5a5a44=_0x1f31b3(0x233);const _0x49bb79=!isPaused&&_0x43dfb5%(ENEMY_ANIMATION_INTERVAL_MS*0x2)>=ENEMY_ANIMATION_INTERVAL_MS;if(_0x1012ac[_0x1f31b3(0x27c)]===ENEMY3_TYPE)_0x47b5e3=_0x49bb79?bossGalagaImage2:bossGalagaImage,_0x5a5a44=_0x1f31b3(0x2bf);else _0x1012ac[_0x1f31b3(0x27c)]===ENEMY2_TYPE?(_0x47b5e3=_0x49bb79?butterflyImage2:butterflyImage,_0x5a5a44=_0x1f31b3(0x288)):(_0x47b5e3=_0x49bb79?beeImage2:beeImage,_0x5a5a44=_0x1f31b3(0x27a));const _0x1c8913=Math['round'](_0x1012ac['x']),_0x55acbb=Math[_0x1f31b3(0x1ee)](_0x1012ac['y']),_0xeb34e4=_0x1012ac[_0x1f31b3(0x23d)],_0x1c9b5d=_0x1012ac['height'],_0x27c429=_0x1012ac[_0x1f31b3(0x27c)]===ENEMY3_TYPE&&_0x1012ac['isDamaged'],_0x20cf7d=!isPaused&&(_0x1012ac[_0x1f31b3(0x28e)]===_0x1f31b3(0x296)||_0x1012ac['state']===_0x1f31b3(0x1f3)||_0x1012ac[_0x1f31b3(0x28e)]==='following_entrance_path')&&_0x1012ac['y']>-_0x1012ac['height']*0.5&&(Math[_0x1f31b3(0x20d)](_0x1012ac[_0x1f31b3(0x276)])>0.1||Math[_0x1f31b3(0x20d)](_0x1012ac[_0x1f31b3(0x2b9)])>0.1),_0xde43c1=_0x1012ac['state']===_0x1f31b3(0x23c)&&_0x1012ac[_0x1f31b3(0x27c)]===ENEMY3_TYPE&&_0x1012ac[_0x1f31b3(0x1e8)]&&_0x1012ac['capturedShipDimensions']&&typeof _0x1012ac[_0x1f31b3(0x28f)]===_0x1f31b3(0x22f)&&typeof _0x1012ac[_0x1f31b3(0x1ea)]===_0x1f31b3(0x22f)&&typeof _0x1012ac['captureAnimationRotation']==='number',_0x4716e8=_0x1012ac['state']!==_0x1f31b3(0x23c)&&_0x1012ac[_0x1f31b3(0x27c)]===ENEMY3_TYPE&&_0x1012ac[_0x1f31b3(0x1e8)]&&_0x1012ac[_0x1f31b3(0x23f)],_0x49db1a=_0xde43c1||_0x4716e8?_0x1012ac['capturedShipDimensions'][_0x1f31b3(0x23d)]:0x0,_0x118a96=_0xde43c1||_0x4716e8?_0x1012ac['capturedShipDimensions'][_0x1f31b3(0x22d)]:0x0;let _0x5c68da=0x0,_0x35a430=0x0;if(_0xde43c1)_0x5c68da=Math[_0x1f31b3(0x1ee)](_0x1012ac[_0x1f31b3(0x28f)]),_0x35a430=Math[_0x1f31b3(0x1ee)](_0x1012ac[_0x1f31b3(0x1ea)]);else _0x4716e8&&(_0x5c68da=Math['round'](_0x1012ac['x']+CAPTURED_SHIP_OFFSET_X),_0x35a430=Math['round'](_0x1012ac['y']+CAPTURED_SHIP_OFFSET_Y));const _0x1cc1db=(_0x25cb7c,_0x3fa9f1,_0x5a3582,_0x40f197)=>{const _0x41f787=_0x1f31b3;typeof _0x47b5e3!==_0x41f787(0x1fe)&&_0x47b5e3['complete']&&_0x47b5e3[_0x41f787(0x272)]!==0x0?gameCtx[_0x41f787(0x23e)](_0x47b5e3,_0x25cb7c,_0x3fa9f1,_0x5a3582,_0x40f197):(gameCtx[_0x41f787(0x2ad)]=_0x5a5a44,gameCtx[_0x41f787(0x1d0)](_0x25cb7c,_0x3fa9f1,_0x5a3582,_0x40f197)),_0x27c429&&(gameCtx[_0x41f787(0x219)]=_0x41f787(0x2ba),gameCtx[_0x41f787(0x2ad)]=_0x41f787(0x201),gameCtx[_0x41f787(0x1d0)](_0x25cb7c,_0x3fa9f1,_0x5a3582,_0x40f197),gameCtx['globalCompositeOperation']=_0x41f787(0x1f2));};if(_0x20cf7d){const _0x132339=_0x1c8913+_0xeb34e4/0x2,_0xbf98c1=_0x55acbb+_0x1c9b5d/0x2;gameCtx['translate'](_0x132339,_0xbf98c1);let _0x3e4053=Math[_0x1f31b3(0x210)](_0x1012ac[_0x1f31b3(0x2b9)],_0x1012ac[_0x1f31b3(0x276)])+Math['PI']/0x2;if(_0x1012ac[_0x1f31b3(0x27c)]===ENEMY3_TYPE&&_0x1012ac[_0x1f31b3(0x28e)]===_0x1f31b3(0x296))_0x3e4053+=Math['PI'];gameCtx[_0x1f31b3(0x1d8)](_0x3e4053),_0x1cc1db(-_0xeb34e4/0x2,-_0x1c9b5d/0x2,_0xeb34e4,_0x1c9b5d);if(_0x4716e8&&typeof shipImage!==_0x1f31b3(0x1fe)&&shipImage[_0x1f31b3(0x1dc)]){gameCtx['globalAlpha']=0.8;const _0x18c25e=CAPTURED_SHIP_OFFSET_X,_0x3b8b99=CAPTURED_SHIP_OFFSET_Y;gameCtx[_0x1f31b3(0x23e)](shipImage,_0x18c25e-_0x49db1a/0x2,_0x3b8b99-_0x118a96/0x2,_0x49db1a,_0x118a96),gameCtx[_0x1f31b3(0x25b)]=0x1,gameCtx[_0x1f31b3(0x1f5)](),gameCtx['fillStyle']=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x1f31b3(0x219)]=_0x1f31b3(0x2ba),gameCtx[_0x1f31b3(0x1d0)](_0x18c25e-_0x49db1a/0x2,_0x3b8b99-_0x118a96/0x2,_0x49db1a,_0x118a96),gameCtx['restore']();}gameCtx[_0x1f31b3(0x1d8)](-_0x3e4053),gameCtx['translate'](-_0x132339,-_0xbf98c1);}else _0x1cc1db(_0x1c8913,_0x55acbb,_0xeb34e4,_0x1c9b5d),_0x4716e8&&typeof shipImage!==_0x1f31b3(0x1fe)&&shipImage['complete']&&(gameCtx[_0x1f31b3(0x25b)]=0.8,gameCtx['drawImage'](shipImage,_0x5c68da,_0x35a430,_0x49db1a,_0x118a96),gameCtx[_0x1f31b3(0x25b)]=0x1,gameCtx[_0x1f31b3(0x1f5)](),gameCtx[_0x1f31b3(0x2ad)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x1f31b3(0x219)]='source-atop',gameCtx[_0x1f31b3(0x1d0)](_0x5c68da,_0x35a430,_0x49db1a,_0x118a96),gameCtx[_0x1f31b3(0x28b)]());if(_0xde43c1&&typeof shipImage!==_0x1f31b3(0x1fe)&&shipImage[_0x1f31b3(0x1dc)]){gameCtx[_0x1f31b3(0x1f5)]();const _0x288610=_0x5c68da+_0x49db1a/0x2,_0x2155d2=_0x35a430+_0x118a96/0x2;gameCtx[_0x1f31b3(0x1d4)](_0x288610,_0x2155d2),gameCtx[_0x1f31b3(0x1d8)](_0x1012ac['captureAnimationRotation']),gameCtx['globalAlpha']=0.8,gameCtx[_0x1f31b3(0x23e)](shipImage,-_0x49db1a/0x2,-_0x118a96/0x2,_0x49db1a,_0x118a96),gameCtx[_0x1f31b3(0x25b)]=0x1,gameCtx[_0x1f31b3(0x1f5)](),gameCtx[_0x1f31b3(0x2ad)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x1f31b3(0x219)]=_0x1f31b3(0x2ba),gameCtx[_0x1f31b3(0x1d0)](-_0x49db1a/0x2,-_0x118a96/0x2,_0x49db1a,_0x118a96),gameCtx[_0x1f31b3(0x28b)](),gameCtx[_0x1f31b3(0x28b)]();}}catch(_0x45fb18){console[_0x1f31b3(0x207)](_0x1f31b3(0x212),_0x45fb18),gameCtx[_0x1f31b3(0x2ad)]=_0x1f31b3(0x2ab),gameCtx[_0x1f31b3(0x1d0)](Math[_0x1f31b3(0x1ee)](_0x1012ac['x']),Math[_0x1f31b3(0x1ee)](_0x1012ac['y']),_0x1012ac[_0x1f31b3(0x23d)],_0x1012ac[_0x1f31b3(0x22d)]);}finally{gameCtx['restore']();}}});if(captureBeamActive&&capturingBossId&&captureBeamProgress>0x0&&!isShowingCoopPlayersReady){gameCtx[_0x347ad0(0x1f5)]();const _0x16b3a7=0.4+(Math[_0x347ad0(0x229)](_0x43dfb5*CAPTURE_BEAM_PULSE_SPEED)+0x1)/0x2*0.6,_0x127868=captureBeamProgress;gameCtx[_0x347ad0(0x25b)]=_0x127868*_0x16b3a7;const _0x11345f=enemies[_0x347ad0(0x2b6)](_0x369311=>_0x369311['id']===capturingBossId);if(_0x11345f){const _0x378574=_0x11345f['x']+BOSS_WIDTH/0x2,_0x4ba798=_0x11345f['y']+BOSS_HEIGHT,_0xb2f81c=gameCanvas[_0x347ad0(0x22d)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE-0xa,_0x443523=BOSS_WIDTH*CAPTURE_BEAM_WIDTH_TOP_FACTOR,_0x37f0db=SHIP_WIDTH*CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR;if(_0x4ba798<_0xb2f81c){const _0x411d3e=gameCtx[_0x347ad0(0x228)](_0x378574,_0x4ba798,_0x378574,_0xb2f81c);_0x411d3e[_0x347ad0(0x24d)](0x0,CAPTURE_BEAM_COLOR_START),_0x411d3e[_0x347ad0(0x24d)](0x1,CAPTURE_BEAM_COLOR_END),gameCtx[_0x347ad0(0x2ad)]=_0x411d3e,gameCtx[_0x347ad0(0x254)](),gameCtx[_0x347ad0(0x25a)](_0x378574-_0x443523/0x2,_0x4ba798),gameCtx['lineTo'](_0x378574+_0x443523/0x2,_0x4ba798),gameCtx['lineTo'](_0x378574+_0x37f0db/0x2,_0xb2f81c),gameCtx[_0x347ad0(0x2b2)](_0x378574-_0x37f0db/0x2,_0xb2f81c),gameCtx[_0x347ad0(0x2bb)](),gameCtx[_0x347ad0(0x27e)]();}}gameCtx[_0x347ad0(0x28b)]();}!isShowingCoopPlayersReady&&(renderExplosions(),renderFloatingScores(),renderHitSparks());let _0x21a94e=![];const _0x29b635=gameCanvas['height']/0x2,_0x47c0b9=gameCanvas['width']/0x2,_0x4a0e26='NUMBER\x20OF\x20HITS\x20'+challengingStageEnemiesHit,_0x318291=_0x347ad0(0x289)+scoreEarnedThisCS,_0x1e2ffb=RESULTS_LINE_V_SPACING_SINGLE;if(isPaused)drawCanvasText(_0x347ad0(0x28d),_0x47c0b9,_0x29b635,PAUSE_TEXT_FONT,PAUSE_TEXT_COLOR,_0x347ad0(0x237),_0x347ad0(0x20e),PAUSE_TEXT_SHADOW),_0x21a94e=!![];else{if(isTwoPlayerMode&&selectedGameMode===_0x347ad0(0x21d)&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage)){const _0x1326c9=gameCanvas[_0x347ad0(0x22d)]*0.45;if(isPlayer1ShowingGameOverMessage&&!isPlayer2ShowingGameOverMessage){const _0x4a1140=isCoopAIDemoActive?'DEMO-1':isPlayerTwoAI&&selectedOnePlayerGameVariant===_0x347ad0(0x273)?_0x347ad0(0x2af):'PLAYER\x201';drawCanvasText(_0x4a1140[_0x347ad0(0x297)](),_0x47c0b9,_0x1326c9-_0x1e2ffb/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x347ad0(0x237),_0x347ad0(0x20e),!![]),drawCanvasText('GAME\x20OVER',_0x47c0b9,_0x1326c9+_0x1e2ffb/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x347ad0(0x237),_0x347ad0(0x20e),!![]),_0x21a94e=!![];}else{if(isPlayer2ShowingGameOverMessage&&!isPlayer1ShowingGameOverMessage){const _0x3ba51d=isCoopAIDemoActive?_0x347ad0(0x2a7):isPlayerTwoAI?_0x347ad0(0x266):_0x347ad0(0x26d);drawCanvasText(_0x3ba51d['toUpperCase'](),_0x47c0b9,_0x1326c9-_0x1e2ffb/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x347ad0(0x237),'middle',!![]),drawCanvasText(_0x347ad0(0x21f),_0x47c0b9,_0x1326c9+_0x1e2ffb/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x347ad0(0x237),'middle',!![]),_0x21a94e=!![];}}}else{if(isShowingCoopPlayersReady){const _0x2b9684=isCoopAIDemoActive?_0x347ad0(0x253):isPlayerTwoAI&&selectedGameMode===_0x347ad0(0x21d)?_0x347ad0(0x1e5):_0x347ad0(0x240);drawCanvasText(_0x2b9684,_0x47c0b9,_0x29b635,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x347ad0(0x237),_0x347ad0(0x20e),!![]),_0x21a94e=!![];}else{if(isShowingCaptureMessage)drawCanvasText('FIGHTER\x20CAPTURED',_0x47c0b9,_0x29b635,INTRO_TEXT_FONT,_0x347ad0(0x27a),_0x347ad0(0x237),'middle',!![]),_0x21a94e=!![];else{if(!isManualControl&&isInGameState&&isShowingDemoText){const _0x161520=isShowingIntro||showCsBonusScoreMessage||showPerfectMessage||showCsHitsMessage||showCSClearMessage||showExtraLifeMessage||showReadyMessage||isCsCompletionDelayActive;if(!_0x161520){const _0x5adf54=DEMO_TEXT_BLINK_CYCLE_MS,_0x4623cf=DEMO_TEXT_BLINK_ON_MS;_0x43dfb5%_0x5adf54<_0x4623cf&&(drawCanvasText(_0x347ad0(0x216),_0x47c0b9,_0x29b635,DEMO_TEXT_LINE1_FONT,DEMO_TEXT_COLOR,_0x347ad0(0x237),_0x347ad0(0x20e),!![]),_0x21a94e=!![]);}}}}}}if(!_0x21a94e){if(showCsBonusScoreMessage||showPerfectMessage||showCsHitsMessage)drawCanvasText(_0x4a0e26,_0x47c0b9,_0x29b635,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,_0x347ad0(0x237),'middle',!![]),_0x21a94e=!![],(showCsBonusScoreMessage||showPerfectMessage)&&drawCanvasText(_0x347ad0(0x2a0),_0x47c0b9,_0x29b635-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,PERFECT_TEXT_COLOR,_0x347ad0(0x237),_0x347ad0(0x20e),!![]),showCsBonusScoreMessage&&drawCanvasText('SPECIAL\x20BONUS\x2010000\x20PTS',_0x47c0b9,_0x29b635+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_BONUS_SCORE_TEXT_COLOR,_0x347ad0(0x237),_0x347ad0(0x20e),!![]);else{if(showCSClearMessage)drawCanvasText(_0x347ad0(0x20b),_0x47c0b9,_0x29b635-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_TEXT_COLOR,_0x347ad0(0x237),_0x347ad0(0x20e),!![]),_0x21a94e=!![],showCsHitsForClearMessage&&drawCanvasText(_0x4a0e26,_0x47c0b9,_0x29b635,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,_0x347ad0(0x237),_0x347ad0(0x20e),!![]),showCsScoreForClearMessage&&drawCanvasText(_0x318291,_0x47c0b9,_0x29b635+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_SCORE_TEXT_COLOR,_0x347ad0(0x237),'middle',!![]);else{if(showExtraLifeMessage)drawCanvasText(_0x347ad0(0x2a1),_0x47c0b9,_0x29b635,INTRO_TEXT_FONT,EXTRA_LIFE_TEXT_COLOR,_0x347ad0(0x237),_0x347ad0(0x20e),!![]),_0x21a94e=!![];else{if(isShowingIntro&&!isShowingCoopPlayersReady){let _0x253f17='',_0x2c0af9=INTRO_TEXT_COLOR_NORMAL;if(introStep===0x1){if(!(selectedGameMode==='coop'&&level===0x1)){_0x253f17=!isManualControl&&!isCoopAIDemoActive&&!isPlayerTwoAI?'DEMO':isCoopAIDemoActive?_0x347ad0(0x21e):isTwoPlayerMode&&selectedGameMode==='normal'&&!isPlayerTwoAI?_0x347ad0(0x29a)+currentPlayer:isPlayerTwoAI&&selectedOnePlayerGameVariant==='1P_VS_AI_NORMAL'?'PLAYER\x20'+currentPlayer:_0x347ad0(0x2af);if(isManualControl&&isPlayerTwoAI&&selectedGameMode===_0x347ad0(0x215)&&currentPlayer===0x2)_0x253f17=_0x347ad0(0x266);}}else{if(introStep===0x2)_0x253f17=_0x347ad0(0x208)+level;else introStep===0x3&&(_0x253f17=_0x347ad0(0x252),_0x2c0af9=INTRO_TEXT_COLOR_CS_TEXT,!csIntroSoundPlayed&&(playSound(_0x347ad0(0x242),![],0.4),csIntroSoundPlayed=!![]));}_0x253f17&&(drawCanvasText(_0x253f17,_0x47c0b9,_0x29b635,INTRO_TEXT_FONT,_0x2c0af9,_0x347ad0(0x237),_0x347ad0(0x20e),!![]),_0x21a94e=!![]);}else showReadyMessage&&(drawCanvasText(_0x347ad0(0x251),_0x47c0b9,_0x29b635,INTRO_TEXT_FONT,READY_TEXT_COLOR,_0x347ad0(0x237),_0x347ad0(0x20e),!![]),_0x21a94e=!![]);}}}}gameCtx[_0x347ad0(0x28b)]();}else{if(isShowingPlayerGameOverMessage&&selectedGameMode==='normal'){const _0xbbc3b6=isPlayerTwoAI&&playerWhoIsGameOver===0x2?_0x347ad0(0x266):_0x347ad0(0x29a)+playerWhoIsGameOver,_0x2e1919=RESULTS_LINE_V_SPACING_SINGLE,_0x2939d5=gameCanvas[_0x347ad0(0x22d)]*0.45;drawCanvasText(_0xbbc3b6,gameCanvas[_0x347ad0(0x23d)]/0x2,_0x2939d5-_0x2e1919/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x347ad0(0x237),'middle',!![]),drawCanvasText('GAME\x20OVER',gameCanvas['width']/0x2,_0x2939d5+_0x2e1919/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x347ad0(0x237),_0x347ad0(0x20e),!![]);}else{if(gameOverSequenceStartTime>0x0){const _0x45d3a5=_0x43dfb5-gameOverSequenceStartTime,_0x2e7ec1=_0x45d3a5<GAME_OVER_DURATION,_0xaec560=_0x45d3a5>=GAME_OVER_DURATION;if(_0x2e7ec1&&!isTwoPlayerMode&&!isCoopAIDemoActive&&!isPlayerTwoAI&&selectedGameMode!=='coop')drawCanvasText(_0x347ad0(0x21f),gameCanvas[_0x347ad0(0x23d)]/0x2,gameCanvas[_0x347ad0(0x22d)]/0x2,GAME_OVER_FONT,GAME_OVER_COLOR,_0x347ad0(0x237),_0x347ad0(0x20e),GAME_OVER_SHADOW);else{if(_0x2e7ec1&&isCoopAIDemoActive&&player1Lives<=0x0&&player2Lives<=0x0)drawCanvasText('GAME\x20OVER',gameCanvas[_0x347ad0(0x23d)]/0x2,gameCanvas[_0x347ad0(0x22d)]/0x2,GAME_OVER_FONT,GAME_OVER_COLOR,_0x347ad0(0x237),_0x347ad0(0x20e),GAME_OVER_SHADOW);else{if(_0xaec560){gameCtx['save']();const _0x489405=gameCanvas['width']/0x2,_0x4340e3=gameCanvas[_0x347ad0(0x23d)];let _0x2773dc=RESULTS_START_Y+RESULTS_LINE_V_SPACING_SINGLE;const _0x221dcc=(_0x1fb355,_0x40501c,_0x1827d7,_0x510ac0,_0x151fb6,_0x446e83,_0x18a0e1,_0x4cc93b)=>{const _0x5459b5=_0x347ad0;let _0x651da5=_0x4cc93b;const _0x526559=RESULTS_VALUE_COLOR_YELLOW,_0x5876dd=RESULTS_VALUE_COLOR_CYAN;drawCanvasText(_0x5459b5(0x275),_0x18a0e1,_0x651da5,INTRO_TEXT_FONT,RESULTS_HEADER_COLOR,'center','top',!![]),_0x651da5+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x1fb355,_0x18a0e1,_0x651da5,INTRO_TEXT_FONT,_0x5459b5(0x26c),_0x5459b5(0x237),_0x5459b5(0x20e),![]),_0x651da5+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x5459b5(0x202),_0x18a0e1,_0x651da5,INTRO_TEXT_FONT,_0x526559,_0x5459b5(0x237),_0x5459b5(0x20e),![]),_0x651da5+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x446e83[_0x5459b5(0x2bc)](),_0x18a0e1,_0x651da5,INTRO_TEXT_FONT,_0x5876dd,'center',_0x5459b5(0x20e),![]),_0x651da5+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x5459b5(0x214),_0x18a0e1,_0x651da5,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x5459b5(0x237),_0x5459b5(0x20e),![]),_0x651da5+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x40501c[_0x5459b5(0x2bc)](),_0x18a0e1,_0x651da5,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,'center','middle',![]),_0x651da5+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x5459b5(0x218),_0x18a0e1,_0x651da5,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,'center',_0x5459b5(0x20e),![]),_0x651da5+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x1827d7[_0x5459b5(0x2bc)](),_0x18a0e1,_0x651da5,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x5459b5(0x237),_0x5459b5(0x20e),![]),_0x651da5+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x5459b5(0x250),_0x18a0e1,_0x651da5,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x5459b5(0x237),_0x5459b5(0x20e),![]),_0x651da5+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x510ac0['toString'](),_0x18a0e1,_0x651da5,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x5459b5(0x237),_0x5459b5(0x20e),![]),_0x651da5+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x5459b5(0x22b),_0x18a0e1,_0x651da5,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x5459b5(0x237),_0x5459b5(0x20e),![]),_0x651da5+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x151fb6,_0x18a0e1,_0x651da5,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,'center',_0x5459b5(0x20e),![]),_0x651da5+=RESULTS_LINE_V_SPACING_SINGLE*1.5-0xa,drawCanvasText(_0x5459b5(0x241),_0x18a0e1,_0x651da5,RESULTS_FOOTER_FONT,RESULTS_FOOTER_COLOR,_0x5459b5(0x237),_0x5459b5(0x20e),![]);};if(isTwoPlayerMode||wasLastGameAIDemo&&isPlayerTwoAI){const _0x250c66=player1ShotsFired||0x0,_0x38d170=player1EnemiesHit||0x0,_0x4c19ec=_0x250c66>0x0?Math[_0x347ad0(0x1ee)](_0x38d170/_0x250c66*0x64)+'%':'0%',_0x283095=player2ShotsFired||0x0,_0x21f2c0=player2EnemiesHit||0x0,_0x522608=_0x283095>0x0?Math['round'](_0x21f2c0/_0x283095*0x64)+'%':'0%',_0x44aed5=_0x4340e3*0.4,_0x1ff0f7=_0x4340e3*0.1,_0x35a754=_0x489405-_0x1ff0f7/0x2-_0x44aed5/0x2+_0x44aed5*0.1,_0x573b7c=_0x489405+_0x1ff0f7/0x2+_0x44aed5/0x2-_0x44aed5*0.1,_0x2b272f=isCoopAIDemoActive&&wasLastGameAIDemo?_0x347ad0(0x21e):'PLAYER\x201';let _0x3394bc=_0x347ad0(0x26d);if(isCoopAIDemoActive&&wasLastGameAIDemo)_0x3394bc=_0x347ad0(0x2a7);else{if(isPlayerTwoAI&&wasLastGameAIDemo)_0x3394bc=_0x347ad0(0x266);else{if(isPlayerTwoAI&&!wasLastGameAIDemo)_0x3394bc=_0x347ad0(0x266);}}_0x221dcc(_0x2b272f,player1Score,_0x250c66,_0x38d170,_0x4c19ec,player1MaxLevelReached,_0x35a754,_0x2773dc),_0x221dcc(_0x3394bc,player2Score,_0x283095,_0x21f2c0,_0x522608,player2MaxLevelReached,_0x573b7c,_0x2773dc);let _0x3588ce=0x0,_0xd3aff8='';if(player1Score>player2Score)_0x3588ce=0x1,_0xd3aff8=_0x2b272f;else player2Score>player1Score&&(_0x3588ce=0x2,_0xd3aff8=_0x3394bc);if(_0x3588ce>0x0){let _0x1f6bc5=_0x2773dc+getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE*0x2;drawCanvasText(_0xd3aff8,_0x489405,_0x1f6bc5,INTRO_TEXT_FONT,_0x347ad0(0x26c),_0x347ad0(0x237),_0x347ad0(0x20e),!![]),drawCanvasText(_0x347ad0(0x25c),_0x489405,_0x1f6bc5+RESULTS_LINE_V_SPACING_SINGLE,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x347ad0(0x237),_0x347ad0(0x20e),!![]);}}else{const _0x40f2a0=player1ShotsFired||0x0,_0xd845f3=player1EnemiesHit||0x0,_0x541901=!isManualControl&&wasLastGameAIDemo&&!isCoopAIDemoActive&&!isPlayerTwoAI?score:player1Score,_0x2cf647=!isManualControl&&wasLastGameAIDemo&&!isCoopAIDemoActive&&!isPlayerTwoAI?level:player1MaxLevelReached,_0x4803f0=_0x40f2a0>0x0?Math[_0x347ad0(0x1ee)](_0xd845f3/_0x40f2a0*0x64)+'%':'0%',_0xca188a=!isManualControl&&wasLastGameAIDemo&&!isCoopAIDemoActive&&!isPlayerTwoAI?'DEMO':_0x347ad0(0x2af);_0x221dcc(_0xca188a,_0x541901,_0x40f2a0,_0xd845f3,_0x4803f0,_0x2cf647,_0x489405,_0x2773dc);}gameCtx[_0x347ad0(0x28b)]();}}}}}}}}catch(_0x1d35af){console[_0x347ad0(0x207)](_0x347ad0(0x239),_0x1d35af,_0x1d35af[_0x347ad0(0x1cf)]);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;try{gameCtx&&gameCanvas&&(gameCtx[_0x347ad0(0x2ad)]=_0x347ad0(0x27a),gameCtx[_0x347ad0(0x1da)]=_0x347ad0(0x2b3),gameCtx['textAlign']=_0x347ad0(0x237),gameCtx[_0x347ad0(0x1ed)](_0x347ad0(0x1fd),gameCanvas[_0x347ad0(0x23d)]/0x2,gameCanvas['height']/0x2));}catch(_0x1755d2){}try{showMenuState();}catch(_0x383483){}}}function hideCursor(){const _0x4930db=_0x2a8fa4;gameCanvas&&(gameCanvas[_0x4930db(0x1d9)][_0x4930db(0x204)]=_0x4930db(0x29f)),mouseIdleTimerId=null;}function handleCanvasMouseMove(_0x1d63a6){const _0xee94df=_0x2a8fa4;if(!gameCanvas)return;if(isTouchActiveGame&&isInGameState)return;clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;let _0x3b2ca4=_0xee94df(0x1e7);const _0x58b8f1=!isInGameState&&!isShowingScoreScreen;_0x58b8f1?(typeof handleCanvasTouch===_0xee94df(0x22a)&&handleCanvasTouch(_0x1d63a6,_0xee94df(0x2b4)),selectedButtonIndex!==-0x1&&(_0x3b2ca4='pointer')):selectedButtonIndex=-0x1;gameCanvas[_0xee94df(0x1d9)][_0xee94df(0x204)]=_0x3b2ca4,mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(!isInGameState){const _0x162d69=Date[_0xee94df(0x298)]();_0x162d69-lastMouseMoveResetTime>0x1f4&&(typeof startAutoDemoTimer==='function'&&selectedButtonIndex===-0x1&&startAutoDemoTimer(),lastMouseMoveResetTime=_0x162d69);}}function mainLoop(_0x2aa8cc){const _0x261448=_0x2a8fa4;try{drawStars();retroGridCtx&&retroGridCanvas&&drawRetroGrid();pollControllerForMenu();if(isInGameState&&!isPaused){if(!isManualControl&&connectedGamepadIndex!==null){const _0x1dd65c=navigator['getGamepads']();if(_0x1dd65c?.[connectedGamepadIndex]){const _0x280293=_0x1dd65c[connectedGamepadIndex],_0x3e3f9b=_0x280293[_0x261448(0x2a9)][_0x261448(0x1f9)](_0x274553=>_0x274553[_0x261448(0x29d)]);let _0x1e9555=![];for(let _0x4c4350=0x0;_0x4c4350<_0x3e3f9b['length'];_0x4c4350++){if(_0x4c4350===PS5_BUTTON_R1||_0x4c4350===PS5_BUTTON_TRIANGLE)continue;if(_0x3e3f9b[_0x4c4350]&&!(previousDemoButtonStates[_0x4c4350]??![])){_0x1e9555=!![];break;}}if(_0x1e9555){isCoopAIDemoActive=![],isPlayerTwoAI=![],showMenuState(),requestAnimationFrame(mainLoop);return;}previousDemoButtonStates=_0x3e3f9b['slice']();}else{if(previousDemoButtonStates[_0x261448(0x206)]>0x0)previousDemoButtonStates=[];}}else{if(previousDemoButtonStates[_0x261448(0x206)]>0x0)previousDemoButtonStates=[];}if(typeof window[_0x261448(0x271)]===_0x261448(0x22a))window[_0x261448(0x271)](_0x2aa8cc);else{console['error'](_0x261448(0x2a4));if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,showMenuState(),requestAnimationFrame(mainLoop);return;}if(gameOverSequenceStartTime>0x0){const _0x487f91=Date[_0x261448(0x298)](),_0x4e5b92=_0x487f91-gameOverSequenceStartTime,_0x49b716=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x4e5b92>=_0x49b716){showMenuState(),requestAnimationFrame(mainLoop);return;}}}else{if(isShowingScoreScreen)typeof renderGame==='function'&&renderGame();else{if(isInGameState&&gameOverSequenceStartTime>0x0){typeof renderGame===_0x261448(0x22a)&&renderGame();const _0x5bd4f2=Date['now'](),_0x3f7d5a=_0x5bd4f2-gameOverSequenceStartTime,_0x22bc63=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x3f7d5a>=_0x22bc63){showMenuState(),requestAnimationFrame(mainLoop);return;}}else{if(isInGameState&&isPaused)typeof renderGame===_0x261448(0x22a)&&renderGame();else{if(isInGameState&&isCsCompletionDelayActive){if(typeof window[_0x261448(0x271)]==='function')window[_0x261448(0x271)](_0x2aa8cc);else{if(typeof renderGame==='function')renderGame();}}else{if(isInGameState&&(isShowingPlayerGameOverMessage||isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage)){if(typeof window['runSingleGameUpdate']===_0x261448(0x22a))window['runSingleGameUpdate'](_0x2aa8cc);else{if(typeof renderGame===_0x261448(0x22a))renderGame();}}else typeof renderGame===_0x261448(0x22a)&&renderGame();}}}}}mainLoopId=requestAnimationFrame(mainLoop);}catch(_0x3c0ed4){console[_0x261448(0x207)](_0x261448(0x235),_0x3c0ed4,_0x3c0ed4[_0x261448(0x1cf)]);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,isPaused=![],stopAllGameSoundsInternal(),isGridSoundPlaying=![];try{showMenuState();}catch(_0x3f4f30){console[_0x261448(0x207)]('Failed\x20to\x20return\x20to\x20menu\x20after\x20loop\x20error:',_0x3f4f30),document[_0x261448(0x1fc)][_0x261448(0x2b0)]=_0x261448(0x1d3);}}}function startMainLoop(){if(mainLoopId===null)gridOffsetY=0x0,mainLoop();else{}}function initializeGame(){const _0x189583=_0x2a8fa4;try{if(typeof initializeDOMElements===_0x189583(0x22a)){if(!initializeDOMElements()){console['error'](_0x189583(0x274));return;}}else{console[_0x189583(0x207)](_0x189583(0x26f));return;}if(typeof window[_0x189583(0x26e)]===_0x189583(0x22a))window[_0x189583(0x26e)]();else{if(typeof loadHighScore===_0x189583(0x22a))loadHighScore();else console[_0x189583(0x211)]('loadHighScore\x20function\x20not\x20found.');}if(typeof window['defineNormalWaveEntrancePaths']===_0x189583(0x22a))window['defineNormalWaveEntrancePaths']();else{if(typeof defineNormalWaveEntrancePaths==='function')defineNormalWaveEntrancePaths();else console[_0x189583(0x207)]('defineNormalWaveEntrancePaths\x20not\x20found!');}if(typeof window[_0x189583(0x1fa)]===_0x189583(0x22a))window[_0x189583(0x1fa)]();else{if(typeof defineChallengingStagePaths==='function')defineChallengingStagePaths();else console['error'](_0x189583(0x269));}window[_0x189583(0x2a5)](_0x189583(0x221),handleKeyDown),window[_0x189583(0x2a5)](_0x189583(0x24a),handleKeyUp);gameCanvas?(gameCanvas[_0x189583(0x2a5)](_0x189583(0x1fb),handleCanvasClick),gameCanvas[_0x189583(0x2a5)](_0x189583(0x256),handleCanvasMouseMove)):console[_0x189583(0x207)](_0x189583(0x20c));window[_0x189583(0x2a5)](_0x189583(0x267),handleGamepadConnected),window['addEventListener'](_0x189583(0x2b8),handleGamepadDisconnected),window[_0x189583(0x2a5)]('resize',resizeCanvases),showMenuState();if(typeof resizeCanvases==='function')resizeCanvases();else console[_0x189583(0x207)](_0x189583(0x234));startMainLoop();}catch(_0x2e502e){console[_0x189583(0x207)](_0x189583(0x236),_0x2e502e,_0x2e502e[_0x189583(0x1cf)]),document['body']['innerHTML']=_0x189583(0x259)+_0x2e502e[_0x189583(0x24f)]+_0x189583(0x1d7),mainLoopId&&(cancelAnimationFrame(mainLoopId),mainLoopId=null);}}window[_0x2a8fa4(0x2a5)](_0x2a8fa4(0x1ec),initializeGame);