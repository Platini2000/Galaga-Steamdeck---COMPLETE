const _0x48a199=_0x13b4;(function(_0x110776,_0x25ce1){const _0x5889d3=_0x13b4,_0x132bc3=_0x110776();while(!![]){try{const _0x3ae103=-parseInt(_0x5889d3(0x2b5))/0x1*(-parseInt(_0x5889d3(0x1fc))/0x2)+-parseInt(_0x5889d3(0x2ee))/0x3+-parseInt(_0x5889d3(0x2da))/0x4*(-parseInt(_0x5889d3(0x247))/0x5)+parseInt(_0x5889d3(0x248))/0x6+-parseInt(_0x5889d3(0x2f5))/0x7+parseInt(_0x5889d3(0x238))/0x8+parseInt(_0x5889d3(0x263))/0x9*(parseInt(_0x5889d3(0x251))/0xa);if(_0x3ae103===_0x25ce1)break;else _0x132bc3['push'](_0x132bc3['shift']());}catch(_0x482f56){_0x132bc3['push'](_0x132bc3['shift']());}}}(_0x387e,0x90cc4));const ENEMY1_TYPE=_0x48a199(0x26c),ENEMY2_TYPE=_0x48a199(0x24b),ENEMY3_TYPE=_0x48a199(0x286),ENEMY_WIDTH=0x28,ENEMY_HEIGHT=0x28,ENEMY1_SCALE_FACTOR=1.33,ENEMY1_WIDTH=Math['round'](ENEMY_WIDTH*ENEMY1_SCALE_FACTOR),ENEMY1_HEIGHT=Math[_0x48a199(0x298)](ENEMY_HEIGHT*ENEMY1_SCALE_FACTOR),BOSS_SCALE_FACTOR=1.5,BOSS_WIDTH=Math[_0x48a199(0x298)](ENEMY_WIDTH*BOSS_SCALE_FACTOR),BOSS_HEIGHT=Math[_0x48a199(0x298)](ENEMY_HEIGHT*BOSS_SCALE_FACTOR),SHIP_WIDTH=0x32,SHIP_HEIGHT=0x32,SHIP_BOTTOM_MARGIN=0x1e,SHIP_MOVE_SPEED=0xa,COOP_SHIP_HORIZONTAL_OFFSET_FACTOR=0.15,CHALLENGING_STAGE_ENEMY_COUNT=0x28,CHALLENGING_STAGE_SQUADRON_SIZE=0x5,CHALLENGING_STAGE_SQUADRON_COUNT=CHALLENGING_STAGE_ENEMY_COUNT/CHALLENGING_STAGE_SQUADRON_SIZE,BASE_CS_SPEED_MULTIPLIER=4.2,MAX_CS_SPEED_MULTIPLIER=0x5,CS_HORIZONTAL_FLYBY_SPEED_FACTOR=0.35,CS_ENEMY_SPAWN_DELAY_IN_SQUADRON=0x50,CS_HORIZONTAL_FLYBY_SPAWN_DELAY=-0x19,CS_LOOP_ATTACK_SPAWN_DELAY=0x23,CHALLENGING_STAGE_SQUADRON_INTERVAL=0xbb8,PATH_T_OFFSET_PER_ENEMY=0.05,ENEMY2_MAX_HITS=0x1,ENEMY3_MAX_HITS=0x2,LEVEL_CAP_FOR_SCALING=0x32,BASE_GRID_FIRE_INTERVAL=0xaf0,MIN_GRID_FIRE_INTERVAL=0x2bc,BASE_GRID_FIRE_PROBABILITY=0.04,MAX_GRID_FIRE_PROBABILITY=0.18,BASE_GRID_MAX_FIRING_ENEMIES=0x7,MAX_GRID_MAX_FIRING_ENEMIES=0x10,BASE_RETURN_SPEED_FACTOR=1.5,MAX_RETURN_SPEED_FACTOR=2.5,PLAYER_GAME_OVER_MESSAGE_DURATION_COOP=0xbb8,AI_CAPTURE_BEAM_APPROACH_DELAY_MS=0x7d0,COOP_AI_CAPTURE_DIVE_ANTICIPATION_DURATION_MS=0xbb8,COOP_AI_SAVE_PARTNER_DELAY_MS=0x2710;let starrySkyCanvas,starryCtx,retroGridCanvas,retroGridCtx,gameCanvas,gameCtx,stars=[],gridOffsetY=0x0,isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,highScore=0x4e20,playerLives=0x3,score=0x0,level=0x1,isTwoPlayerMode=![],selectedGameMode='normal',currentPlayer=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1CompletedLevel=-0x1,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerNormalGameSubTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],isGameModeSelectMode=![],isFiringModeSelectMode=![],selectedFiringMode=_0x48a199(0x20c),selectedOnePlayerGameVariant='',isPlayerTwoAI=![],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![],scoreEarnedThisCS=0x0,player1LifeThresholdsMet=new Set(),player2LifeThresholdsMet=new Set(),isManualControl=![],isShowingDemoText=![],autoStartTimerId=null,gameJustStarted=![],mainLoopId=null,isShowingIntro=![],introStep=0x0,introDisplayStartTime=0x0,lastMouseMoveResetTime=0x0,isChallengingStage=![],isFullGridWave=![],isWaveTransitioning=![],showCsHitsMessage=![],csHitsMessageStartTime=0x0,showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![];showCsScoreForClearMessage=![];let showReadyMessage=![],readyMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],playerIntroSoundPlayed=![],stageIntroSoundPlayed=![],playLevelUpAfterCSBonus=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',isPlayer1ShowingGameOverMessage=![],player1GameOverMessageStartTime=0x0,isPlayer2ShowingGameOverMessage=![],player2GameOverMessageStartTime=0x0,forceCenterShipNextReset=![],isShipCaptured=![],isPlayer1ShipCaptured=![],isPlayer2ShipCaptured=![],capturingBossId=null,captureBeamActive=![],captureBeamSource={'x':0x0,'y':0x0},captureBeamTargetY=0x0,captureBeamProgress=0x0,captureAttemptMadeThisLevel=![],isWaitingForRespawn=![],isPlayer1WaitingForRespawn=![],isPlayer2WaitingForRespawn=![],respawnTime=0x0,player1RespawnTime=0x0,player2RespawnTime=0x0,isInvincible=![],isPlayer1Invincible=![],isPlayer2Invincible=![],invincibilityEndTime=0x0,player1InvincibilityEndTime=0x0,player2InvincibilityEndTime=0x0,fallingShips=[],isDualShipActive=![],player1IsDualShipActive=![],player2IsDualShipActive=![],isShowingCaptureMessage=![],captureMessageStartTime=0x0,capturedBossIdWithMessage=null,enemies=[],normalWaveEntrancePaths={},challengingStagePaths={},currentWaveDefinition=null,isEntrancePhaseActive=![],enemySpawnTimeouts=[],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0,lastEnemyDetachTime=0x0,gridMoveDirection=0x1,lastGridFireCheckTime=0x0,firstEnemyLanded=![],currentGridOffsetX=0x0,challengingStageEnemiesHit=0x0,challengingStageTotalEnemies=CHALLENGING_STAGE_ENEMY_COUNT,isGridBreathingActive=![];gridBreathStartTime=0x0,currentGridBreathFactor=0x0;function _0x13b4(_0x136437,_0x3c8857){const _0x387e81=_0x387e();return _0x13b4=function(_0x13b4fe,_0x465602){_0x13b4fe=_0x13b4fe-0x1f1;let _0x1f1f7e=_0x387e81[_0x13b4fe];return _0x1f1f7e;},_0x13b4(_0x136437,_0x3c8857);}let ship={'x':0x0,'y':0x0,'width':SHIP_WIDTH,'height':SHIP_HEIGHT,'speed':SHIP_MOVE_SPEED,'targetX':0x0,'id':_0x48a199(0x25a)},ship1=null,ship2=null,leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![];p2RightPressed=![],p2ShootPressed=![];let keyboardP1LeftDown=![];keyboardP1RightDown=![],keyboardP1ShootDown=![];let keyboardP2LeftDown=![];keyboardP2RightDown=![],keyboardP2ShootDown=![];let bullets=[],enemyBullets=[],explosions=[],hitSparks=[],playerLastShotTime=0x0,player1LastShotTime=0x0,player2LastShotTime=0x0,aiLastShotTime=0x0,aiCanShootTime=0x0,connectedGamepadIndex=null,connectedGamepadIndexP2=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],isGridSoundPlaying=![],gridJustCompleted=![],player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,visualOffsetX=-0x14,floatingScores=[],csCurrentChainHits=0x0;csCurrentChainScore=0x0,csLastHitTime=0x0,csLastChainHitPosition=null;let normalWaveCurrentChainHits=0x0;normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastHitPosition=null;let squadronCompletionStatus={},squadronEntranceFiringStatus={},isPaused=![],mouseIdleTimerId=null,initialGameStartSoundPlayedThisSession=![],coopStartSoundPlayedThisSession=![],wasLastGameAIDemo=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],isShowingCoopPlayersReady=![],coopPlayersReadyStartTime=0x0,gameJustStartedAndWaveLaunched=![],isCoopAIDemoActive=![],demoModeCounter=0x0,smoothedShip1X=undefined,smoothedShip2X=undefined,aiShip1TargetEnemy=null,aiShip2TargetEnemy=null,aiShip1CanShootTime=0x0,aiShip2CanShootTime=0x0,aiShip1LastShotTime=0x0,aiShip2LastShotTime=0x0,aiPlayerActivelySeekingCaptureById=null,coopAICaptureDiveAnticipationActive=![],coopAICaptureDiveAnticipationEndTime=0x0,player1CaptureRespawnX=0x0,player2CaptureRespawnX=0x0,player1NeedsRespawnAfterCapture=![],player2NeedsRespawnAfterCapture=![],capturedShipRespawnX_NormalMode=0x0,coopPartner1CapturedTime=0x0,coopPartner2CapturedTime=0x0,touchStartX=0x0,touchStartY=0x0,touchCurrentX=0x0,touchCurrentY=0x0,touchStartTime=0x0,isTouchActiveGame=![],isTouchActiveMenu=![],touchedMenuButtonIndex=-0x1,lastTapTime=0x0;const TOUCH_TAP_MAX_DURATION=0xfa,TOUCH_TAP_MAX_MOVEMENT=0x14,TOUCH_SHIP_CONTROL_AREA_Y_FACTOR=0.5,shipImage=new Image(),beeImage=new Image(),butterflyImage=new Image(),bossGalagaImage=new Image(),bulletImage=new Image(),enemyBulletImage=new Image(),logoImage=new Image();shipImage[_0x48a199(0x2af)]='Afbeeldingen/spaceship.png',beeImage['src']=_0x48a199(0x255),bulletImage[_0x48a199(0x2af)]=_0x48a199(0x1fa),bossGalagaImage['src']=_0x48a199(0x2bb),butterflyImage['src']=_0x48a199(0x240),logoImage[_0x48a199(0x2af)]=_0x48a199(0x2ac),enemyBulletImage['src']='Afbeeldingen/bullet-enemy.png';const beeImage2=new Image(),butterflyImage2=new Image(),bossGalagaImage2=new Image();beeImage2[_0x48a199(0x2af)]=_0x48a199(0x23d),butterflyImage2[_0x48a199(0x2af)]=_0x48a199(0x29a),bossGalagaImage2[_0x48a199(0x2af)]=_0x48a199(0x2a2);const level1Image=new Image(),level5Image=new Image(),level10Image=new Image(),level20Image=new Image(),level30Image=new Image(),level50Image=new Image();level1Image[_0x48a199(0x2af)]=_0x48a199(0x274),level5Image[_0x48a199(0x2af)]=_0x48a199(0x22b),level10Image[_0x48a199(0x2af)]=_0x48a199(0x28e),level20Image[_0x48a199(0x2af)]=_0x48a199(0x2bc),level30Image[_0x48a199(0x2af)]='Afbeeldingen/Level-30.png',level50Image[_0x48a199(0x2af)]='Afbeeldingen/Level-50.png';let audioContext,soundBuffers={},soundSources={},soundGainNodes={},audioContextInitialized=![];const soundPaths={'captureSound':_0x48a199(0x21a),'shipCapturedSound':'Geluiden/Capture-ship.mp3','dualShipSound':'Geluiden/coin.mp3','playerShootSound':_0x48a199(0x292),'explosionSound':'Geluiden/kill.mp3','gameOverSound':_0x48a199(0x2bf),'lostLifeSound':_0x48a199(0x208),'entranceSound':_0x48a199(0x20e),'bossGalagaDiveSound':'Geluiden/Enemy2.mp3','levelUpSound':_0x48a199(0x264),'enemyShootSound':_0x48a199(0x297),'butterflyDiveSound':'Geluiden/flying.mp3','startSound':'Geluiden/Start.mp3','coinSound':'Geluiden/coin.mp3','beeHitSound':_0x48a199(0x29b),'butterflyHitSound':_0x48a199(0x2f6),'bossHit1Sound':_0x48a199(0x232),'bossHit2Sound':'Geluiden/Boss-hit2.mp3','gridBackgroundSound':'Geluiden/Achtergrond-grid.mp3','extraLifeSound':_0x48a199(0x211),'csPerfectSound':_0x48a199(0x226),'csClearSound':'Geluiden/CS-Clear.mp3','waveUpSound':_0x48a199(0x2cc),'menuMusicSound':'Geluiden/Menu-music.mp3','readySound':_0x48a199(0x215),'tripleAttackSound':_0x48a199(0x1fb),'resultsMusicSound':'Geluiden/results-music.mp3','hiScoreSound':_0x48a199(0x25c)},BASE_ENEMY_BULLET_SPEED=0x9,MAX_ENEMY_BULLET_SPEED=0x9,BASE_ENEMY_ATTACK_SPEED=5.5,MAX_ENEMY_ATTACK_SPEED=0x8,BASE_MAX_ATTACKING_ENEMIES=0xa,MAX_MAX_ATTACKING_ENEMIES=0x16,BASE_GRID_MOVE_SPEED=0.3,MAX_GRID_MOVE_SPEED=0.7,BASE_GRID_BREATH_CYCLE_MS=0x7d0,MIN_GRID_BREATH_CYCLE_MS=0x3e8,BASE_ENEMY_BULLET_BURST_COUNT=0x1,MAX_ENEMY_BULLET_BURST_COUNT=0x5,BASE_ENEMY_AIM_FACTOR=0.75,MAX_ENEMY_AIM_FACTOR=0.95,BASE_BEE_GROUP_ATTACK_PROBABILITY=0.05,MAX_BEE_GROUP_ATTACK_PROBABILITY=0.4,BASE_BEE_TRIPLE_ATTACK_PROBABILITY=0.1,MAX_BEE_TRIPLE_ATTACK_PROBABILITY=0.5,PLAYER_BULLET_WIDTH=0x5,PLAYER_BULLET_HEIGHT=0xf,PLAYER_BULLET_SPEED=0xe,DUAL_SHIP_BULLET_OFFSET_X=SHIP_WIDTH*0.5,ENEMY_BULLET_WIDTH=0x4,ENEMY_BULLET_HEIGHT=0xc,NUM_STARS=0x1f4,MAX_STAR_RADIUS=1.5,MIN_STAR_RADIUS=0.5,TWINKLE_SPEED=0.015,BASE_PARALLAX_SPEED=0.3,PARALLAX_SPEED_FACTOR=0x2,STAR_FADE_START_FACTOR_ABOVE_HORIZON=0.25,GRID_RGB_PART=_0x48a199(0x2bd),GRID_BASE_ALPHA=0.8,GRID_MIN_ALPHA=0.3,GRID_FIXED_LINES_ALPHA=0.5,GRID_LINE_COLOR_FIXED=_0x48a199(0x276)+GRID_RGB_PART+',\x20'+GRID_FIXED_LINES_ALPHA+')',GRID_LINE_WIDTH=0x2,GRID_SPEED=0.4,GRID_HORIZON_Y_FACTOR=0.74,GRID_BASE_SPACING=0xf,GRID_SPACING_POWER=0x2,GRID_HORIZONTAL_LINE_WIDTH_FACTOR=1.5,GRID_NUM_PERSPECTIVE_LINES=0xe,GRID_HORIZON_SPREAD_FACTOR=1.2,GRID_BOTTOM_SPREAD_FACTOR=0x2,GRID_PERSPECTIVE_POWER=0x1,MENU_INACTIVITY_TIMEOUT=0x4e20,SCORE_SCREEN_DURATION=0x4e20,ENTRANCE_SPEED=0x6,BASE_RETURN_SPEED=ENTRANCE_SPEED,NORMAL_ENTRANCE_PATH_SPEED=0.013934592,BOSS_LOOP_ENTRANCE_PATH_SPEED=0.055738368,ENEMY_SPAWN_DELAY_IN_SQUADRON=0x64,ENTRANCE_PAIR_HORIZONTAL_GAP=0x5,ENTRANCE_PAIR_PATH_T_OFFSET=0x0,NORMAL_WAVE_SQUADRON_INTERVAL=0x708,ENTRANCE_FIRE_BURST_DELAY_MS=0x50,CS_ENTRANCE_PATH_SPEED=0.0032,CS_COMPLETION_MESSAGE_DELAY=0x3e8,ENEMY_ANIMATION_INTERVAL_MS=0xfa,AXIS_DEAD_ZONE_MENU=0.3,AXIS_DEAD_ZONE_GAMEPLAY=0.15,PS5_BUTTON_CROSS=0x0,PS5_BUTTON_CIRCLE=0x1,PS5_BUTTON_TRIANGLE=0x3,PS5_BUTTON_R1=0x5,PS5_DPAD_UP=0xc,PS5_DPAD_DOWN=0xd,PS5_DPAD_LEFT=0xe,PS5_DPAD_RIGHT=0xf,PS5_LEFT_STICK_X=0x0,PS5_LEFT_STICK_Y=0x1,SHOOT_COOLDOWN=0x8c,CS_MULTI_BULLET_COUNT=0x2,CS_MULTI_BULLET_SPREAD_ANGLE_DEG=0x8,GRID_ROWS=0x5,GRID_COLS=0xa,ENEMY_V_SPACING=0x14,ENEMY_H_SPACING_FIXED=0x1e,ENEMY_TOP_MARGIN=0x75,GRID_HORIZONTAL_MARGIN_PERCENT=0.18,GRID_BREATH_ENABLED=!![],GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR=0.5,GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR=0.3,ENEMY1_DIVE_SPEED_FACTOR=0.65,ENEMY2_DIVE_SPEED_FACTOR=0.75,ENEMY3_ATTACK_SPEED_FACTOR=0.8,BOSS_CAPTURE_DIVE_SPEED_FACTOR=0.85,GROUP_DETACH_DELAY_MS=0x50,GROUP_FIRE_BURST_DELAY=0x258,SOLO_BUTTERFLY_FIRE_DELAY=0x258,BOSS_CAPTURE_DIVE_PROBABILITY=0.15,CAPTURE_DIVE_SIDE_MARGIN_FACTOR=0.15,CAPTURE_DIVE_BOTTOM_HOVER_Y_FACTOR=0.7,CAPTURE_BEAM_DURATION_MS=0x1388,CAPTURE_BEAM_ANIMATION_DURATION_MS=0x1f4,CAPTURE_BEAM_WIDTH_TOP_FACTOR=0.7,CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR=1.8,CAPTURE_BEAM_COLOR_START=_0x48a199(0x209),CAPTURE_BEAM_COLOR_END=_0x48a199(0x2df),CAPTURE_BEAM_PULSE_SPEED=0.004,CAPTURED_SHIP_SCALE=0x1,CAPTURED_SHIP_OFFSET_X=(BOSS_WIDTH-SHIP_WIDTH)/0x2,CAPTURED_SHIP_OFFSET_Y=-SHIP_HEIGHT*0.5,CAPTURE_MESSAGE_DURATION=0xbb8,CAPTURED_SHIP_TINT_COLOR='rgba(255,\x20150,\x20150,\x200.55)',CAPTURED_SHIP_FIRE_COOLDOWN_MS=0x1f4,RESPAWN_DELAY_MS=0x7d0,INVINCIBILITY_DURATION_MS=0x7d0,INVINCIBILITY_BLINK_ON_MS=0x64,INVINCIBILITY_BLINK_OFF_MS=0x32,FALLING_SHIP_SPEED=3.5,FALLING_SHIP_FADE_DURATION_MS=0x5dc,FALLING_SHIP_ROTATION_DURATION_MS=0x5dc,FALLING_SHIP_ROTATION_SPEED=0.1,DUAL_SHIP_DOCK_TIME_MS=0x3e8,DUAL_SHIP_OFFSET_X=SHIP_WIDTH,AUTO_DOCK_THRESHOLD=0x14,FLOATING_SCORE_DURATION=0x1f4,FLOATING_SCORE_APPEAR_DELAY=-0x32,FLOATING_SCORE_FONT='bold\x2012px\x20\x27Press\x20Start\x202P\x27',FLOATING_SCORE_OPACITY=0.5,FLOATING_SCORE_COLOR_GRID='cyan',FLOATING_SCORE_COLOR_ACTIVE=_0x48a199(0x1f2),FLOATING_SCORE_COLOR_CS_CHAIN='cyan',CS_CHAIN_SCORE_THRESHOLD=0x4,CS_CHAIN_BREAK_TIME_MS=0x1f4,NORMAL_WAVE_CHAIN_BONUS_ENABLED=![],NORMAL_WAVE_CHAIN_SCORE_THRESHOLD=0x4,NORMAL_WAVE_CHAIN_BREAK_TIME_MS=0x2ee,EXPLOSION_DURATION=0x28a,EXPLOSION_PARTICLE_COUNT=0x19,EXPLOSION_MAX_SPEED=5.5,EXPLOSION_MIN_SPEED=1.5,EXPLOSION_PARTICLE_RADIUS=0x4,EXPLOSION_FADE_SPEED=2.8,EXPLOSION_MAX_OPACITY=0.8,HIT_SPARK_COUNT=0x8,HIT_SPARK_LIFETIME=0x5dc,HIT_SPARK_SPEED=4.5,HIT_SPARK_SIZE=2.5,HIT_SPARK_COLOR=_0x48a199(0x2e3),HIT_SPARK_GRAVITY=0.05,HIT_SPARK_FADE_SPEED=0x1/HIT_SPARK_LIFETIME,UI_TEXT_MARGIN_TOP=0x23,UI_1UP_BLINK_ON_MS=0x258,UI_1UP_BLINK_OFF_MS=0x190,UI_1UP_BLINK_CYCLE_MS=UI_1UP_BLINK_ON_MS+UI_1UP_BLINK_OFF_MS,AI_SHOOT_COOLDOWN=0x8c,AI_STABILIZATION_DURATION=0x1f4,AI_POSITION_MOVE_SPEED_FACTOR=1.2,AI_COLLISION_LOOKAHEAD=SHIP_HEIGHT*3.5,AI_COLLISION_BUFFER=SHIP_WIDTH*0.6,FINAL_DODGE_LOOKAHEAD=AI_COLLISION_LOOKAHEAD*4.5,FINAL_DODGE_BUFFER_BASE=AI_COLLISION_BUFFER*3.5,ENTRANCE_BULLET_DODGE_LOOKAHEAD=FINAL_DODGE_LOOKAHEAD*1.1,ENTRANCE_BULLET_DODGE_BUFFER=FINAL_DODGE_BUFFER_BASE*1.1,FINAL_AI_DODGE_MOVE_SPEED_FACTOR=3.8,AI_SHOOT_ALIGNMENT_THRESHOLD=0.15,AI_SHOT_CLEARANCE_BUFFER=PLAYER_BULLET_WIDTH*1.5,MAX_PREDICTION_TIME_CS=0.7,NORMAL_MOVE_FRACTION=0.08,CS_AI_MOVE_FRACTION=0.16,AI_SMOOTHING_FACTOR_MOVE=0.05,CS_MOVE_SPEED_FACTOR=1.8,NORMAL_WAVE_ATTACKING_DODGE_BUFFER_MULTIPLIER=1.2,NORMAL_WAVE_ATTACKING_DODGE_SPEED_MULTIPLIER=1.1,STABILIZE_MOVE_FRACTION=0.05,ENTRANCE_DODGE_MOVE_FRACTION=0.15,AI_MOVEMENT_DEADZONE=0.8,AI_SMOOTHING_FACTOR=0.1,AI_EDGE_BUFFER=SHIP_WIDTH*0.5,AI_ANTI_CORNER_BUFFER=AI_EDGE_BUFFER*2.5,BEE_DODGE_BUFFER_HORIZONTAL_FACTOR=1.5,FINAL_SHOOT_ALIGNMENT_THRESHOLD=0x2,GRID_SHOOT_ALIGNMENT_FACTOR=1.5,ENTRANCE_SHOOT_ALIGNMENT_FACTOR=1.2,ENTRANCE_AI_DODGE_MOVE_SPEED_FACTOR=0x4,AI_WIGGLE_AMPLITUDE=SHIP_WIDTH*0.15,AI_WIGGLE_PERIOD=0xbb8,AI_EDGE_SHOOT_BUFFER_FACTOR=0x2,AI_EDGE_SHOOT_TARGET_THRESHOLD_FACTOR=0.75,ENTRANCE_SHOOT_BULLET_CHECK_LOOKAHEAD=SHIP_HEIGHT*1.5,ENTRANCE_SHOOT_BULLET_CHECK_BUFFER=SHIP_WIDTH*0.8,MAX_PREDICTION_TIME=0.8,LOCAL_CS_POSITION_MIN_X=0x0,LOCAL_CS_POSITION_MAX_X=0x0,CS_SHOOTING_MOVE_FRACTION=0.25,CS_SHOOTING_MOVE_SPEED_FACTOR=0x2,CS_PREDICTION_FACTOR=0x1,AI_CAPTURE_WAIT_DURATION_MS=0x7d0,INTRO_DURATION_PER_STEP=0xfa0,TWO_PLAYER_STAGE_INTRO_DURATION=0xfa0,READY_MESSAGE_DURATION=0xbb8,CS_HITS_MESSAGE_DURATION=0x3e8,CS_PERFECT_MESSAGE_DURATION=0x3e8,CS_BONUS_MESSAGE_DURATION=0x1f40,CS_CLEAR_DELAY=0x1f40,CS_CLEAR_HITS_DELAY=0x3e8,CS_CLEAR_SCORE_DELAY=0x7d0,EXTRA_LIFE_MESSAGE_DURATION=0xbb8,RECURRING_EXTRA_LIFE_INTERVAL=0x11170,POST_MESSAGE_RESET_DELAY=0x3e8,EXTRA_LIFE_THRESHOLD_1=0x4e20,EXTRA_LIFE_THRESHOLD_2=0x11170,GAME_OVER_DURATION=0x1388,waveEntrancePatterns=[[{'pathId':'new_path_left','enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':_0x48a199(0x217)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':_0x48a199(0x217)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':_0x48a199(0x217)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':_0x48a199(0x217)}]},{'pathId':_0x48a199(0x245),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0x48a199(0x245)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':_0x48a199(0x245)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':_0x48a199(0x245)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':_0x48a199(0x245)}]},{'pathId':_0x48a199(0x2a6),'enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':'boss_loop_left'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':'boss_loop_left'},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':_0x48a199(0x2a6),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':_0x48a199(0x2a6),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':_0x48a199(0x2a6)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':_0x48a199(0x2a6)}]},{'pathId':_0x48a199(0x228),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':_0x48a199(0x228)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':_0x48a199(0x228)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':_0x48a199(0x228)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':_0x48a199(0x228)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':'boss_loop_right'}]},{'pathId':_0x48a199(0x296),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':_0x48a199(0x296)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':_0x48a199(0x296)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':_0x48a199(0x296)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':_0x48a199(0x296)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':_0x48a199(0x296)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':_0x48a199(0x296)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':_0x48a199(0x296)}]},{'pathId':_0x48a199(0x2eb),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':_0x48a199(0x2eb)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':_0x48a199(0x2eb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':_0x48a199(0x2eb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':_0x48a199(0x2eb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':_0x48a199(0x2eb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':_0x48a199(0x2eb)}]}],[{'pathId':_0x48a199(0x217),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':'new_path_left'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':'new_path_left'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':_0x48a199(0x217)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':_0x48a199(0x217)}]},{'pathId':_0x48a199(0x245),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0x48a199(0x245)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':_0x48a199(0x245)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':'new_path_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':_0x48a199(0x245)}]},{'pathId':_0x48a199(0x2a6),'enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':_0x48a199(0x2a6),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':_0x48a199(0x2a6),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':_0x48a199(0x2a6)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':_0x48a199(0x2a6)},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':_0x48a199(0x2a6),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':_0x48a199(0x2a6)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':'boss_loop_left'}]},{'pathId':'boss_loop_right','enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':_0x48a199(0x228)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':_0x48a199(0x228)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':_0x48a199(0x228)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':_0x48a199(0x228)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':'boss_loop_right'}]},{'pathId':_0x48a199(0x296),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':_0x48a199(0x296)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':_0x48a199(0x296)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':_0x48a199(0x296)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':_0x48a199(0x296)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':_0x48a199(0x296)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':_0x48a199(0x296)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':_0x48a199(0x296)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':'mid_curve_left'}]},{'pathId':_0x48a199(0x2eb),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':_0x48a199(0x2eb)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':_0x48a199(0x2eb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':_0x48a199(0x2eb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':_0x48a199(0x2eb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':_0x48a199(0x2eb)}]}]],MARGIN_TOP=0x5,MARGIN_SIDE=0x69,SCORE_OFFSET_Y=0x19,LIFE_ICON_SIZE=0x23,LIFE_ICON_SPACING=0x8,LIFE_ICON_MARGIN_BOTTOM=-0x1,LIFE_ICON_MARGIN_LEFT=MARGIN_SIDE-0x1e,LEVEL_ICON_SIZE=0x23,LEVEL_ICON_MARGIN_BOTTOM=LIFE_ICON_MARGIN_BOTTOM,LEVEL_ICON_MARGIN_RIGHT=MARGIN_SIDE-0x1e,LEVEL_ICON_SPACING=LIFE_ICON_SPACING;function checkCollision(_0x10b6c3,_0x4e310e){const _0x1acd2e=_0x48a199;if(!_0x10b6c3||!_0x4e310e)return![];return _0x10b6c3['x']<_0x4e310e['x']+_0x4e310e[_0x1acd2e(0x207)]&&_0x10b6c3['x']+_0x10b6c3['width']>_0x4e310e['x']&&_0x10b6c3['y']<_0x4e310e['y']+_0x4e310e[_0x1acd2e(0x273)]&&_0x10b6c3['y']+_0x10b6c3[_0x1acd2e(0x273)]>_0x4e310e['y'];}function initializeAudioContext(){const _0x4e90a5=_0x48a199;if(audioContextInitialized)return;try{audioContext=new(window['AudioContext']||window['webkitAudioContext'])();if(audioContext[_0x4e90a5(0x231)]==='suspended'){const _0x89dd8f=()=>{const _0x22808b=_0x4e90a5;audioContext['resume']()[_0x22808b(0x2b8)](()=>{const _0x211fe4=_0x22808b;console[_0x211fe4(0x26e)]('AudioContext\x20resumed\x20successfully\x20after\x20user\x20gesture.'),audioContextInitialized=!![],window[_0x211fe4(0x237)](_0x211fe4(0x2d4),_0x89dd8f),window[_0x211fe4(0x237)](_0x211fe4(0x230),_0x89dd8f);})['catch'](_0x4b6931=>console['error'](_0x22808b(0x2b3),_0x4b6931));};window[_0x4e90a5(0x290)](_0x4e90a5(0x2d4),_0x89dd8f,{'once':!![]}),window[_0x4e90a5(0x290)](_0x4e90a5(0x230),_0x89dd8f,{'once':!![]});}else audioContextInitialized=!![];}catch(_0x121710){console[_0x4e90a5(0x283)]('Web\x20Audio\x20API\x20is\x20not\x20supported\x20in\x20this\x20browser.',_0x121710);}}async function loadSound(_0x5bf04b,_0x25d552){const _0x18cd9d=_0x48a199;if(!audioContext){console[_0x18cd9d(0x2e6)](_0x18cd9d(0x24c)+_0x5bf04b);return;}if(soundBuffers[_0x5bf04b])return;try{const _0x36f8d0=await fetch(_0x25d552);if(!_0x36f8d0['ok'])throw new Error(_0x18cd9d(0x2b4)+_0x36f8d0['status']+_0x18cd9d(0x235)+_0x25d552);const _0x4e25b6=await _0x36f8d0[_0x18cd9d(0x23c)]();audioContext[_0x18cd9d(0x28d)](_0x4e25b6,_0x78351=>{soundBuffers[_0x5bf04b]=_0x78351;},_0xbbd12a=>{const _0x31fae0=_0x18cd9d;console['error'](_0x31fae0(0x26a)+_0x5bf04b+'\x20('+_0x25d552+'):',_0xbbd12a);});}catch(_0x3c1b47){console[_0x18cd9d(0x283)](_0x18cd9d(0x2ca)+_0x5bf04b+'\x20('+_0x25d552+'):',_0x3c1b47);}}function loadAllSounds(){if(!audioContext)return;for(const _0x4b643e in soundPaths){loadSound(_0x4b643e,soundPaths[_0x4b643e]);}}function initializeDOMElements(){const _0x27d563=_0x48a199;starrySkyCanvas=document[_0x27d563(0x216)](_0x27d563(0x203)),starryCtx=starrySkyCanvas?.[_0x27d563(0x25d)]('2d'),retroGridCanvas=document['getElementById'](_0x27d563(0x2a8)),retroGridCtx=retroGridCanvas?.[_0x27d563(0x25d)]('2d'),gameCanvas=document[_0x27d563(0x216)](_0x27d563(0x2a3)),gameCtx=gameCanvas?.[_0x27d563(0x25d)]('2d');if(!starryCtx||!retroGridCtx||!gameCtx)return console[_0x27d563(0x283)](_0x27d563(0x262)),alert(_0x27d563(0x2ed)),document[_0x27d563(0x2b6)][_0x27d563(0x1fe)]=_0x27d563(0x2e1),![];if(gameCanvas[_0x27d563(0x207)]===0x0||gameCanvas[_0x27d563(0x273)]===0x0){const _0x43853e=window[_0x27d563(0x2c2)]||0x320,_0x3287e3=window[_0x27d563(0x2db)]||0x258;starrySkyCanvas&&(starrySkyCanvas[_0x27d563(0x207)]=_0x43853e,starrySkyCanvas[_0x27d563(0x273)]=_0x3287e3),retroGridCanvas&&(retroGridCanvas[_0x27d563(0x207)]=_0x43853e,retroGridCanvas['height']=_0x3287e3),gameCanvas[_0x27d563(0x207)]=_0x43853e,gameCanvas[_0x27d563(0x273)]=_0x3287e3;}floatingScores=[],csCurrentChainHits=0x0,csCurrentChainScore=0x0,csLastHitTime=0x0,csLastChainHitPosition=null,normalWaveCurrentChainHits=0x0,normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastHitPosition=null,initializeAudioContext();audioContext&&(loadAllSounds(),setTimeout(()=>{const _0x5e65b0=_0x27d563;!audioContextInitialized&&audioContext[_0x5e65b0(0x231)]===_0x5e65b0(0x2f1)&&console[_0x5e65b0(0x2e6)](_0x5e65b0(0x2dc)),setVolume('playerShootSound',0.4),setVolume('explosionSound',0.4),setVolume('gameOverSound',0.4),setVolume('lostLifeSound',0.6),setVolume(_0x5e65b0(0x2cf),0.4),setVolume(_0x5e65b0(0x293),0.2),setVolume(_0x5e65b0(0x243),0.2),setVolume('enemyShootSound',0.4),setVolume(_0x5e65b0(0x2d3),0.2),setVolume('startSound',0.4),setVolume('coinSound',0.4),setVolume(_0x5e65b0(0x24a),0.3),setVolume(_0x5e65b0(0x270),0.3),setVolume(_0x5e65b0(0x282),0.6),setVolume(_0x5e65b0(0x2ab),0.4),setVolume(_0x5e65b0(0x22e),0.1),setVolume(_0x5e65b0(0x200),0.5),setVolume(_0x5e65b0(0x277),0.6),setVolume(_0x5e65b0(0x2d2),0.6),setVolume(_0x5e65b0(0x2f3),0.8),setVolume(_0x5e65b0(0x260),0.2),setVolume(_0x5e65b0(0x2cb),0.1),setVolume(_0x5e65b0(0x2a7),0.3),setVolume(_0x5e65b0(0x214),0.6),setVolume(_0x5e65b0(0x27d),0.3),setVolume(_0x5e65b0(0x22c),0.4),setVolume(_0x5e65b0(0x2d8),0.2),setVolume(_0x5e65b0(0x2d0),0.2);},0x64));gameCanvas&&(gameCanvas[_0x27d563(0x290)](_0x27d563(0x230),handleTouchStartGlobal,{'passive':![]}),gameCanvas['addEventListener'](_0x27d563(0x1f5),handleTouchMoveGlobal,{'passive':![]}),gameCanvas[_0x27d563(0x290)](_0x27d563(0x29f),handleTouchEndGlobal,{'passive':![]}),gameCanvas['addEventListener']('touchcancel',handleTouchEndGlobal,{'passive':![]}));const _0x407ff5=[shipImage,beeImage,bulletImage,bossGalagaImage,butterflyImage,logoImage,level1Image,level5Image,level10Image,level20Image,level30Image,level50Image,beeImage2,butterflyImage2,bossGalagaImage2];return _0x407ff5['forEach'](_0x2e8314=>{const _0x1a503a=_0x27d563;if(_0x2e8314)_0x2e8314['onerror']=()=>console[_0x1a503a(0x283)](_0x1a503a(0x2ec)+_0x2e8314[_0x1a503a(0x2af)]);}),!![];}function scaleValue(_0x5c09e2,_0x114576,_0x233ad9){const _0x53de1e=_0x48a199,_0x4e1b99=Math[_0x53de1e(0x213)](0x1,Math['min'](_0x5c09e2,LEVEL_CAP_FOR_SCALING));if(_0x4e1b99===0x1)return _0x114576;const _0x39fa54=(_0x4e1b99-0x1)/(LEVEL_CAP_FOR_SCALING-0x1);return _0x114576+(_0x233ad9-_0x114576)*_0x39fa54;}function setupInitialEventListeners(){const _0x9b2e04=_0x48a199;try{window[_0x9b2e04(0x290)]('gamepadconnected',handleGamepadConnected),window['addEventListener'](_0x9b2e04(0x20d),handleGamepadDisconnected),window[_0x9b2e04(0x290)](_0x9b2e04(0x221),resizeCanvases);}catch(_0x376dfd){console[_0x9b2e04(0x283)]('Error\x20setting\x20up\x20initial\x20event\x20listeners:',_0x376dfd);}}function getCurrentGridSlotPosition(_0x24b8f6,_0x5b8193,_0x2f3b37){const _0x97db79=_0x48a199;if(!gameCanvas||gameCanvas[_0x97db79(0x207)]===0x0||_0x24b8f6<0x0||_0x5b8193<0x0)return{'x':gameCanvas?.[_0x97db79(0x207)]/0x2||0xc8,'y':ENEMY_TOP_MARGIN||0x64};const _0x269c58=ENEMY_WIDTH;let _0x2cd244=ENEMY_H_SPACING_FIXED,_0x343e56=ENEMY_V_SPACING;if(GRID_BREATH_ENABLED&&isGridBreathingActive){const _0x3fc927=ENEMY_H_SPACING_FIXED*GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR*currentGridBreathFactor;_0x2cd244=ENEMY_H_SPACING_FIXED+_0x3fc927;const _0x5275b2=ENEMY_V_SPACING*GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR*currentGridBreathFactor;_0x343e56=ENEMY_V_SPACING+_0x5275b2;}const _0x22b1fd=GRID_COLS*_0x269c58+(GRID_COLS-0x1)*_0x2cd244,_0x394991=Math[_0x97db79(0x298)]((gameCanvas[_0x97db79(0x207)]-_0x22b1fd)/0x2),_0x32e0e2=_0x394991+currentGridOffsetX,_0x1a44ec=_0x32e0e2+_0x5b8193*(_0x269c58+_0x2cd244),_0x1827f8=(_0x269c58-_0x2f3b37)/0x2,_0x2236cf=Math[_0x97db79(0x298)](_0x1a44ec+_0x1827f8),_0x2a18b9=Math[_0x97db79(0x298)](ENEMY_TOP_MARGIN+_0x24b8f6*(ENEMY_HEIGHT+ENEMY_V_SPACING));return{'x':_0x2236cf,'y':_0x2a18b9};}function playSound(_0x2a6a52,_0x16e723=![],_0x2f917b=0x1){const _0x518452=_0x48a199;if(!audioContext||!audioContextInitialized||audioContext[_0x518452(0x231)]===_0x518452(0x2f1)||!soundBuffers[_0x2a6a52])return;if(isPaused&&_0x2a6a52!==_0x518452(0x260))return;if(_0x2a6a52!==_0x518452(0x260)&&_0x2a6a52!=='gridBackgroundSound')stopSound(_0x2a6a52);else{if((_0x2a6a52==='menuMusicSound'||_0x2a6a52===_0x518452(0x22e))&&soundSources[_0x2a6a52])return;}const _0x20383c=audioContext['createBufferSource']();_0x20383c[_0x518452(0x1f9)]=soundBuffers[_0x2a6a52],_0x20383c[_0x518452(0x2a5)]=_0x16e723;let _0x49ab48=soundGainNodes[_0x2a6a52];!_0x49ab48&&(_0x49ab48=audioContext[_0x518452(0x28a)](),soundGainNodes[_0x2a6a52]=_0x49ab48);const _0x41c0be=Math[_0x518452(0x213)](0x0,Math[_0x518452(0x2ea)](0x2,_0x2f917b));_0x49ab48[_0x518452(0x244)]['setValueAtTime'](_0x41c0be,audioContext[_0x518452(0x2e5)]),_0x20383c[_0x518452(0x280)](_0x49ab48),_0x49ab48[_0x518452(0x280)](audioContext[_0x518452(0x284)]),_0x20383c[_0x518452(0x2e7)](0x0),soundSources[_0x2a6a52]=_0x20383c,_0x20383c[_0x518452(0x2d1)]=()=>{soundSources[_0x2a6a52]===_0x20383c&&delete soundSources[_0x2a6a52];};}function stopSound(_0x505289){if(soundSources[_0x505289])try{soundSources[_0x505289]['stop'](0x0);}catch(_0x399d4f){}}function setVolume(_0x1b02bf,_0x13bc8e){const _0x54ae6d=_0x48a199;if(!audioContext)return;!soundGainNodes[_0x1b02bf]&&(soundGainNodes[_0x1b02bf]=audioContext[_0x54ae6d(0x28a)](),soundGainNodes[_0x1b02bf][_0x54ae6d(0x280)](audioContext[_0x54ae6d(0x284)]));const _0x1810b5=Math['max'](0x0,Math[_0x54ae6d(0x2ea)](0x2,_0x13bc8e));soundGainNodes[_0x1b02bf]['gain']['setValueAtTime'](_0x1810b5,audioContext[_0x54ae6d(0x2e5)]);}function triggerFullscreen(){const _0x3cbdeb=_0x48a199;if(!document[_0x3cbdeb(0x23f)]){const _0x5700d6=document[_0x3cbdeb(0x21b)];let _0x41d11e=null;if(_0x5700d6[_0x3cbdeb(0x21e)])_0x41d11e=_0x5700d6[_0x3cbdeb(0x21e)]();else{if(_0x5700d6[_0x3cbdeb(0x1fd)])_0x41d11e=_0x5700d6['mozRequestFullScreen']();else{if(_0x5700d6[_0x3cbdeb(0x2c1)])_0x41d11e=_0x5700d6[_0x3cbdeb(0x2c1)]();else _0x5700d6[_0x3cbdeb(0x2c9)]&&(_0x41d11e=_0x5700d6['msRequestFullscreen']());}}const _0x5de48d=()=>{const _0x3b9e37=_0x3cbdeb;if(audioContext&&audioContext[_0x3b9e37(0x231)]==='suspended')audioContext[_0x3b9e37(0x250)]()[_0x3b9e37(0x2b8)](()=>{audioContextInitialized=!![],playSound('menuMusicSound',!![],0.2);})[_0x3b9e37(0x227)](_0x498840=>console['error']('Error\x20resuming\x20AudioContext\x20for\x20fullscreen\x20music:',_0x498840));else audioContext&&playSound(_0x3b9e37(0x260),!![],0.2);};_0x41d11e?_0x41d11e[_0x3cbdeb(0x2b8)](()=>{_0x5de48d();})[_0x3cbdeb(0x227)](_0x50a837=>{const _0x3df66a=_0x3cbdeb;console[_0x3df66a(0x283)]('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x50a837[_0x3df66a(0x2e4)]+'\x20('+_0x50a837[_0x3df66a(0x257)]+')'),_0x5de48d();}):(console[_0x3cbdeb(0x2e6)](_0x3cbdeb(0x267)),_0x5de48d());}else{if(audioContext&&audioContext['state']===_0x3cbdeb(0x2f1))audioContext[_0x3cbdeb(0x250)]()['then'](()=>{const _0x4a2252=_0x3cbdeb;audioContextInitialized=!![],playSound(_0x4a2252(0x260),!![],0.2);});else audioContext&&playSound('menuMusicSound',!![],0.2);}}function createStar(){const _0x27f900=_0x48a199;if(!starrySkyCanvas||starrySkyCanvas[_0x27f900(0x207)]===0x0)return null;return{'x':Math[_0x27f900(0x1f4)]()*starrySkyCanvas[_0x27f900(0x207)],'y':Math[_0x27f900(0x1f4)]()*starrySkyCanvas[_0x27f900(0x273)],'radius':Math[_0x27f900(0x1f4)]()*(MAX_STAR_RADIUS-MIN_STAR_RADIUS)+MIN_STAR_RADIUS,'alpha':Math['random']()*0.8+0.2,'alphaChange':(Math[_0x27f900(0x1f4)]()>0.5?0x1:-0x1)*TWINKLE_SPEED*(Math[_0x27f900(0x1f4)]()*0.5+0.5)};}function createStars(){const _0x389089=_0x48a199;stars=[];if(starrySkyCanvas?.[_0x389089(0x207)]>0x0&&starrySkyCanvas?.[_0x389089(0x273)]>0x0)for(let _0x4bd2b5=0x0;_0x4bd2b5<NUM_STARS;_0x4bd2b5++){const _0x5c3ed8=createStar();if(_0x5c3ed8)stars['push'](_0x5c3ed8);}}function drawStars(){const _0x399939=_0x48a199;try{if(!starryCtx||!starrySkyCanvas||starrySkyCanvas[_0x399939(0x207)]===0x0||starrySkyCanvas[_0x399939(0x273)]===0x0)return;const _0x252efe=starrySkyCanvas[_0x399939(0x207)],_0x313331=starrySkyCanvas[_0x399939(0x273)];starryCtx[_0x399939(0x225)](0x0,0x0,_0x252efe,_0x313331);const _0x33d9a0=Math[_0x399939(0x298)](_0x313331*GRID_HORIZON_Y_FACTOR),_0x7130c1=_0x313331-_0x33d9a0,_0x584f2d=Math[_0x399939(0x213)](0x0,_0x33d9a0-_0x7130c1*STAR_FADE_START_FACTOR_ABOVE_HORIZON),_0x28c643=_0x33d9a0,_0x2a2502=Math[_0x399939(0x213)](0x1,_0x28c643-_0x584f2d);stars[_0x399939(0x28b)](_0x250a55=>{const _0x21cb54=_0x399939,_0x38e0fe=(_0x250a55['radius']-MIN_STAR_RADIUS)/(MAX_STAR_RADIUS-MIN_STAR_RADIUS),_0x1c5dd2=BASE_PARALLAX_SPEED+_0x38e0fe*PARALLAX_SPEED_FACTOR;!isPaused&&(_0x250a55['y']+=_0x1c5dd2);_0x250a55['y']>_0x313331+_0x250a55[_0x21cb54(0x2a1)]&&(_0x250a55['y']=-_0x250a55[_0x21cb54(0x2a1)]*0x2,_0x250a55['x']=Math['random']()*_0x252efe);!isPaused&&(_0x250a55[_0x21cb54(0x268)]+=_0x250a55[_0x21cb54(0x29c)],(_0x250a55[_0x21cb54(0x268)]<=0.1||_0x250a55[_0x21cb54(0x268)]>=0x1)&&(_0x250a55['alphaChange']*=-0x1,_0x250a55['alpha']=Math[_0x21cb54(0x213)](0.1,Math[_0x21cb54(0x2ea)](0x1,_0x250a55[_0x21cb54(0x268)]))));let _0x29eb22=_0x250a55[_0x21cb54(0x268)];_0x584f2d>=0x0&&_0x250a55['y']>_0x584f2d&&(_0x250a55['y']>=_0x33d9a0?_0x29eb22=0x0:_0x29eb22*=0x1-Math[_0x21cb54(0x2ea)](0x1,Math['max'](0x0,(_0x250a55['y']-_0x584f2d)/_0x2a2502))),_0x29eb22=Math[_0x21cb54(0x213)](0x0,Math['min'](0x1,_0x29eb22)),_0x29eb22>0.01&&(starryCtx[_0x21cb54(0x1f6)](),starryCtx[_0x21cb54(0x25e)](Math[_0x21cb54(0x298)](_0x250a55['x']),Math[_0x21cb54(0x298)](_0x250a55['y']),_0x250a55[_0x21cb54(0x2a1)],0x0,Math['PI']*0x2),starryCtx[_0x21cb54(0x26d)]=_0x21cb54(0x278)+_0x29eb22['toFixed'](0x3)+')',starryCtx[_0x21cb54(0x24f)]());});}catch(_0xe52bd3){console[_0x399939(0x283)](_0x399939(0x2c6),_0xe52bd3);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;}}function drawRetroGrid(){const _0x309580=_0x48a199;try{if(!retroGridCtx||!retroGridCanvas||retroGridCanvas['width']===0x0||retroGridCanvas[_0x309580(0x273)]===0x0)return;!isPaused&&(gridOffsetY-=GRID_SPEED);const _0xdb4714=retroGridCanvas['width'],_0x3d3932=retroGridCanvas['height'];retroGridCtx[_0x309580(0x225)](0x0,0x0,_0xdb4714,_0x3d3932);const _0x4e42bb=Math[_0x309580(0x298)](_0x3d3932*GRID_HORIZON_Y_FACTOR),_0x3028a2=_0xdb4714/0x2,_0x4eeec8=_0x3d3932-_0x4e42bb;retroGridCtx['lineWidth']=GRID_LINE_WIDTH;const _0x18ef0c=_0xdb4714*GRID_HORIZONTAL_LINE_WIDTH_FACTOR,_0x3ae2e7=_0x3028a2-_0x18ef0c/0x2,_0x3d2017=_0x3028a2+_0x18ef0c/0x2,_0x24b334=_0x4e42bb+_0x4eeec8*0.1,_0xf35aac=_0x3d3932,_0x13b85f=Math[_0x309580(0x213)](0x1,_0xf35aac-_0x24b334);retroGridCtx['strokeStyle']=GRID_LINE_COLOR_FIXED,retroGridCtx['beginPath'](),retroGridCtx[_0x309580(0x2f7)](_0x3ae2e7,_0x4e42bb),retroGridCtx[_0x309580(0x269)](_0x3d2017,_0x4e42bb),retroGridCtx['stroke']();let _0x57c81f=gridOffsetY%GRID_BASE_SPACING;_0x57c81f>0x0&&(_0x57c81f-=GRID_BASE_SPACING);let _0x1476c6=_0x4e42bb-_0x57c81f;if(_0x1476c6<=_0x4e42bb)_0x1476c6+=GRID_BASE_SPACING;while(_0x1476c6<_0x3d3932+GRID_BASE_SPACING){let _0x455895=Math[_0x309580(0x213)](0x0,Math[_0x309580(0x2ea)](0x1,(_0x1476c6-_0x4e42bb)/_0x4eeec8));if(_0x1476c6>_0x4e42bb&&_0x1476c6<=_0x3d3932+GRID_LINE_WIDTH*0x2){let _0x1fc2fa;if(_0x1476c6<=_0x24b334)_0x1fc2fa=GRID_MIN_ALPHA;else{if(_0x1476c6>=_0xf35aac)_0x1fc2fa=GRID_BASE_ALPHA;else{const _0x5252ee=(_0x1476c6-_0x24b334)/_0x13b85f;_0x1fc2fa=GRID_MIN_ALPHA+(GRID_BASE_ALPHA-GRID_MIN_ALPHA)*_0x5252ee;}}_0x1fc2fa=Math[_0x309580(0x213)](0x0,Math[_0x309580(0x2ea)](GRID_BASE_ALPHA,_0x1fc2fa)),_0x1fc2fa>0.01&&(retroGridCtx[_0x309580(0x25b)]='rgba('+GRID_RGB_PART+',\x20'+_0x1fc2fa['toFixed'](0x3)+')',retroGridCtx[_0x309580(0x1f6)](),retroGridCtx[_0x309580(0x2f7)](_0x3ae2e7,Math['round'](_0x1476c6)),retroGridCtx[_0x309580(0x269)](_0x3d2017,Math[_0x309580(0x298)](_0x1476c6)),retroGridCtx[_0x309580(0x29e)]());}let _0x593874=GRID_BASE_SPACING*Math[_0x309580(0x1ff)](0x1+_0x455895*1.5,GRID_SPACING_POWER);_0x1476c6+=Math[_0x309580(0x213)](0x1,_0x593874);}retroGridCtx[_0x309580(0x25b)]=GRID_LINE_COLOR_FIXED,retroGridCtx[_0x309580(0x1f6)]();const _0x1bb3b3=Math[_0x309580(0x234)](GRID_NUM_PERSPECTIVE_LINES/0x2),_0x5925d3=_0xdb4714*GRID_HORIZON_SPREAD_FACTOR,_0x23df64=_0xdb4714*GRID_BOTTOM_SPREAD_FACTOR;for(let _0x42ecb0=0x0;_0x42ecb0<=_0x1bb3b3;_0x42ecb0++){let _0xc3ead1=Math[_0x309580(0x1ff)](_0x42ecb0/_0x1bb3b3,GRID_PERSPECTIVE_POWER),_0x29c36c=_0x3028a2+_0xc3ead1*(_0x5925d3/0x2),_0x206451=_0x3028a2-_0xc3ead1*(_0x5925d3/0x2),_0x4b369e=_0x3028a2+_0xc3ead1*(_0x23df64/0x2),_0x19923c=_0x3028a2-_0xc3ead1*(_0x23df64/0x2);retroGridCtx[_0x309580(0x2f7)](_0x29c36c,_0x4e42bb),retroGridCtx[_0x309580(0x269)](_0x4b369e,_0x3d3932),_0x42ecb0>0x0&&(retroGridCtx[_0x309580(0x2f7)](_0x206451,_0x4e42bb),retroGridCtx['lineTo'](_0x19923c,_0x3d3932));}retroGridCtx[_0x309580(0x29e)]();}catch(_0x2146cd){console[_0x309580(0x283)](_0x309580(0x254),_0x2146cd);}}function calculateBezierPoint(_0x19e133,_0xb64a93,_0x16bc60,_0x382e61,_0x4f703b){const _0x32f43e=0x1-_0x19e133,_0x4df289=_0x19e133*_0x19e133,_0x22d26f=_0x32f43e*_0x32f43e,_0x25948b=_0x22d26f*_0x32f43e,_0x4cb190=_0x4df289*_0x19e133;let _0x5e814e=_0x25948b*_0xb64a93;return _0x5e814e+=0x3*_0x22d26f*_0x19e133*_0x16bc60,_0x5e814e+=0x3*_0x32f43e*_0x4df289*_0x382e61,_0x5e814e+=_0x4cb190*_0x4f703b,_0x5e814e;}function defineNormalWaveEntrancePaths(){const _0x239bfa=_0x48a199;normalWaveEntrancePaths={};const _0x2eaa8=gameCanvas?.['width'],_0x26fc82=gameCanvas?.[_0x239bfa(0x273)];if(!_0x2eaa8||!_0x26fc82||_0x2eaa8===0x0){console[_0x239bfa(0x283)](_0x239bfa(0x256));return;}const _0x3fbc47=_0x2eaa8/0x320,_0x322d40=_0x26fc82/0x258,_0x2603ed=-Math[_0x239bfa(0x213)](ENEMY1_HEIGHT,ENEMY_HEIGHT)*1.5,_0x13f5bb=_0x2eaa8/0x2,_0x271d24=-0x19,_0x137070=ENEMY_WIDTH,_0x173c6d=ENEMY_H_SPACING_FIXED,_0x36a073=GRID_COLS*_0x137070+(GRID_COLS-0x1)*_0x173c6d,_0x37f2c3=Math[_0x239bfa(0x298)]((_0x2eaa8-_0x36a073)/0x2),_0x2e22c3=_0x37f2c3+0x4*(_0x137070+_0x173c6d)+_0x137070/0x2,_0x890c1d=_0x37f2c3+0x5*(_0x137070+_0x173c6d)+_0x137070/0x2,_0x42b79d=(_0x2e22c3+_0x890c1d)/0x2+_0x271d24,_0x4ccac0=Math['round'](ENEMY_TOP_MARGIN+0x1*(ENEMY_HEIGHT+ENEMY_V_SPACING)),_0x5e6129=_0x4ccac0+0x3c*_0x322d40,_0x1b87bb=[{'p0':{'x':0x50/0x190*0x320*_0x3fbc47+_0x271d24,'y':_0x2603ed},'p1':{'x':0x1b8/0x190*0x320*_0x3fbc47+_0x271d24,'y':0x8c/0x12c*0x258*_0x322d40},'p2':{'x':0x104/0x190*0x320*_0x3fbc47+_0x271d24,'y':0x154/0x12c*0x258*_0x322d40},'p3':{'x':_0x42b79d,'y':_0x5e6129}}];normalWaveEntrancePaths[_0x239bfa(0x217)]=_0x1b87bb;const _0x53b5c7=_0x1b87bb[_0x239bfa(0x23e)](_0x978a4c=>({'p0':{'x':_0x2eaa8-(_0x978a4c['p0']['x']-_0x271d24)+_0x271d24,'y':_0x978a4c['p0']['y']},'p1':{'x':_0x2eaa8-(_0x978a4c['p1']['x']-_0x271d24)+_0x271d24,'y':_0x978a4c['p1']['y']},'p2':{'x':_0x2eaa8-(_0x978a4c['p2']['x']-_0x271d24)+_0x271d24,'y':_0x978a4c['p2']['y']},'p3':{'x':_0x42b79d,'y':_0x978a4c['p3']['y']}}));normalWaveEntrancePaths['new_path_right']=_0x53b5c7;const _0x4b8217=_0x3626ee=>{const _0x3bb6e1=_0x239bfa,_0x6655cf=_0x3626ee?'boss_loop_right':_0x3bb6e1(0x2a6),_0x36fdf4=_0x228de1=>_0x3626ee?_0x2eaa8-_0x228de1:_0x228de1,_0x1a4a44=0x82*_0x322d40,_0x2e706d=0x50*_0x3fbc47,_0x2cc454=0x12c*_0x3fbc47,_0x3c47f6=0x12c*_0x322d40,_0x59f32a=_0x2cc454+_0x2e706d,_0x2cc7cb=_0x3c47f6,_0x3cbfd0=_0x36fdf4(-0x64*_0x3fbc47),_0x28884f=(0x15e+_0x1a4a44)*_0x322d40,_0x30bace=ENEMY_TOP_MARGIN-0x14,_0x1a0081={'x':_0x3cbfd0,'y':_0x28884f},_0x38ea9e={'x':_0x36fdf4(_0x59f32a),'y':_0x3c47f6},_0x50452b={'x':_0x36fdf4(_0x2cc454),'y':_0x3c47f6-_0x2e706d},_0x3af764={'x':_0x36fdf4(_0x2cc454-_0x2e706d),'y':_0x3c47f6},_0x1e9514={'x':_0x36fdf4(_0x2cc454),'y':_0x3c47f6+_0x2e706d},_0x398469={'x':_0x38ea9e['x'],'y':_0x30bace},_0x3735cc=0.25,_0x5e087d=Math[_0x3bb6e1(0x220)](_0x38ea9e['y']-_0x28884f,_0x38ea9e['x']-_0x3cbfd0),_0x4feac1={'x':_0x38ea9e['x']-Math[_0x3bb6e1(0x2b7)](_0x5e087d)*_0x2e706d*_0x3735cc,'y':_0x38ea9e['y']-Math[_0x3bb6e1(0x27a)](_0x5e087d)*_0x2e706d*_0x3735cc},_0x3a2462={'x':(_0x1a0081['x']+_0x4feac1['x'])/0x2,'y':(_0x1a0081['y']+_0x4feac1['y'])/0x2},_0xa3c4cb={'x':_0x38ea9e['x'],'y':(_0x38ea9e['y']+_0x398469['y'])/0x2},_0x9a8a2e=0.552284749831,_0x300939=_0x2e706d*_0x9a8a2e,_0x5cafc6=_0x2e706d*_0x9a8a2e;let _0x46ca68=[];_0x46ca68[_0x3bb6e1(0x24e)]({'p0':_0x1a0081,'p1':{'x':_0x1a0081['x']+(_0x3a2462['x']-_0x1a0081['x'])*0.33,'y':_0x1a0081['y']+(_0x3a2462['y']-_0x1a0081['y'])*0.33},'p2':{'x':_0x1a0081['x']+(_0x3a2462['x']-_0x1a0081['x'])*0.66,'y':_0x1a0081['y']+(_0x3a2462['y']-_0x1a0081['y'])*0.66},'p3':_0x3a2462}),_0x46ca68['push']({'p0':_0x3a2462,'p1':{'x':_0x3a2462['x']+(_0x4feac1['x']-_0x3a2462['x'])*0.33,'y':_0x3a2462['y']+(_0x4feac1['y']-_0x3a2462['y'])*0.33},'p2':{'x':_0x3a2462['x']+(_0x4feac1['x']-_0x3a2462['x'])*0.66,'y':_0x3a2462['y']+(_0x4feac1['y']-_0x3a2462['y'])*0.66},'p3':_0x4feac1});const _0x58cf1f={'x':_0x4feac1['x']+(_0x4feac1['x']-_0x3a2462['x'])*0.3,'y':_0x4feac1['y']+(_0x4feac1['y']-_0x3a2462['y'])*0.3},_0x3d8aea={'x':_0x36fdf4(_0x2cc454+_0x300939),'y':_0x50452b['y']};return _0x46ca68[_0x3bb6e1(0x24e)]({'p0':_0x4feac1,'p1':_0x58cf1f,'p2':_0x3d8aea,'p3':_0x50452b}),_0x46ca68[_0x3bb6e1(0x24e)]({'p0':_0x50452b,'p1':{'x':_0x36fdf4(_0x2cc454-_0x300939),'y':_0x50452b['y']},'p2':{'x':_0x3af764['x'],'y':_0x3af764['y']-_0x5cafc6},'p3':_0x3af764}),_0x46ca68[_0x3bb6e1(0x24e)]({'p0':_0x3af764,'p1':{'x':_0x3af764['x'],'y':_0x3af764['y']+_0x5cafc6},'p2':{'x':_0x36fdf4(_0x2cc454-_0x300939),'y':_0x1e9514['y']},'p3':_0x1e9514}),_0x46ca68['push']({'p0':_0x1e9514,'p1':{'x':_0x36fdf4(_0x2cc454+_0x300939),'y':_0x1e9514['y']},'p2':{'x':_0x38ea9e['x'],'y':_0x38ea9e['y']+_0x5cafc6},'p3':_0x38ea9e}),_0x46ca68['push']({'p0':_0x38ea9e,'p1':{'x':_0x38ea9e['x']+(_0xa3c4cb['x']-_0x38ea9e['x'])*0.33,'y':_0x38ea9e['y']+(_0xa3c4cb['y']-_0x38ea9e['y'])*0.33},'p2':{'x':_0x38ea9e['x']+(_0xa3c4cb['x']-_0x38ea9e['x'])*0.66,'y':_0x38ea9e['y']+(_0xa3c4cb['y']-_0x38ea9e['y'])*0.66},'p3':_0xa3c4cb}),_0x46ca68[_0x3bb6e1(0x24e)]({'p0':_0xa3c4cb,'p1':{'x':_0xa3c4cb['x']+(_0x398469['x']-_0xa3c4cb['x'])*0.33,'y':_0xa3c4cb['y']+(_0x398469['y']-_0xa3c4cb['y'])*0.33},'p2':{'x':_0xa3c4cb['x']+(_0x398469['x']-_0xa3c4cb['x'])*0.66,'y':_0xa3c4cb['y']+(_0x398469['y']-_0xa3c4cb['y'])*0.66},'p3':_0x398469}),_0x46ca68;};normalWaveEntrancePaths['boss_loop_left']=_0x4b8217(![]),normalWaveEntrancePaths['boss_loop_right']=_0x4b8217(!![]);const _0x237179=0x2ee,_0x3e0b7=0x15e*_0x322d40,_0x240d14={'x':_0x13f5bb,'y':_0x2603ed},_0x3152d7={'x':(_0x13f5bb+(0x2ee-0x190)*(0x2/0x3))*_0x3fbc47,'y':(-0x32+(_0x237179- -0x32)*(0x2/0x3))*_0x322d40},_0x54e0e5={'x':(0x190+(0x2ee-0x190)*(0x1/0x3))*_0x3fbc47,'y':(_0x3e0b7+(_0x237179-_0x3e0b7)*(0x1/0x3))*_0x322d40},_0xda8fb7={'x':_0x13f5bb,'y':_0x3e0b7};normalWaveEntrancePaths['mid_curve_right']=[{'p0':_0x240d14,'p1':_0x3152d7,'p2':_0x54e0e5,'p3':_0xda8fb7}];const _0x5a3b76={'x':_0x13f5bb,'y':_0x2603ed},_0x5370e7={'x':_0x2eaa8-_0x3152d7['x'],'y':_0x3152d7['y']},_0x212548={'x':_0x2eaa8-_0x54e0e5['x'],'y':_0x54e0e5['y']},_0x1de661={'x':_0x13f5bb,'y':_0x3e0b7};normalWaveEntrancePaths[_0x239bfa(0x296)]=[{'p0':_0x5a3b76,'p1':_0x5370e7,'p2':_0x212548,'p3':_0x1de661}];for(const _0x5808bd in normalWaveEntrancePaths){if(!Array[_0x239bfa(0x233)](normalWaveEntrancePaths[_0x5808bd])){console['error'](_0x239bfa(0x26b)+_0x5808bd+_0x239bfa(0x2ae)),normalWaveEntrancePaths[_0x5808bd]=[{'p0':{'x':_0x2eaa8/0x2,'y':_0x2603ed},'p1':{'x':_0x2eaa8/0x2,'y':_0x26fc82/0x3},'p2':{'x':_0x2eaa8/0x2,'y':_0x26fc82*0x2/0x3},'p3':{'x':_0x2eaa8/0x2,'y':ENEMY_TOP_MARGIN}}];continue;}normalWaveEntrancePaths[_0x5808bd]=normalWaveEntrancePaths[_0x5808bd][_0x239bfa(0x229)](_0x2fa9e6=>_0x2fa9e6?.['p0']&&_0x2fa9e6?.['p1']&&_0x2fa9e6?.['p2']&&_0x2fa9e6?.['p3']&&typeof _0x2fa9e6['p0']['x']===_0x239bfa(0x239)&&typeof _0x2fa9e6['p0']['y']==='number'&&typeof _0x2fa9e6['p1']['x']===_0x239bfa(0x239)&&typeof _0x2fa9e6['p1']['y']===_0x239bfa(0x239)&&typeof _0x2fa9e6['p2']['x']==='number'&&typeof _0x2fa9e6['p2']['y']===_0x239bfa(0x239)&&typeof _0x2fa9e6['p3']['x']===_0x239bfa(0x239)&&typeof _0x2fa9e6['p3']['y']===_0x239bfa(0x239)&&!isNaN(_0x2fa9e6['p0']['x']+_0x2fa9e6['p0']['y']+_0x2fa9e6['p1']['x']+_0x2fa9e6['p1']['y']+_0x2fa9e6['p2']['x']+_0x2fa9e6['p2']['y']+_0x2fa9e6['p3']['x']+_0x2fa9e6['p3']['y'])),normalWaveEntrancePaths[_0x5808bd]['length']===0x0&&(console[_0x239bfa(0x283)](_0x239bfa(0x26b)+_0x5808bd+_0x239bfa(0x279)),normalWaveEntrancePaths[_0x5808bd]=[{'p0':{'x':_0x2eaa8/0x2,'y':_0x2603ed},'p1':{'x':_0x2eaa8/0x2,'y':_0x26fc82/0x3},'p2':{'x':_0x2eaa8/0x2,'y':_0x26fc82*0x2/0x3},'p3':{'x':_0x2eaa8/0x2,'y':ENEMY_TOP_MARGIN}}]);}}function defineChallengingStagePaths(){const _0x4a4568=_0x48a199;challengingStagePaths={};const _0x2176ff=gameCanvas?.[_0x4a4568(0x207)],_0x3ac6aa=gameCanvas?.[_0x4a4568(0x273)];if(!_0x2176ff||!_0x3ac6aa||_0x2176ff===0x0){console[_0x4a4568(0x283)](_0x4a4568(0x236));return;}const _0x20d28d=ENEMY_WIDTH,_0x383759=ENEMY_HEIGHT,_0x7d348e=-_0x383759*1.5,_0x274785=_0x3ac6aa+_0x383759*0x2,_0x517630=-_0x20d28d*1.5,_0x5a29a0=_0x2176ff+_0x20d28d*1.5,_0x2c7a7e=_0x2176ff/0x2,_0x124f6b=_0x3ac6aa/0x2,_0x137f57=-0x1c,_0x4fd17b=(_0x1cf578,_0x7dc639)=>{const _0x560cfe=_0x4a4568;return _0x1cf578[_0x560cfe(0x23e)](_0x49915d=>{const _0x2770db=_0x560cfe,_0x4dd83b=JSON[_0x2770db(0x258)](JSON['stringify'](_0x49915d));if(_0x4dd83b['p0']&&typeof _0x4dd83b['p0']['x']==='number')_0x4dd83b['p0']['x']+=_0x7dc639;if(_0x4dd83b['p1']&&typeof _0x4dd83b['p1']['x']===_0x2770db(0x239))_0x4dd83b['p1']['x']+=_0x7dc639;if(_0x4dd83b['p2']&&typeof _0x4dd83b['p2']['x']===_0x2770db(0x239))_0x4dd83b['p2']['x']+=_0x7dc639;return _0x4dd83b['p3']&&typeof _0x4dd83b['p3']['x']==='number'&&_0x4dd83b['p3']['x']!==_0x517630&&_0x4dd83b['p3']['x']!==_0x5a29a0&&(_0x4dd83b['p3']['x']+=_0x7dc639),_0x4dd83b;});},_0x455de3=37.8/0x320*0.3,_0x22ce2c=0.5-_0x455de3,_0x6301fc=0x1c2/0x258,_0x5c7e8a=0.49,_0xaf37ee=0x258/0x258,_0x5f34ce=0.48,_0x95b0f=0x12c/0x258,_0x47c84b=_0x2176ff*_0x22ce2c,_0x5a3f2f=_0x3ac6aa*_0x6301fc,_0x5604b7=_0x2176ff*_0x5c7e8a,_0x13144c=_0x3ac6aa*Math['min'](0x1,_0xaf37ee),_0x50a048=_0x2176ff*_0x5f34ce,_0xdabdb2=_0x3ac6aa*_0x95b0f,_0x24a317=_0x517630,_0x254bbe=_0x7d348e,_0x4aeee8={'x':_0x47c84b,'y':_0x7d348e},_0xecf2f6={'x':_0x47c84b,'y':_0x5a3f2f},_0x58faa0={'x':_0x47c84b,'y':_0x7d348e+(_0x5a3f2f-_0x7d348e)*0.33},_0x321a96={'x':_0x47c84b,'y':_0x7d348e+(_0x5a3f2f-_0x7d348e)*0.66},_0x5c961b=_0xecf2f6,_0x24cb54={'x':_0x5604b7,'y':_0x13144c},_0x2ed343={'x':_0x50a048,'y':_0xdabdb2},_0x3784d5={'x':_0x24a317,'y':_0x254bbe},_0x21d60=[{'p0':_0x4aeee8,'p1':_0x58faa0,'p2':_0x321a96,'p3':_0xecf2f6},{'p0':_0x5c961b,'p1':_0x24cb54,'p2':_0x2ed343,'p3':_0x3784d5}],_0x34b9ba=_0x21d60[_0x4a4568(0x23e)](_0x2a063a=>({'p0':{'x':_0x2176ff-_0x2a063a['p0']['x'],'y':_0x2a063a['p0']['y']},'p1':{'x':_0x2176ff-_0x2a063a['p1']['x'],'y':_0x2a063a['p1']['y']},'p2':{'x':_0x2176ff-_0x2a063a['p2']['x'],'y':_0x2a063a['p2']['y']},'p3':{'x':_0x2a063a['p3']['x']===_0x517630?_0x5a29a0:_0x2176ff-_0x2a063a['p3']['x'],'y':_0x2a063a['p3']['y']}}));challengingStagePaths['CS3_DiveLoopL_Sharp']=_0x4fd17b(_0x21d60,_0x137f57),challengingStagePaths[_0x4a4568(0x27c)]=_0x4fd17b(_0x34b9ba,_0x137f57);const _0x3d8885=_0x3ac6aa*0.7,_0x2d3807=_0x3ac6aa*0.03,_0x3eb96b=_0x2176ff*0.15;challengingStagePaths[_0x4a4568(0x218)]=[{'p0':{'x':_0x517630,'y':_0x3d8885},'p1':{'x':_0x517630+_0x3eb96b,'y':_0x3d8885-_0x2d3807},'p2':{'x':_0x5a29a0-_0x3eb96b,'y':_0x3d8885+_0x2d3807},'p3':{'x':_0x5a29a0,'y':_0x3d8885}}],challengingStagePaths[_0x4a4568(0x299)]=[{'p0':{'x':_0x5a29a0,'y':_0x3d8885},'p1':{'x':_0x5a29a0-_0x3eb96b,'y':_0x3d8885-_0x2d3807},'p2':{'x':_0x517630+_0x3eb96b,'y':_0x3d8885+_0x2d3807},'p3':{'x':_0x517630,'y':_0x3d8885}}];const _0x406360=_0x3ac6aa*0.8,_0x428a6a=_0x3ac6aa*0.55,_0x20bd29=_0x3ac6aa*0.15;challengingStagePaths['CS_LoopAttack_TL']=[{'p0':{'x':_0x2176ff*0.1,'y':_0x7d348e},'p1':{'x':_0x2176ff*0.2,'y':_0x3ac6aa*0.2},'p2':{'x':_0x2176ff*0.6,'y':_0x406360},'p3':{'x':_0x2176ff*0.7,'y':_0x406360}},{'p0':{'x':_0x2176ff*0.7,'y':_0x406360},'p1':{'x':_0x2176ff*0.8,'y':_0x406360},'p2':{'x':_0x2176ff*0.8,'y':_0x428a6a},'p3':{'x':_0x2176ff*0.7,'y':_0x428a6a}},{'p0':{'x':_0x2176ff*0.7,'y':_0x428a6a},'p1':{'x':_0x2176ff*0.6,'y':_0x428a6a},'p2':{'x':_0x5a29a0,'y':_0x20bd29},'p3':{'x':_0x5a29a0,'y':_0x20bd29+_0x3ac6aa*0.1}}],challengingStagePaths[_0x4a4568(0x2aa)]=[{'p0':{'x':_0x2176ff*0.9,'y':_0x7d348e},'p1':{'x':_0x2176ff*0.8,'y':_0x3ac6aa*0.2},'p2':{'x':_0x2176ff*0.4,'y':_0x406360},'p3':{'x':_0x2176ff*0.3,'y':_0x406360}},{'p0':{'x':_0x2176ff*0.3,'y':_0x406360},'p1':{'x':_0x2176ff*0.2,'y':_0x406360},'p2':{'x':_0x2176ff*0.2,'y':_0x428a6a},'p3':{'x':_0x2176ff*0.3,'y':_0x428a6a}},{'p0':{'x':_0x2176ff*0.3,'y':_0x428a6a},'p1':{'x':_0x2176ff*0.4,'y':_0x428a6a},'p2':{'x':_0x517630,'y':_0x20bd29},'p3':{'x':_0x517630,'y':_0x20bd29+_0x3ac6aa*0.1}}],challengingStagePaths[_0x4a4568(0x2ce)]=[{'p0':{'x':_0x517630,'y':_0x3ac6aa*0.6},'p1':{'x':_0x2176ff*0.1,'y':_0x3ac6aa*0.4},'p2':{'x':_0x2176ff*0.6,'y':_0x3ac6aa*0.2},'p3':{'x':_0x2c7a7e,'y':_0x3ac6aa*0.3}},{'p0':{'x':_0x2c7a7e,'y':_0x3ac6aa*0.3},'p1':{'x':_0x2176ff*0.4,'y':_0x3ac6aa*0.4},'p2':{'x':_0x2176ff*0.3,'y':_0x406360*0.9},'p3':{'x':_0x2176ff*0.4,'y':_0x406360}},{'p0':{'x':_0x2176ff*0.4,'y':_0x406360},'p1':{'x':_0x2176ff*0.5,'y':_0x406360*1.05},'p2':{'x':_0x2c7a7e,'y':_0x7d348e},'p3':{'x':_0x2c7a7e+_0x2176ff*0.1,'y':_0x7d348e}}],challengingStagePaths[_0x4a4568(0x2d9)]=[{'p0':{'x':_0x5a29a0,'y':_0x3ac6aa*0.6},'p1':{'x':_0x2176ff*0.9,'y':_0x3ac6aa*0.4},'p2':{'x':_0x2176ff*0.4,'y':_0x3ac6aa*0.2},'p3':{'x':_0x2c7a7e,'y':_0x3ac6aa*0.3}},{'p0':{'x':_0x2c7a7e,'y':_0x3ac6aa*0.3},'p1':{'x':_0x2176ff*0.6,'y':_0x3ac6aa*0.4},'p2':{'x':_0x2176ff*0.7,'y':_0x406360*0.9},'p3':{'x':_0x2176ff*0.6,'y':_0x406360}},{'p0':{'x':_0x2176ff*0.6,'y':_0x406360},'p1':{'x':_0x2176ff*0.5,'y':_0x406360*1.05},'p2':{'x':_0x2c7a7e,'y':_0x7d348e},'p3':{'x':_0x2c7a7e-_0x2176ff*0.1,'y':_0x7d348e}}];for(const _0x515ccc in challengingStagePaths){challengingStagePaths[_0x515ccc]=challengingStagePaths[_0x515ccc][_0x4a4568(0x229)](_0x5af4af=>_0x5af4af?.['p0']&&_0x5af4af?.['p1']&&_0x5af4af?.['p2']&&_0x5af4af?.['p3']&&!isNaN(_0x5af4af['p0']['x']+_0x5af4af['p0']['y']+_0x5af4af['p1']['x']+_0x5af4af['p1']['y']+_0x5af4af['p2']['x']+_0x5af4af['p2']['y']+_0x5af4af['p3']['x']+_0x5af4af['p3']['y'])),challengingStagePaths[_0x515ccc][_0x4a4568(0x271)]===0x0&&(console[_0x4a4568(0x283)]('CS\x20Path\x20'+_0x515ccc+_0x4a4568(0x206)),challengingStagePaths[_0x515ccc]=[{'p0':{'x':_0x2176ff/0x2,'y':_0x7d348e},'p1':{'x':_0x2176ff/0x2,'y':_0x3ac6aa/0x3},'p2':{'x':_0x2176ff/0x2,'y':_0x3ac6aa*0x2/0x3},'p3':{'x':_0x2176ff/0x2,'y':_0x274785}}]);}}function _0x387e(){const _0x568feb=['gridRow','max','captureSound','Geluiden/ready.mp3','getElementById','new_path_left','CS_HorizontalFlyByL','Escape','Geluiden/Capture.mp3','documentElement','KeyI','gridCol','requestFullscreen','suspend','atan2','resize','Error\x20in\x20handleKeyUp:','1P_VS_AI_NORMAL','targetGridY','clearRect','Geluiden/CS-Stage-Perfect-.mp3','catch','boss_loop_right','filter','AI\x20P2','Afbeeldingen/Level-5.png','dualShipSound','ArrowUp','gridBackgroundSound','now','touchstart','state','Geluiden/Boss-hit1.mp3','isArray','floor','\x20for\x20','Cannot\x20define\x20CS\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','removeEventListener','2188136nSyMCT','number','Error\x20in\x20handleKeyDown:','ArrowRight','arrayBuffer','Afbeeldingen/bee-2.png','map','fullscreenElement','Afbeeldingen/butterfly.png','metaKey','coop','levelUpSound','gain','new_path_right','left','545KjvFqb','399732HFGBoc','player2','beeHitSound','enemy2','AudioContext\x20not\x20initialized,\x20cannot\x20load\x20sound:\x20','1P_VS_AI_COOP','push','fill','resume','2130EkbUrM','ArrowDown','axes','Error\x20in\x20drawRetroGrid:','Afbeeldingen/bee.png','Cannot\x20define\x20Normal\x20Wave\x20entrance\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','name','parse','pressed','main','strokeStyle','Geluiden/hi-score.mp3','getContext','arc','targetGridX','menuMusicSound','KeyA','FATAL:\x20Could\x20not\x20initialize\x20one\x20or\x20more\x20canvas\x20contexts!','8289OabCWL','Geluiden/LevelUp.mp3','DEMO-2','single','Fullscreen\x20API\x20is\x20not\x20supported\x20by\x20this\x20browser.','alpha','lineTo','Error\x20decoding\x20audio\x20data\x20for\x20','Normal\x20Wave\x20Path\x20','enemy1','fillStyle','log','type','butterflyHitSound','length','includes','height','Afbeeldingen/Level-1.png','ctrlKey','rgba(','csPerfectSound','rgba(255,\x20255,\x20255,\x20','\x20empty\x20after\x20validation!\x20Using\x20basic\x20fallback.','sin','AudioContext\x20resumed\x20by\x20keydown.','CS3_DiveLoopR_Sharp','shipCapturedSound','moving_to_grid','Numpad6','connect','CLASSIC_1P','bossHit1Sound','error','destination','player1','enemy3','font','2UP','Numpad4','createGain','forEach','clientY','decodeAudioData','Afbeeldingen/Level-10.png','Error\x20in\x20handleGamepadDisconnected:','addEventListener','KeyD','Geluiden/firing.mp3','bossGalagaDiveSound','Error\x20in\x20handleGamepadConnected:','Error\x20recalculating\x20grid\x20pos\x20for\x20enemy\x20','mid_curve_left','Geluiden/Fire-enemy.mp3','round','CS_HorizontalFlyByR','Afbeeldingen/butterfly-2.png','Geluiden/Bees-hit.mp3','alphaChange','targetX','stroke','touchend','buttons','radius','Afbeeldingen/bossGalaga-2.png','gameCanvas','clientX','loop','boss_loop_left','tripleAttackSound','retroGridCanvas','sqrt','CS_LoopAttack_TR','bossHit2Sound','Afbeeldingen/Logo.png','right','\x20is\x20not\x20an\x20array!\x20Using\x20basic\x20fallback.','src','running','Space','undefined','Error\x20resuming\x20AudioContext:','HTTP\x20error!\x20status:\x20','13QaXvGd','body','cos','then','changedTouches','measureText','Afbeeldingen/bossGalaga.png','Afbeeldingen/Level-20.png','100,\x20180,\x20255','function','Geluiden/gameover.mp3','Error\x20handling\x20game\x20resize\x20specifics:','webkitRequestFullscreen','innerWidth','gameOverSound','key','KeyL','Error\x20in\x20drawStars:','in_grid','KeyJ','msRequestFullscreen','Error\x20fetching\x20sound\x20','readySound','Geluiden/Waveup.mp3','Error\x20in\x20saveHighScore:','CS_LoopAttack_BL','entranceSound','hiScoreSound','onended','csClearSound','butterflyDiveSound','click','Error\x20in\x20resizeCanvases:','Enter','pause','resultsMusicSound','CS_LoopAttack_BR','37948DUAQgo','innerHeight','AudioContext\x20still\x20suspended.\x20User\x20interaction\x20needed\x20to\x20play\x20sounds.','altKey','AudioContext\x20resumed\x20from\x20pause.','rgba(220,\x20220,\x20255,\x200.6)','gamepad','<p\x20style=\x22color:white;\x22>FATAL\x20ERROR</p>','preventDefault','rgba(255,\x20255,\x20180,\x200.9)','message','currentTime','warn','start','index','AudioContext\x20resumed\x20by\x20gamepad\x20connection.','min','mid_curve_right','Error\x20loading\x20image:\x20','Error\x20loading\x20critical\x20canvas\x20elements.','605745WDxHha','top','back','suspended','touches','waveUpSound','Numpad0','6581778bBeaGv','Geluiden/Butterfly-hit.mp3','moveTo','returning','red','code','random','touchmove','beginPath','KeyW','2up','buffer','Afbeeldingen/bullet.png','Geluiden/Triple.mp3','25364RrWMUU','mozRequestFullScreen','innerHTML','pow','extraLifeSound','ai_p2','AudioContext\x20resumed\x20by\x20touchstart.','starrySkyCanvas','ArrowLeft','normal','\x20empty\x20after\x20validation!\x20Adding\x20fallback.','width','Geluiden/lost-live.mp3','rgba(180,\x20180,\x20255,\x200.1)','AudioContext\x20suspended\x20for\x20pause.','toLowerCase','rapid','gamepaddisconnected','Geluiden/Entree.mp3','shiftKey','Error\x20in\x20loadHighScore:','Geluiden/Extra-Leven.mp3'];_0x387e=function(){return _0x568feb;};return _0x387e();}function resizeCanvases(){const _0x358b22=_0x48a199;try{const _0x2e1481=window[_0x358b22(0x2c2)],_0x5ab562=window[_0x358b22(0x2db)];if(_0x2e1481<=0x0||_0x5ab562<=0x0)return;starrySkyCanvas&&(starrySkyCanvas[_0x358b22(0x207)]!==_0x2e1481||starrySkyCanvas[_0x358b22(0x273)]!==_0x5ab562)&&(starrySkyCanvas[_0x358b22(0x207)]=_0x2e1481,starrySkyCanvas[_0x358b22(0x273)]=_0x5ab562,createStars());retroGridCanvas&&(retroGridCanvas[_0x358b22(0x207)]!==_0x2e1481||retroGridCanvas['height']!==_0x5ab562)&&(retroGridCanvas[_0x358b22(0x207)]=_0x2e1481,retroGridCanvas[_0x358b22(0x273)]=_0x5ab562);if(gameCanvas&&(gameCanvas[_0x358b22(0x207)]!==_0x2e1481||gameCanvas[_0x358b22(0x273)]!==_0x5ab562)){const _0x14bbdb=gameCanvas[_0x358b22(0x207)];gameCanvas['width']=_0x2e1481,gameCanvas[_0x358b22(0x273)]=_0x5ab562,defineNormalWaveEntrancePaths(),defineChallengingStagePaths(),isInGameState&&handleResizeGameElements(_0x14bbdb,_0x2e1481,_0x5ab562);}else(!gameCanvas?.[_0x358b22(0x207)]||!gameCanvas?.['height'])&&(defineNormalWaveEntrancePaths(),defineChallengingStagePaths());}catch(_0xaf667a){console[_0x358b22(0x283)](_0x358b22(0x2d5),_0xaf667a);}}function handleResizeGameElements(_0xcc61c,_0x481f66,_0x34c4f5){const _0x65578c=_0x48a199;try{currentGridOffsetX=0x0,ship&&(_0xcc61c>0x0&&_0x481f66>0x0&&typeof ship['x']!==_0x65578c(0x2b2)?ship['x']=ship['x']/_0xcc61c*_0x481f66:ship['x']=_0x481f66/0x2-ship['width']/0x2,ship['x']=Math[_0x65578c(0x213)](0x0,Math['min'](_0x481f66-ship['width'],ship['x'])),ship['y']=_0x34c4f5-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN,ship[_0x65578c(0x29d)]=ship['x']),enemies['forEach'](_0x203b28=>{const _0x28d4de=_0x65578c;if(_0x203b28&&(_0x203b28[_0x28d4de(0x231)]===_0x28d4de(0x2c7)||_0x203b28[_0x28d4de(0x231)]===_0x28d4de(0x1f1)||_0x203b28[_0x28d4de(0x231)]===_0x28d4de(0x27e)))try{const _0x485bc6=_0x203b28[_0x28d4de(0x26f)]===ENEMY3_TYPE?BOSS_WIDTH:_0x203b28['type']===ENEMY1_TYPE?ENEMY1_WIDTH:ENEMY_WIDTH,{x:_0x22c697,y:_0x1f9af5}=getCurrentGridSlotPosition(_0x203b28[_0x28d4de(0x212)],_0x203b28[_0x28d4de(0x21d)],_0x485bc6);_0x203b28[_0x28d4de(0x25f)]=_0x22c697,_0x203b28[_0x28d4de(0x224)]=_0x1f9af5,_0x203b28[_0x28d4de(0x231)]===_0x28d4de(0x2c7)&&(_0x203b28['x']=_0x22c697,_0x203b28['y']=_0x1f9af5);}catch(_0x4785b4){console['error'](_0x28d4de(0x295)+_0x203b28['id']+'\x20on\x20resize:',_0x4785b4),(_0x203b28['state']===_0x28d4de(0x2c7)||_0x203b28[_0x28d4de(0x231)]===_0x28d4de(0x27e)||_0x203b28[_0x28d4de(0x231)]===_0x28d4de(0x1f1))&&(_0x203b28['x']=_0x481f66/0x2,_0x203b28['y']=ENEMY_TOP_MARGIN+_0x203b28['gridRow']*(ENEMY_HEIGHT+ENEMY_V_SPACING),_0x203b28[_0x28d4de(0x25f)]=_0x203b28['x'],_0x203b28[_0x28d4de(0x224)]=_0x203b28['y']);}});}catch(_0x1f8957){console[_0x65578c(0x283)](_0x65578c(0x2c0),_0x1f8957);}}let lastTapArea=null,lastTapTimestamp=0x0;const DOUBLE_TAP_MAX_INTERVAL=0x12c,SCORE_AREA_TAP_MARGIN=0x1e;function handleTouchStartGlobal(_0x58f846){const _0x3d51c9=_0x48a199;_0x58f846[_0x3d51c9(0x2e2)]();audioContext&&audioContext[_0x3d51c9(0x231)]===_0x3d51c9(0x2f1)&&audioContext[_0x3d51c9(0x250)]()[_0x3d51c9(0x2b8)](()=>{const _0x380ac4=_0x3d51c9;audioContextInitialized=!![],console[_0x380ac4(0x26e)](_0x380ac4(0x202));});if(_0x58f846[_0x3d51c9(0x2f2)][_0x3d51c9(0x271)]>0x0){const _0x3cab6f=_0x58f846[_0x3d51c9(0x2f2)][0x0];touchStartX=_0x3cab6f['clientX'],touchStartY=_0x3cab6f[_0x3d51c9(0x28c)],touchCurrentX=_0x3cab6f[_0x3d51c9(0x2a4)],touchCurrentY=_0x3cab6f[_0x3d51c9(0x28c)],touchStartTime=Date[_0x3d51c9(0x22f)](),isInGameState?(isTouchActiveGame=!![],isTouchActiveMenu=![]):(isTouchActiveMenu=!![],isTouchActiveGame=![],typeof handleCanvasTouch===_0x3d51c9(0x2be)&&handleCanvasTouch(_0x58f846,_0x3d51c9(0x2e7)));}}function handleTouchMoveGlobal(_0x3b5f75){const _0x2b8012=_0x48a199;_0x3b5f75[_0x2b8012(0x2e2)]();if(_0x3b5f75[_0x2b8012(0x2f2)][_0x2b8012(0x271)]>0x0){const _0x5410c3=_0x3b5f75[_0x2b8012(0x2f2)][0x0];touchCurrentX=_0x5410c3[_0x2b8012(0x2a4)],touchCurrentY=_0x5410c3[_0x2b8012(0x28c)];if(isTouchActiveGame&&isInGameState){}else isTouchActiveMenu&&!isInGameState&&(typeof handleCanvasTouch==='function'&&handleCanvasTouch(_0x3b5f75,'move'));}}function handleTouchEndGlobal(_0x58d5f8){const _0x332411=_0x48a199;_0x58d5f8['preventDefault']();const _0x48d86b=Date['now'](),_0x1a1139=_0x48d86b-touchStartTime;let _0x771885=0x0,_0xfa3994=0x0,_0x38c26b,_0x5dc40d;_0x58d5f8[_0x332411(0x2b9)]&&_0x58d5f8[_0x332411(0x2b9)][_0x332411(0x271)]>0x0?(_0x38c26b=_0x58d5f8[_0x332411(0x2b9)][0x0][_0x332411(0x2a4)],_0x5dc40d=_0x58d5f8[_0x332411(0x2b9)][0x0][_0x332411(0x28c)]):(_0x38c26b=touchCurrentX,_0x5dc40d=touchCurrentY);typeof _0x38c26b===_0x332411(0x239)&&typeof touchStartX==='number'&&(_0x771885=_0x38c26b-touchStartX);typeof _0x5dc40d===_0x332411(0x239)&&typeof touchStartY===_0x332411(0x239)&&(_0xfa3994=_0x5dc40d-touchStartY);const _0x109a24=Math[_0x332411(0x2a9)](_0x771885*_0x771885+_0xfa3994*_0xfa3994),_0x325f38=_0x1a1139<TOUCH_TAP_MAX_DURATION&&_0x109a24<TOUCH_TAP_MAX_MOVEMENT,_0x4e2a5d=gameCanvas['getBoundingClientRect'](),_0x3d0939=gameCanvas[_0x332411(0x207)]/_0x4e2a5d[_0x332411(0x207)],_0x286cc4=gameCanvas[_0x332411(0x273)]/_0x4e2a5d[_0x332411(0x273)],_0x541588=(_0x38c26b-_0x4e2a5d[_0x332411(0x246)])*_0x3d0939,_0x491c20=(_0x5dc40d-_0x4e2a5d[_0x332411(0x2ef)])*_0x286cc4;if(isTouchActiveGame&&isInGameState){if(_0x325f38){const _0x2be32f=Date[_0x332411(0x22f)]();let _0x4ae761=![];if(typeof MARGIN_SIDE!==_0x332411(0x2b2)&&typeof MARGIN_TOP!==_0x332411(0x2b2)&&gameCanvas&&gameCtx){gameCtx[_0x332411(0x287)]='20px\x20\x27Press\x20Start\x202P\x27';let _0x359a2c=_0x332411(0x288),_0x4892a6=0x0;if(isCoopAIDemoActive)_0x359a2c=_0x332411(0x265),_0x4892a6=player2Score;else{if(isPlayerTwoAI&&selectedGameMode==='coop')_0x359a2c=_0x332411(0x22a),_0x4892a6=player2Score;else{if(isPlayerTwoAI&&selectedGameMode==='normal')_0x359a2c=_0x332411(0x22a),_0x4892a6=currentPlayer===0x2?score:player2Score;else isTwoPlayerMode&&(_0x359a2c=_0x332411(0x288),_0x4892a6=currentPlayer===0x2&&selectedGameMode===_0x332411(0x205)?score:player2Score);}}const _0x42175=gameCtx[_0x332411(0x2ba)](_0x359a2c)[_0x332411(0x207)],_0x4bb93b=String(_0x4892a6),_0x5925f8=gameCtx[_0x332411(0x2ba)](_0x4bb93b)['width'],_0x4b7e21=0x14,_0x2b9756=gameCanvas[_0x332411(0x207)]-MARGIN_SIDE-Math['max'](_0x42175,_0x5925f8)-SCORE_AREA_TAP_MARGIN,_0x5717a2=MARGIN_TOP-SCORE_AREA_TAP_MARGIN,_0x30a3a7=Math[_0x332411(0x213)](_0x42175,_0x5925f8)+0x2*SCORE_AREA_TAP_MARGIN,_0x20221e=SCORE_OFFSET_Y+0x5+_0x4b7e21+0x2*SCORE_AREA_TAP_MARGIN;_0x541588>=_0x2b9756&&_0x541588<=_0x2b9756+_0x30a3a7&&_0x491c20>=_0x5717a2&&_0x491c20<=_0x5717a2+_0x20221e&&(_0x4ae761=!![]);}if(_0x4ae761){if(lastTapArea===_0x332411(0x1f8)&&_0x2be32f-lastTapTimestamp<DOUBLE_TAP_MAX_INTERVAL){if(typeof stopGameAndShowMenu===_0x332411(0x2be)){stopGameAndShowMenu(),lastTapArea=null,lastTapTimestamp=0x0,isTouchActiveGame=![];return;}}lastTapArea=_0x332411(0x1f8),lastTapTimestamp=_0x2be32f;}else lastTapArea===_0x332411(0x1f8)&&(lastTapArea=null,lastTapTimestamp=0x0);if(selectedFiringMode==='single'&&!_0x4ae761){if(_0x2be32f-lastTapTime>SHOOT_COOLDOWN/0x2){let _0x2ad3e7='player1';if(isTwoPlayerMode&&selectedGameMode===_0x332411(0x242))_0x541588>gameCanvas[_0x332411(0x207)]/0x2&&ship2&&player2Lives>0x0&&(_0x2ad3e7=isPlayerTwoAI?'ai_p2':_0x332411(0x249));else isTwoPlayerMode&&selectedGameMode==='normal'&&(_0x2ad3e7=currentPlayer===0x1?'player1':'player2');if(_0x2ad3e7==='player1')p1FireInputWasDown=!![];else{if(_0x2ad3e7===_0x332411(0x249)||_0x2ad3e7==='ai_p2')p2FireInputWasDown=!![];}typeof firePlayerBullet===_0x332411(0x2be)&&firePlayerBullet(_0x2ad3e7);if(_0x2ad3e7===_0x332411(0x285))p1FireInputWasDown=![];else{if(_0x2ad3e7===_0x332411(0x249)||_0x2ad3e7===_0x332411(0x201))p2FireInputWasDown=![];}lastTapTime=_0x2be32f;}}}shootPressed=![],p2ShootPressed=![],isTouchActiveGame=![];}else isTouchActiveMenu&&!isInGameState?(isTouchActiveMenu=![],typeof handleCanvasTouch===_0x332411(0x2be)&&handleCanvasTouch(_0x58d5f8,'end',_0x325f38)):(isTouchActiveGame=![],isTouchActiveMenu=![]);touchedMenuButtonIndex=-0x1;}function handleKeyDown(_0xfefba0){const _0x554f61=_0x48a199;try{if(isTouchActiveGame&&isInGameState){if(_0xfefba0[_0x554f61(0x2c4)]==='p'||_0xfefba0[_0x554f61(0x2c4)]==='P'){if(typeof togglePause==='function')togglePause();}else{if(_0xfefba0['key']===_0x554f61(0x219)){if(isInGameState&&typeof stopGameAndShowMenu===_0x554f61(0x2be))stopGameAndShowMenu();}}return;}audioContext&&audioContext[_0x554f61(0x231)]===_0x554f61(0x2f1)&&audioContext['resume']()[_0x554f61(0x2b8)](()=>{const _0x1180cd=_0x554f61;audioContextInitialized=!![],console[_0x1180cd(0x26e)](_0x1180cd(0x27b));});const _0x406404=['\x20','ArrowUp',_0x554f61(0x252),_0x554f61(0x204),_0x554f61(0x23b),'Enter',_0x554f61(0x219),'w','a','s','d','p','P','j','J','l','L','i','I',_0x554f61(0x289),_0x554f61(0x27f),'Numpad0'];(_0x406404[_0x554f61(0x272)](_0xfefba0[_0x554f61(0x2c4)])||_0x406404['includes'](_0xfefba0[_0x554f61(0x1f3)]))&&_0xfefba0[_0x554f61(0x2e2)]();let _0x5ca24c=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x5ca24c=!![]);if(_0x5ca24c)return;if(isInGameState){if((_0xfefba0[_0x554f61(0x2c4)]==='p'||_0xfefba0[_0x554f61(0x2c4)]==='P')&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){if(typeof togglePause==='function')togglePause();return;}if(!isPaused){if(!isManualControl){if(isPlayerTwoAI&&selectedGameMode==='normal'&&currentPlayer===0x2){}else{if(_0xfefba0[_0x554f61(0x2c4)]==='Escape'){if(typeof stopGameAndShowMenu===_0x554f61(0x2be))stopGameAndShowMenu();}else{if(!_0xfefba0['altKey']&&!_0xfefba0[_0x554f61(0x275)]&&!_0xfefba0[_0x554f61(0x241)]&&!_0xfefba0['shiftKey']&&_0xfefba0[_0x554f61(0x2c4)]!=='p'&&_0xfefba0[_0x554f61(0x2c4)]!=='P'){if(typeof showMenuState===_0x554f61(0x2be))showMenuState();}}}}else{if(_0xfefba0[_0x554f61(0x2c4)]===_0x554f61(0x2d6)){if(isTwoPlayerMode&&selectedGameMode==='coop'&&!isPlayerTwoAI){if(ship1&&player1Lives>0x0&&!isPlayer1ShipCaptured)keyboardP1ShootDown=!![];if(ship2&&player2Lives>0x0&&!isPlayer2ShipCaptured)keyboardP2ShootDown=!![];}else{if(isTwoPlayerMode&&selectedGameMode==='coop'&&isPlayerTwoAI){if(ship1&&player1Lives>0x0&&!isPlayer1ShipCaptured)keyboardP1ShootDown=!![];}else{if(currentPlayer===0x1||!isTwoPlayerMode){if(ship&&playerLives>0x0&&!isShipCaptured)keyboardP1ShootDown=!![];}else{if(currentPlayer===0x2&&isTwoPlayerMode&&selectedGameMode==='normal'&&!isPlayerTwoAI){if(ship&&playerLives>0x0&&!isShipCaptured)keyboardP2ShootDown=!![];}}}}}switch(_0xfefba0[_0x554f61(0x1f3)]){case'ArrowLeft':case _0x554f61(0x261):keyboardP1LeftDown=!![];break;case _0x554f61(0x23b):case _0x554f61(0x291):keyboardP1RightDown=!![];break;case _0x554f61(0x2b1):case _0x554f61(0x22d):case _0x554f61(0x1f7):keyboardP1ShootDown=!![];break;case _0x554f61(0x2c8):case _0x554f61(0x289):if(isTwoPlayerMode&&!isPlayerTwoAI)keyboardP2LeftDown=!![];break;case _0x554f61(0x2c5):case _0x554f61(0x27f):if(isTwoPlayerMode&&!isPlayerTwoAI)keyboardP2RightDown=!![];break;case'KeyI':case _0x554f61(0x2f4):if(isTwoPlayerMode&&!isPlayerTwoAI)keyboardP2ShootDown=!![];break;case _0x554f61(0x219):if(typeof stopGameAndShowMenu===_0x554f61(0x2be))stopGameAndShowMenu();break;}if(!keyboardP2LeftDown&&isTwoPlayerMode&&!isPlayerTwoAI&&_0xfefba0[_0x554f61(0x2c4)]['toLowerCase']()==='j')keyboardP2LeftDown=!![];if(!keyboardP2RightDown&&isTwoPlayerMode&&!isPlayerTwoAI&&_0xfefba0[_0x554f61(0x2c4)][_0x554f61(0x20b)]()==='l')keyboardP2RightDown=!![];if(!keyboardP2ShootDown&&isTwoPlayerMode&&!isPlayerTwoAI&&_0xfefba0[_0x554f61(0x2c4)][_0x554f61(0x20b)]()==='i')keyboardP2ShootDown=!![];}}}else{if(isTouchActiveMenu)return;if(isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen){if(!_0xfefba0[_0x554f61(0x2dd)]&&!_0xfefba0[_0x554f61(0x275)]&&!_0xfefba0['metaKey']&&!_0xfefba0[_0x554f61(0x20f)]&&_0xfefba0[_0x554f61(0x2c4)]!=='p'&&_0xfefba0[_0x554f61(0x2c4)]!=='P'){if(typeof showMenuState===_0x554f61(0x2be))showMenuState();return;}}else{if(!isShowingScoreScreen){stopAutoDemoTimer();switch(_0xfefba0[_0x554f61(0x2c4)]){case'ArrowUp':case'w':selectedButtonIndex=selectedButtonIndex<=0x0?0x1:0x0,startAutoDemoTimer();break;case _0x554f61(0x252):case's':selectedButtonIndex=selectedButtonIndex>=0x1?0x0:0x1,startAutoDemoTimer();break;case _0x554f61(0x2d6):case'\x20':if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P();else{if(isOnePlayerGameTypeSelectMode)selectedButtonIndex===0x0?(isOnePlayerGameTypeSelectMode=![],isFiringModeSelectMode=!![],selectedOnePlayerGameVariant=_0x554f61(0x281),selectedGameMode='normal',isTwoPlayerMode=![],isPlayerTwoAI=![],selectedButtonIndex=0x0):(isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=0x0);else{if(isOnePlayerVsAIGameTypeSelectMode)selectedButtonIndex===0x0?(selectedOnePlayerGameVariant=_0x554f61(0x223),selectedGameMode=_0x554f61(0x205)):(selectedOnePlayerGameVariant=_0x554f61(0x24d),selectedGameMode='coop'),isOnePlayerVsAIGameTypeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)selectedButtonIndex===0x0?selectedGameMode=_0x554f61(0x205):selectedGameMode='coop',isGameModeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=![],selectedButtonIndex=0x0;else{if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x554f61(0x20c):selectedFiringMode=_0x554f61(0x266),baseStartGame(!![]);else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],selectedButtonIndex=0x0;else selectedButtonIndex===0x1&&exitGame();}}}}}startAutoDemoTimer();break;case _0x554f61(0x219):goBackInMenu(),startAutoDemoTimer();break;default:startAutoDemoTimer();break;}}}}}catch(_0x133801){console[_0x554f61(0x283)](_0x554f61(0x23a),_0x133801),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function handleKeyUp(_0x3e381d){const _0x2f9bc1=_0x48a199;try{_0x3e381d[_0x2f9bc1(0x2c4)]===_0x2f9bc1(0x2d6)&&(keyboardP1ShootDown=![],keyboardP2ShootDown=![],selectedFiringMode===_0x2f9bc1(0x266)&&(p1JustFiredSingle=![],p2JustFiredSingle=![]));switch(_0x3e381d[_0x2f9bc1(0x1f3)]){case _0x2f9bc1(0x204):case _0x2f9bc1(0x261):keyboardP1LeftDown=![];break;case _0x2f9bc1(0x23b):case _0x2f9bc1(0x291):keyboardP1RightDown=![];break;case _0x2f9bc1(0x2b1):case'ArrowUp':case _0x2f9bc1(0x1f7):keyboardP1ShootDown=![];if(selectedFiringMode==='single')p1JustFiredSingle=![];break;case'KeyJ':case _0x2f9bc1(0x289):keyboardP2LeftDown=![];break;case'KeyL':case _0x2f9bc1(0x27f):keyboardP2RightDown=![];break;case _0x2f9bc1(0x21c):case _0x2f9bc1(0x2f4):keyboardP2ShootDown=![];if(selectedFiringMode===_0x2f9bc1(0x266))p2JustFiredSingle=![];break;}if(_0x3e381d['key'][_0x2f9bc1(0x20b)]()==='j')keyboardP2LeftDown=![];if(_0x3e381d[_0x2f9bc1(0x2c4)]['toLowerCase']()==='l')keyboardP2RightDown=![];if(_0x3e381d[_0x2f9bc1(0x2c4)][_0x2f9bc1(0x20b)]()==='i'){keyboardP2ShootDown=![];if(selectedFiringMode==='single')p2JustFiredSingle=![];}}catch(_0x355446){console[_0x2f9bc1(0x283)](_0x2f9bc1(0x222),_0x355446),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],p1JustFiredSingle=![],p2JustFiredSingle=![];}}function handleGamepadConnected(_0x5545fe){const _0x59d021=_0x48a199;try{audioContext&&audioContext[_0x59d021(0x231)]===_0x59d021(0x2f1)&&audioContext[_0x59d021(0x250)]()['then'](()=>{const _0x5d6119=_0x59d021;audioContextInitialized=!![],console[_0x5d6119(0x26e)](_0x5d6119(0x2e9));});if(connectedGamepadIndex===null){connectedGamepadIndex=_0x5545fe['gamepad'][_0x59d021(0x2e8)];const _0x123f38=_0x5545fe[_0x59d021(0x2e0)][_0x59d021(0x2a0)][_0x59d021(0x271)];previousButtonStates=new Array(_0x123f38)['fill'](![]),previousDemoButtonStates=new Array(_0x123f38)[_0x59d021(0x24f)](![]),previousGameButtonStates=new Array(_0x123f38)[_0x59d021(0x24f)](![]),!isInGameState&&!isTouchActiveMenu&&(stopAutoDemoTimer(),selectedButtonIndex=0x0);}else{if(connectedGamepadIndexP2===null){connectedGamepadIndexP2=_0x5545fe['gamepad'][_0x59d021(0x2e8)];const _0x1cb852=_0x5545fe['gamepad'][_0x59d021(0x2a0)]['length'];previousGameButtonStatesP2=new Array(_0x1cb852)[_0x59d021(0x24f)](![]);}}}catch(_0x3d75eb){console[_0x59d021(0x283)](_0x59d021(0x294),_0x3d75eb);}}function handleGamepadDisconnected(_0x2ee510){const _0x3ab93f=_0x48a199;try{if(connectedGamepadIndex===_0x2ee510[_0x3ab93f(0x2e0)][_0x3ab93f(0x2e8)])connectedGamepadIndex=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],!isInGameState&&!isTouchActiveMenu&&(selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],startAutoDemoTimer()),p1FireInputWasDown=![];else connectedGamepadIndexP2===_0x2ee510['gamepad'][_0x3ab93f(0x2e8)]&&(connectedGamepadIndexP2=null,previousGameButtonStatesP2=[],p2FireInputWasDown=![]);}catch(_0x135d06){console[_0x3ab93f(0x283)](_0x3ab93f(0x28f),_0x135d06),p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function saveHighScore(){const _0x48587e=_0x48a199;try{let _0x21d297=0x0;if(isTwoPlayerMode&&selectedGameMode===_0x48587e(0x242))_0x21d297=Math['max'](player1Score,player2Score);else isTwoPlayerMode&&selectedGameMode===_0x48587e(0x205)?_0x21d297=Math[_0x48587e(0x213)](player1Score,player2Score):_0x21d297=score;isManualControl&&_0x21d297>highScore&&(highScore=_0x21d297);}catch(_0x4c357a){console['error'](_0x48587e(0x2cd),_0x4c357a);}}function loadHighScore(){const _0x569765=_0x48a199;try{highScore=0x4e20;}catch(_0x26fa57){console[_0x569765(0x283)](_0x569765(0x210),_0x26fa57),highScore=0x4e20;}}const soundsToPauseOnSystemPause=Object['keys'](soundPaths);let soundPausedStates={};function pauseAllSounds(){const _0x34b717=_0x48a199;audioContext&&audioContext[_0x34b717(0x231)]===_0x34b717(0x2b0)&&audioContext[_0x34b717(0x21f)]()[_0x34b717(0x2b8)](()=>console[_0x34b717(0x26e)](_0x34b717(0x20a)))[_0x34b717(0x227)](_0x22b6c3=>console[_0x34b717(0x283)]('Error\x20suspending\x20AudioContext:',_0x22b6c3)),stopSound('menuMusicSound');}function resumeAllSounds(){const _0x255aa1=_0x48a199;audioContext&&audioContext[_0x255aa1(0x231)]===_0x255aa1(0x2f1)&&audioContext[_0x255aa1(0x250)]()['then'](()=>console[_0x255aa1(0x26e)](_0x255aa1(0x2de)))[_0x255aa1(0x227)](_0x4dcb95=>console[_0x255aa1(0x283)](_0x255aa1(0x2b3),_0x4dcb95)),!isInGameState&&audioContext&&!isTouchActiveMenu&&playSound(_0x255aa1(0x260),!![],0.2);}function togglePause(){const _0x1ec277=_0x48a199;let _0x2e2ef2=![];const _0x3e4b41=isShowingPlayerGameOverMessage||isTwoPlayerMode&&selectedGameMode===_0x1ec277(0x242)&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage);if(isInGameState&&gameOverSequenceStartTime===0x0&&!_0x3e4b41){if(!isManualControl)_0x2e2ef2=!![];else{if(isTwoPlayerMode&&selectedGameMode===_0x1ec277(0x242))_0x2e2ef2=player1Lives>0x0&&ship1&&!isPlayer1ShipCaptured&&!player1NeedsRespawnAfterCapture||player2Lives>0x0&&ship2&&!isPlayer2ShipCaptured&&!player2NeedsRespawnAfterCapture;else isTwoPlayerMode&&selectedGameMode===_0x1ec277(0x205)&&isPlayerTwoAI&&currentPlayer===0x2?_0x2e2ef2=![]:_0x2e2ef2=playerLives>0x0&&ship&&!isShipCaptured;}}if(!_0x2e2ef2)return;isPaused=!isPaused,isPaused?(pauseAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null):(resumeAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0),audioContext&&audioContext[_0x1ec277(0x231)]===_0x1ec277(0x2f1)&&audioContext[_0x1ec277(0x250)]()[_0x1ec277(0x2b8)](()=>{const _0x1ed7ee=_0x1ec277;audioContextInitialized=!![],console[_0x1ed7ee(0x26e)]('AudioContext\x20resumed\x20explicitly\x20after\x20unpause.');}));}function processSingleController(_0x506fad,_0x3c66d5){const _0x254162=_0x48a199,_0xa9109a=_0x506fad[_0x254162(0x2a0)][_0x254162(0x23e)](_0x4b7144=>_0x4b7144[_0x254162(0x259)]),_0x559251={'left':![],'right':![],'shoot':![],'pause':![],'back':![],'newButtonStates':_0xa9109a['slice']()},_0x261391=_0xa9109a[PS5_BUTTON_CROSS],_0x4bec59=_0xa9109a[PS5_BUTTON_R1],_0x49bca3=_0x3c66d5[PS5_BUTTON_R1]??![],_0x1636a2=_0xa9109a[PS5_BUTTON_TRIANGLE],_0x5df058=_0x3c66d5[PS5_BUTTON_TRIANGLE]??![],_0x17a111=_0x506fad[_0x254162(0x253)][PS5_LEFT_STICK_X]??0x0,_0x4282ac=_0xa9109a[PS5_DPAD_LEFT],_0x11b479=_0xa9109a[PS5_DPAD_RIGHT],_0x3e5626=AXIS_DEAD_ZONE_GAMEPLAY;if(_0x17a111<-_0x3e5626||_0x4282ac)_0x559251['left']=!![];else(_0x17a111>_0x3e5626||_0x11b479)&&(_0x559251[_0x254162(0x2ad)]=!![]);return _0x261391&&(_0x559251['shoot']=!![]),_0x4bec59&&!_0x49bca3&&(_0x559251[_0x254162(0x2d7)]=!![]),_0x1636a2&&!_0x5df058&&(_0x559251[_0x254162(0x2f0)]=!![]),_0x559251;}function triggerFinalGameOverSequence(){const _0x3ee795=_0x48a199;if(isInGameState&&gameOverSequenceStartTime===0x0){isPaused=![],isShowingDemoText=![],isShowingIntro=![],isWaveTransitioning=![],showCsHitsMessage=![],showExtraLifeMessage=![],showPerfectMessage=![],showCSClearMessage=![],showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showReadyMessage=![],showCsBonusScoreMessage=![],isShowingPlayerGameOverMessage=![],isEntrancePhaseActive=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![];isManualControl&&saveHighScore();const _0x257e7d=Object['keys'](soundPaths)[_0x3ee795(0x229)](_0x3c50a1=>_0x3c50a1!==_0x3ee795(0x2c3)&&_0x3c50a1!==_0x3ee795(0x2d8));_0x257e7d['forEach'](_0x259ec1=>stopSound(_0x259ec1)),isGridSoundPlaying=![];const _0x52c9bd=Date['now']();playSound('gameOverSound',![],0.4),isTwoPlayerMode&&selectedGameMode===_0x3ee795(0x205)&&player1Lives<=0x0&&player2Lives<=0x0||selectedOnePlayerGameVariant===_0x3ee795(0x223)&&player1Lives<=0x0&&player2Lives<=0x0?gameOverSequenceStartTime=_0x52c9bd-GAME_OVER_DURATION:gameOverSequenceStartTime=_0x52c9bd,bullets=[],enemyBullets=[],explosions=[],fallingShips=[],isDualShipActive=![],player1IsDualShipActive=![],player2IsDualShipActive=![],isShowingResultsScreen=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[];}}function triggerGameOver(){triggerFinalGameOverSequence();}