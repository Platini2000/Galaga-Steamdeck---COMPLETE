const _0x4e79ba=_0xf3e1;(function(_0x247e9f,_0x90d179){const _0x2a028a=_0xf3e1,_0x483731=_0x247e9f();while(!![]){try{const _0x2428f9=parseInt(_0x2a028a(0x22e))/0x1+parseInt(_0x2a028a(0x1d0))/0x2*(parseInt(_0x2a028a(0x25e))/0x3)+parseInt(_0x2a028a(0x205))/0x4*(-parseInt(_0x2a028a(0x26c))/0x5)+-parseInt(_0x2a028a(0x20f))/0x6*(-parseInt(_0x2a028a(0x284))/0x7)+-parseInt(_0x2a028a(0x1e2))/0x8+parseInt(_0x2a028a(0x206))/0x9+-parseInt(_0x2a028a(0x226))/0xa*(parseInt(_0x2a028a(0x28d))/0xb);if(_0x2428f9===_0x90d179)break;else _0x483731['push'](_0x483731['shift']());}catch(_0x397651){_0x483731['push'](_0x483731['shift']());}}}(_0x450c,0x43d08));const ENEMY1_TYPE='enemy1',ENEMY2_TYPE=_0x4e79ba(0x1dd),ENEMY3_TYPE='enemy3',ENEMY_WIDTH=0x28,ENEMY_HEIGHT=0x28,ENEMY1_SCALE_FACTOR=1.33,ENEMY1_WIDTH=Math[_0x4e79ba(0x1df)](ENEMY_WIDTH*ENEMY1_SCALE_FACTOR),ENEMY1_HEIGHT=Math[_0x4e79ba(0x1df)](ENEMY_HEIGHT*ENEMY1_SCALE_FACTOR),BOSS_SCALE_FACTOR=1.5,BOSS_WIDTH=Math['round'](ENEMY_WIDTH*BOSS_SCALE_FACTOR),BOSS_HEIGHT=Math[_0x4e79ba(0x1df)](ENEMY_HEIGHT*BOSS_SCALE_FACTOR),SHIP_WIDTH=0x32,SHIP_HEIGHT=0x32,SHIP_BOTTOM_MARGIN=0x1e,SHIP_MOVE_SPEED=0xa,COOP_SHIP_HORIZONTAL_OFFSET_FACTOR=0.15,CHALLENGING_STAGE_ENEMY_COUNT=0x28,CHALLENGING_STAGE_SQUADRON_SIZE=0x5,CHALLENGING_STAGE_SQUADRON_COUNT=CHALLENGING_STAGE_ENEMY_COUNT/CHALLENGING_STAGE_SQUADRON_SIZE,BASE_CS_SPEED_MULTIPLIER=4.2,MAX_CS_SPEED_MULTIPLIER=0x5,CS_HORIZONTAL_FLYBY_SPEED_FACTOR=0.35,CS_ENEMY_SPAWN_DELAY_IN_SQUADRON=0x50,CS_HORIZONTAL_FLYBY_SPAWN_DELAY=-0x19,CS_LOOP_ATTACK_SPAWN_DELAY=0x23,CHALLENGING_STAGE_SQUADRON_INTERVAL=0xbb8,PATH_T_OFFSET_PER_ENEMY=0.05,ENEMY2_MAX_HITS=0x1,ENEMY3_MAX_HITS=0x2,LEVEL_CAP_FOR_SCALING=0x32,BASE_GRID_FIRE_INTERVAL=0xaf0,MIN_GRID_FIRE_INTERVAL=0x2bc,BASE_GRID_FIRE_PROBABILITY=0.04,MAX_GRID_FIRE_PROBABILITY=0.18,BASE_GRID_MAX_FIRING_ENEMIES=0x7,MAX_GRID_MAX_FIRING_ENEMIES=0x10,BASE_RETURN_SPEED_FACTOR=1.5,MAX_RETURN_SPEED_FACTOR=2.5,PLAYER_GAME_OVER_MESSAGE_DURATION_COOP=0xbb8,AI_CAPTURE_BEAM_APPROACH_DELAY_MS=0x7d0,COOP_AI_CAPTURE_DIVE_ANTICIPATION_DURATION_MS=0xbb8,COOP_AI_SAVE_PARTNER_DELAY_MS=0x2710;let starrySkyCanvas,starryCtx,retroGridCanvas,retroGridCtx,gameCanvas,gameCtx,stars=[],gridOffsetY=0x0,isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,highScore=0x4e20,playerLives=0x3,score=0x0,level=0x1,isTwoPlayerMode=![],selectedGameMode=_0x4e79ba(0x1ea),currentPlayer=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1CompletedLevel=-0x1,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerNormalGameSubTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],isGameModeSelectMode=![],isFiringModeSelectMode=![],selectedFiringMode='rapid',selectedOnePlayerGameVariant='',isPlayerTwoAI=![],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![],scoreEarnedThisCS=0x0,player1LifeThresholdsMet=new Set(),player2LifeThresholdsMet=new Set(),isManualControl=![],isShowingDemoText=![],autoStartTimerId=null,gameJustStarted=![],mainLoopId=null,isShowingIntro=![],introStep=0x0,introDisplayStartTime=0x0,lastMouseMoveResetTime=0x0,isChallengingStage=![],isFullGridWave=![],isWaveTransitioning=![],showCsHitsMessage=![],csHitsMessageStartTime=0x0,showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![];showCsScoreForClearMessage=![];let showReadyMessage=![],readyMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],playerIntroSoundPlayed=![],stageIntroSoundPlayed=![],playLevelUpAfterCSBonus=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',isPlayer1ShowingGameOverMessage=![],player1GameOverMessageStartTime=0x0,isPlayer2ShowingGameOverMessage=![],player2GameOverMessageStartTime=0x0,forceCenterShipNextReset=![],isShipCaptured=![],isPlayer1ShipCaptured=![],isPlayer2ShipCaptured=![],capturingBossId=null,captureBeamActive=![],captureBeamSource={'x':0x0,'y':0x0},captureBeamTargetY=0x0,captureBeamProgress=0x0,captureAttemptMadeThisLevel=![],isWaitingForRespawn=![],isPlayer1WaitingForRespawn=![],isPlayer2WaitingForRespawn=![],respawnTime=0x0,player1RespawnTime=0x0,player2RespawnTime=0x0,isInvincible=![],isPlayer1Invincible=![],isPlayer2Invincible=![],invincibilityEndTime=0x0,player1InvincibilityEndTime=0x0,player2InvincibilityEndTime=0x0,fallingShips=[],isDualShipActive=![],player1IsDualShipActive=![],player2IsDualShipActive=![],isShowingCaptureMessage=![],captureMessageStartTime=0x0,capturedBossIdWithMessage=null,enemies=[],normalWaveEntrancePaths={},challengingStagePaths={},currentWaveDefinition=null,isEntrancePhaseActive=![],enemySpawnTimeouts=[],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0,lastEnemyDetachTime=0x0,gridMoveDirection=0x1,lastGridFireCheckTime=0x0,firstEnemyLanded=![],currentGridOffsetX=0x0,challengingStageEnemiesHit=0x0,challengingStageTotalEnemies=CHALLENGING_STAGE_ENEMY_COUNT,isGridBreathingActive=![];gridBreathStartTime=0x0,currentGridBreathFactor=0x0;let ship={'x':0x0,'y':0x0,'width':SHIP_WIDTH,'height':SHIP_HEIGHT,'speed':SHIP_MOVE_SPEED,'targetX':0x0,'id':'main'},ship1=null,ship2=null,leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![];p2RightPressed=![],p2ShootPressed=![];let keyboardP1LeftDown=![];function _0xf3e1(_0x544296,_0x2ea509){const _0x450c21=_0x450c();return _0xf3e1=function(_0xf3e1c5,_0x5354e8){_0xf3e1c5=_0xf3e1c5-0x1bf;let _0x54d582=_0x450c21[_0xf3e1c5];return _0x54d582;},_0xf3e1(_0x544296,_0x2ea509);}keyboardP1RightDown=![],keyboardP1ShootDown=![];let keyboardP2LeftDown=![];keyboardP2RightDown=![],keyboardP2ShootDown=![];let bullets=[],enemyBullets=[],explosions=[],hitSparks=[],playerLastShotTime=0x0,player1LastShotTime=0x0,player2LastShotTime=0x0,aiLastShotTime=0x0,aiCanShootTime=0x0,connectedGamepadIndex=null,connectedGamepadIndexP2=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],isGridSoundPlaying=![],gridJustCompleted=![],player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,visualOffsetX=-0x14,floatingScores=[],csCurrentChainHits=0x0;csCurrentChainScore=0x0,csLastHitTime=0x0,csLastChainHitPosition=null;let normalWaveCurrentChainHits=0x0;normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastChainHitPosition=null;let squadronCompletionStatus={},squadronEntranceFiringStatus={},isPaused=![],mouseIdleTimerId=null,initialGameStartSoundPlayedThisSession=![],coopStartSoundPlayedThisSession=![],wasLastGameAIDemo=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],isShowingCoopPlayersReady=![],coopPlayersReadyStartTime=0x0,gameJustStartedAndWaveLaunched=![],isCoopAIDemoActive=![],demoModeCounter=0x0,smoothedShip1X=undefined,smoothedShip2X=undefined,aiShip1TargetEnemy=null,aiShip2TargetEnemy=null,aiShip1CanShootTime=0x0,aiShip2CanShootTime=0x0,aiShip1LastShotTime=0x0,aiShip2LastShotTime=0x0,aiPlayerActivelySeekingCaptureById=null,coopAICaptureDiveAnticipationActive=![],coopAICaptureDiveAnticipationEndTime=0x0,player1CaptureRespawnX=0x0,player2CaptureRespawnX=0x0,player1NeedsRespawnAfterCapture=![],player2NeedsRespawnAfterCapture=![],capturedShipRespawnX_NormalMode=0x0,coopPartner1CapturedTime=0x0,coopPartner2CapturedTime=0x0;const shipImage=new Image(),beeImage=new Image(),butterflyImage=new Image(),bossGalagaImage=new Image(),bulletImage=new Image(),enemyBulletImage=new Image(),logoImage=new Image();shipImage[_0x4e79ba(0x1de)]=_0x4e79ba(0x1f5),beeImage[_0x4e79ba(0x1de)]=_0x4e79ba(0x20d),bulletImage[_0x4e79ba(0x1de)]=_0x4e79ba(0x1e4),bossGalagaImage['src']=_0x4e79ba(0x28c),butterflyImage['src']=_0x4e79ba(0x28a),logoImage['src']=_0x4e79ba(0x23d),enemyBulletImage['src']='Afbeeldingen/bullet-enemy.png';const beeImage2=new Image(),butterflyImage2=new Image(),bossGalagaImage2=new Image();beeImage2['src']='Afbeeldingen/bee-2.png',butterflyImage2['src']=_0x4e79ba(0x27d),bossGalagaImage2[_0x4e79ba(0x1de)]=_0x4e79ba(0x278);const level1Image=new Image(),level5Image=new Image(),level10Image=new Image(),level20Image=new Image(),level30Image=new Image(),level50Image=new Image();level1Image[_0x4e79ba(0x1de)]=_0x4e79ba(0x286),level5Image[_0x4e79ba(0x1de)]=_0x4e79ba(0x26b),level10Image['src']='Afbeeldingen/Level-10.png',level20Image[_0x4e79ba(0x1de)]=_0x4e79ba(0x267),level30Image[_0x4e79ba(0x1de)]=_0x4e79ba(0x271),level50Image[_0x4e79ba(0x1de)]=_0x4e79ba(0x23c);const captureSound=new Audio('Geluiden/Capture.mp3'),shipCapturedSound=new Audio(_0x4e79ba(0x282)),dualShipSound=new Audio('Geluiden/coin.mp3'),playerShootSound=new Audio(_0x4e79ba(0x291)),explosionSound=new Audio(_0x4e79ba(0x266)),gameOverSound=new Audio(_0x4e79ba(0x25a)),lostLifeSound=new Audio('Geluiden/lost-live.mp3'),entranceSound=new Audio(_0x4e79ba(0x1e8)),bossGalagaDiveSound=new Audio(_0x4e79ba(0x279)),levelUpSound=new Audio(_0x4e79ba(0x1c6)),enemyShootSound=new Audio(_0x4e79ba(0x288)),butterflyDiveSound=new Audio(_0x4e79ba(0x1e7)),startSound=new Audio(_0x4e79ba(0x1ef)),coinSound=new Audio(_0x4e79ba(0x220)),beeHitSound=new Audio(_0x4e79ba(0x1ee)),butterflyHitSound=new Audio('Geluiden/Butterfly-hit.mp3'),bossHit1Sound=new Audio('Geluiden/Boss-hit1.mp3'),bossHit2Sound=new Audio(_0x4e79ba(0x1f6)),gridBackgroundSound=new Audio(_0x4e79ba(0x27e)),extraLifeSound=new Audio(_0x4e79ba(0x27a)),csPerfectSound=new Audio(_0x4e79ba(0x253)),csClearSound=new Audio('Geluiden/CS-Clear.mp3'),waveUpSound=new Audio('Geluiden/Waveup.mp3'),menuMusicSound=new Audio(_0x4e79ba(0x1db)),readySound=new Audio(_0x4e79ba(0x1fa)),resultsMusicSound=new Audio('Geluiden/results-music.mp3'),hiScoreSound=new Audio(_0x4e79ba(0x230));let tripleAttackSound;const BASE_ENEMY_BULLET_SPEED=0x9,MAX_ENEMY_BULLET_SPEED=0x9,BASE_ENEMY_ATTACK_SPEED=5.5,MAX_ENEMY_ATTACK_SPEED=0x8,BASE_MAX_ATTACKING_ENEMIES=0xa,MAX_MAX_ATTACKING_ENEMIES=0x16,BASE_GRID_MOVE_SPEED=0.3,MAX_GRID_MOVE_SPEED=0.7,BASE_GRID_BREATH_CYCLE_MS=0x7d0,MIN_GRID_BREATH_CYCLE_MS=0x3e8,BASE_ENEMY_BULLET_BURST_COUNT=0x1,MAX_ENEMY_BULLET_BURST_COUNT=0x5,BASE_ENEMY_AIM_FACTOR=0.75,MAX_ENEMY_AIM_FACTOR=0.95,BASE_BEE_GROUP_ATTACK_PROBABILITY=0.05,MAX_BEE_GROUP_ATTACK_PROBABILITY=0.4,BASE_BEE_TRIPLE_ATTACK_PROBABILITY=0.1,MAX_BEE_TRIPLE_ATTACK_PROBABILITY=0.5,PLAYER_BULLET_WIDTH=0x5,PLAYER_BULLET_HEIGHT=0xf,PLAYER_BULLET_SPEED=0xe,DUAL_SHIP_BULLET_OFFSET_X=SHIP_WIDTH*0.5,ENEMY_BULLET_WIDTH=0x4,ENEMY_BULLET_HEIGHT=0xc,NUM_STARS=0x1f4,MAX_STAR_RADIUS=1.5,MIN_STAR_RADIUS=0.5,TWINKLE_SPEED=0.015,BASE_PARALLAX_SPEED=0.3,PARALLAX_SPEED_FACTOR=0x2,STAR_FADE_START_FACTOR_ABOVE_HORIZON=0.25,GRID_RGB_PART='100,\x20180,\x20255',GRID_BASE_ALPHA=0.8,GRID_MIN_ALPHA=0.3,GRID_FIXED_LINES_ALPHA=0.5,GRID_LINE_COLOR_FIXED=_0x4e79ba(0x20a)+GRID_RGB_PART+',\x20'+GRID_FIXED_LINES_ALPHA+')',GRID_LINE_WIDTH=0x2,GRID_SPEED=0.4,GRID_HORIZON_Y_FACTOR=0.74,GRID_BASE_SPACING=0xf,GRID_SPACING_POWER=0x2,GRID_HORIZONTAL_LINE_WIDTH_FACTOR=1.5,GRID_NUM_PERSPECTIVE_LINES=0xe,GRID_HORIZON_SPREAD_FACTOR=1.2,GRID_BOTTOM_SPREAD_FACTOR=0x2,GRID_PERSPECTIVE_POWER=0x1,MENU_INACTIVITY_TIMEOUT=0x4e20,SCORE_SCREEN_DURATION=0x4e20,ENTRANCE_SPEED=0x6,BASE_RETURN_SPEED=ENTRANCE_SPEED,NORMAL_ENTRANCE_PATH_SPEED=0.013934592,BOSS_LOOP_ENTRANCE_PATH_SPEED=0.055738368,ENEMY_SPAWN_DELAY_IN_SQUADRON=0x64,ENTRANCE_PAIR_HORIZONTAL_GAP=0x5,ENTRANCE_PAIR_PATH_T_OFFSET=0x0,NORMAL_WAVE_SQUADRON_INTERVAL=0x708,ENTRANCE_FIRE_BURST_DELAY_MS=0x50,CS_ENTRANCE_PATH_SPEED=0.0032,CS_COMPLETION_MESSAGE_DELAY=0x3e8,ENEMY_ANIMATION_INTERVAL_MS=0xfa,AXIS_DEAD_ZONE_MENU=0.3,AXIS_DEAD_ZONE_GAMEPLAY=0.15,PS5_BUTTON_CROSS=0x0,PS5_BUTTON_CIRCLE=0x1,PS5_BUTTON_TRIANGLE=0x3,PS5_BUTTON_R1=0x5,PS5_DPAD_UP=0xc,PS5_DPAD_DOWN=0xd,PS5_DPAD_LEFT=0xe,PS5_DPAD_RIGHT=0xf,PS5_LEFT_STICK_X=0x0,PS5_LEFT_STICK_Y=0x1,SHOOT_COOLDOWN=0x8c,CS_MULTI_BULLET_COUNT=0x2,CS_MULTI_BULLET_SPREAD_ANGLE_DEG=0x8,GRID_ROWS=0x5,GRID_COLS=0xa,ENEMY_V_SPACING=0x14,ENEMY_H_SPACING_FIXED=0x1e,ENEMY_TOP_MARGIN=0x75,GRID_HORIZONTAL_MARGIN_PERCENT=0.18,GRID_BREATH_ENABLED=!![],GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR=0.5,GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR=0.3,ENEMY1_DIVE_SPEED_FACTOR=0.65,ENEMY2_DIVE_SPEED_FACTOR=0.75,ENEMY3_ATTACK_SPEED_FACTOR=0.8,BOSS_CAPTURE_DIVE_SPEED_FACTOR=0.85,GROUP_DETACH_DELAY_MS=0x50,GROUP_FIRE_BURST_DELAY=0x258,SOLO_BUTTERFLY_FIRE_DELAY=0x258,BOSS_CAPTURE_DIVE_PROBABILITY=0.15,CAPTURE_DIVE_SIDE_MARGIN_FACTOR=0.15,CAPTURE_DIVE_BOTTOM_HOVER_Y_FACTOR=0.7,CAPTURE_BEAM_DURATION_MS=0x1388,CAPTURE_BEAM_ANIMATION_DURATION_MS=0x1f4,CAPTURE_BEAM_WIDTH_TOP_FACTOR=0.7,CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR=1.8,CAPTURE_BEAM_COLOR_START='rgba(180,\x20180,\x20255,\x200.1)',CAPTURE_BEAM_COLOR_END=_0x4e79ba(0x277),CAPTURE_BEAM_PULSE_SPEED=0.004,CAPTURED_SHIP_SCALE=0x1,CAPTURED_SHIP_OFFSET_X=(BOSS_WIDTH-SHIP_WIDTH)/0x2,CAPTURED_SHIP_OFFSET_Y=-SHIP_HEIGHT*0.5,CAPTURE_MESSAGE_DURATION=0xbb8,CAPTURED_SHIP_TINT_COLOR=_0x4e79ba(0x26f),CAPTURED_SHIP_FIRE_COOLDOWN_MS=0x1f4,RESPAWN_DELAY_MS=0x7d0,INVINCIBILITY_DURATION_MS=0x7d0,INVINCIBILITY_BLINK_ON_MS=0x64,INVINCIBILITY_BLINK_OFF_MS=0x32,FALLING_SHIP_SPEED=3.5,FALLING_SHIP_FADE_DURATION_MS=0x5dc,FALLING_SHIP_ROTATION_DURATION_MS=0x5dc,FALLING_SHIP_ROTATION_SPEED=0.1,DUAL_SHIP_DOCK_TIME_MS=0x3e8,DUAL_SHIP_OFFSET_X=SHIP_WIDTH,AUTO_DOCK_THRESHOLD=0x14,FLOATING_SCORE_DURATION=0x1f4,FLOATING_SCORE_APPEAR_DELAY=-0x32,FLOATING_SCORE_FONT='bold\x2012px\x20\x27Press\x20Start\x202P\x27',FLOATING_SCORE_OPACITY=0.5,FLOATING_SCORE_COLOR_GRID=_0x4e79ba(0x22b),FLOATING_SCORE_COLOR_ACTIVE=_0x4e79ba(0x21e),FLOATING_SCORE_COLOR_CS_CHAIN='cyan',CS_CHAIN_SCORE_THRESHOLD=0x4,CS_CHAIN_BREAK_TIME_MS=0x1f4,NORMAL_WAVE_CHAIN_BONUS_ENABLED=![],NORMAL_WAVE_CHAIN_SCORE_THRESHOLD=0x4,NORMAL_WAVE_CHAIN_BREAK_TIME_MS=0x2ee,EXPLOSION_DURATION=0x28a,EXPLOSION_PARTICLE_COUNT=0x19,EXPLOSION_MAX_SPEED=5.5,EXPLOSION_MIN_SPEED=1.5,EXPLOSION_PARTICLE_RADIUS=0x4,EXPLOSION_FADE_SPEED=2.8,EXPLOSION_MAX_OPACITY=0.8,HIT_SPARK_COUNT=0x8,HIT_SPARK_LIFETIME=0x5dc,HIT_SPARK_SPEED=4.5,HIT_SPARK_SIZE=2.5,HIT_SPARK_COLOR=_0x4e79ba(0x1f0),HIT_SPARK_GRAVITY=0.05,HIT_SPARK_FADE_SPEED=0x1/HIT_SPARK_LIFETIME,UI_TEXT_MARGIN_TOP=0x23,UI_1UP_BLINK_ON_MS=0x258,UI_1UP_BLINK_OFF_MS=0x190,UI_1UP_BLINK_CYCLE_MS=UI_1UP_BLINK_ON_MS+UI_1UP_BLINK_OFF_MS,AI_SHOOT_COOLDOWN=0x8c,AI_STABILIZATION_DURATION=0x1f4,AI_POSITION_MOVE_SPEED_FACTOR=1.2,AI_COLLISION_LOOKAHEAD=SHIP_HEIGHT*3.5,AI_COLLISION_BUFFER=SHIP_WIDTH*0.6,FINAL_DODGE_LOOKAHEAD=AI_COLLISION_LOOKAHEAD*4.5,FINAL_DODGE_BUFFER_BASE=AI_COLLISION_BUFFER*3.5,ENTRANCE_BULLET_DODGE_LOOKAHEAD=FINAL_DODGE_LOOKAHEAD*1.1,ENTRANCE_BULLET_DODGE_BUFFER=FINAL_DODGE_BUFFER_BASE*1.1,FINAL_AI_DODGE_MOVE_SPEED_FACTOR=3.8,AI_SHOOT_ALIGNMENT_THRESHOLD=0.15,AI_SHOT_CLEARANCE_BUFFER=PLAYER_BULLET_WIDTH*1.5,MAX_PREDICTION_TIME_CS=0.7,NORMAL_MOVE_FRACTION=0.08,CS_AI_MOVE_FRACTION=0.16,AI_SMOOTHING_FACTOR_MOVE=0.05,CS_MOVE_SPEED_FACTOR=1.8,NORMAL_WAVE_ATTACKING_DODGE_BUFFER_MULTIPLIER=1.2,NORMAL_WAVE_ATTACKING_DODGE_SPEED_MULTIPLIER=1.1,STABILIZE_MOVE_FRACTION=0.05,ENTRANCE_DODGE_MOVE_FRACTION=0.15,AI_MOVEMENT_DEADZONE=0.8,AI_SMOOTHING_FACTOR=0.1,AI_EDGE_BUFFER=SHIP_WIDTH*0.5,AI_ANTI_CORNER_BUFFER=AI_EDGE_BUFFER*2.5,BEE_DODGE_BUFFER_HORIZONTAL_FACTOR=1.5,FINAL_SHOOT_ALIGNMENT_THRESHOLD=0x2,GRID_SHOOT_ALIGNMENT_FACTOR=1.5,ENTRANCE_SHOOT_ALIGNMENT_FACTOR=1.2,ENTRANCE_AI_DODGE_MOVE_SPEED_FACTOR=0x4,AI_WIGGLE_AMPLITUDE=SHIP_WIDTH*0.15,AI_WIGGLE_PERIOD=0xbb8,AI_EDGE_SHOOT_BUFFER_FACTOR=0x2,AI_EDGE_SHOOT_TARGET_THRESHOLD_FACTOR=0.75,ENTRANCE_SHOOT_BULLET_CHECK_LOOKAHEAD=SHIP_HEIGHT*1.5,ENTRANCE_SHOOT_BULLET_CHECK_BUFFER=SHIP_WIDTH*0.8,MAX_PREDICTION_TIME=0.8,LOCAL_CS_POSITION_MIN_X=0x0,LOCAL_CS_POSITION_MAX_X=0x0,CS_SHOOTING_MOVE_FRACTION=0.25,CS_SHOOTING_MOVE_SPEED_FACTOR=0x2,CS_PREDICTION_FACTOR=0x1,AI_CAPTURE_WAIT_DURATION_MS=0x7d0,INTRO_DURATION_PER_STEP=0xfa0,TWO_PLAYER_STAGE_INTRO_DURATION=0xfa0,READY_MESSAGE_DURATION=0xbb8,CS_HITS_MESSAGE_DURATION=0x3e8,CS_PERFECT_MESSAGE_DURATION=0x3e8,CS_BONUS_MESSAGE_DURATION=0x1f40,CS_CLEAR_DELAY=0x1f40,CS_CLEAR_HITS_DELAY=0x3e8,CS_CLEAR_SCORE_DELAY=0x7d0,EXTRA_LIFE_MESSAGE_DURATION=0xbb8,RECURRING_EXTRA_LIFE_INTERVAL=0x11170,POST_MESSAGE_RESET_DELAY=0x3e8,EXTRA_LIFE_THRESHOLD_1=0x4e20,EXTRA_LIFE_THRESHOLD_2=0x11170,GAME_OVER_DURATION=0x1388,waveEntrancePatterns=[[{'pathId':_0x4e79ba(0x1e3),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':_0x4e79ba(0x1e3)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':'new_path_left'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':_0x4e79ba(0x1e3)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':'new_path_left'}]},{'pathId':_0x4e79ba(0x270),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0x4e79ba(0x270)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':_0x4e79ba(0x270)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':_0x4e79ba(0x270)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':_0x4e79ba(0x270)}]},{'pathId':_0x4e79ba(0x1e0),'enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':_0x4e79ba(0x1e0),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':_0x4e79ba(0x1e0),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':'boss_loop_left'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':_0x4e79ba(0x1e0)},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':_0x4e79ba(0x1e0),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':_0x4e79ba(0x1e0),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':_0x4e79ba(0x1e0)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':_0x4e79ba(0x1e0)}]},{'pathId':_0x4e79ba(0x258),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':_0x4e79ba(0x258)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':_0x4e79ba(0x258)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':_0x4e79ba(0x258)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':_0x4e79ba(0x258)}]},{'pathId':_0x4e79ba(0x218),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':_0x4e79ba(0x218)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':_0x4e79ba(0x218)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':_0x4e79ba(0x218)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':_0x4e79ba(0x218)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':_0x4e79ba(0x218)}]},{'pathId':_0x4e79ba(0x247),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':_0x4e79ba(0x247)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':_0x4e79ba(0x247)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':_0x4e79ba(0x247)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':_0x4e79ba(0x247)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':_0x4e79ba(0x247)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':_0x4e79ba(0x247)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':_0x4e79ba(0x247)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':_0x4e79ba(0x247)}]}],[{'pathId':_0x4e79ba(0x1e3),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':_0x4e79ba(0x1e3)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':_0x4e79ba(0x1e3)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':_0x4e79ba(0x1e3)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':'new_path_left'}]},{'pathId':'new_path_right','enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0x4e79ba(0x270)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':_0x4e79ba(0x270)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':'new_path_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':_0x4e79ba(0x270)}]},{'pathId':'boss_loop_left','enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':_0x4e79ba(0x1e0),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':_0x4e79ba(0x1e0)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':_0x4e79ba(0x1e0)},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':_0x4e79ba(0x1e0),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':_0x4e79ba(0x1e0),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':_0x4e79ba(0x1e0)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':'boss_loop_left'}]},{'pathId':'boss_loop_right','enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':_0x4e79ba(0x258)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':_0x4e79ba(0x258)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':_0x4e79ba(0x258)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':_0x4e79ba(0x258)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':_0x4e79ba(0x258)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':_0x4e79ba(0x258)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':_0x4e79ba(0x258)}]},{'pathId':_0x4e79ba(0x218),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':_0x4e79ba(0x218)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':_0x4e79ba(0x218)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':_0x4e79ba(0x218)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':_0x4e79ba(0x218)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':_0x4e79ba(0x218)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':_0x4e79ba(0x218)}]},{'pathId':_0x4e79ba(0x247),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':_0x4e79ba(0x247)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':_0x4e79ba(0x247)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':_0x4e79ba(0x247)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':_0x4e79ba(0x247)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':_0x4e79ba(0x247)}]}]],MARGIN_TOP=0x5,MARGIN_SIDE=0x69,SCORE_OFFSET_Y=0x19,LIFE_ICON_SIZE=0x23,LIFE_ICON_SPACING=0x8,LIFE_ICON_MARGIN_BOTTOM=0x5,LIFE_ICON_MARGIN_LEFT=MARGIN_SIDE-0x1e,LEVEL_ICON_SIZE=0x23,LEVEL_ICON_MARGIN_BOTTOM=LIFE_ICON_MARGIN_BOTTOM,LEVEL_ICON_MARGIN_RIGHT=MARGIN_SIDE-0x1e,LEVEL_ICON_SPACING=LIFE_ICON_SPACING;function checkCollision(_0x27f4b6,_0x103edf){const _0x153a78=_0x4e79ba;if(!_0x27f4b6||!_0x103edf)return![];return _0x27f4b6['x']<_0x103edf['x']+_0x103edf[_0x153a78(0x222)]&&_0x27f4b6['x']+_0x27f4b6[_0x153a78(0x222)]>_0x103edf['x']&&_0x27f4b6['y']<_0x103edf['y']+_0x103edf[_0x153a78(0x202)]&&_0x27f4b6['y']+_0x27f4b6['height']>_0x103edf['y'];}function initializeDOMElements(){const _0x1fcbc9=_0x4e79ba;starrySkyCanvas=document[_0x1fcbc9(0x252)](_0x1fcbc9(0x221)),starryCtx=starrySkyCanvas?.[_0x1fcbc9(0x21b)]('2d'),retroGridCanvas=document['getElementById'](_0x1fcbc9(0x1fd)),retroGridCtx=retroGridCanvas?.['getContext']('2d'),gameCanvas=document['getElementById'](_0x1fcbc9(0x246)),gameCtx=gameCanvas?.[_0x1fcbc9(0x21b)]('2d');if(!starryCtx||!retroGridCtx||!gameCtx)return console['error'](_0x1fcbc9(0x1ce)),alert(_0x1fcbc9(0x1ed)),document[_0x1fcbc9(0x1d5)]['innerHTML']=_0x1fcbc9(0x273),![];if(gameCanvas[_0x1fcbc9(0x222)]===0x0||gameCanvas[_0x1fcbc9(0x202)]===0x0){const _0x4efc33=window['innerWidth']||0x320,_0x320b97=window['innerHeight']||0x258;starrySkyCanvas&&(starrySkyCanvas[_0x1fcbc9(0x222)]=_0x4efc33,starrySkyCanvas[_0x1fcbc9(0x202)]=_0x320b97),retroGridCanvas&&(retroGridCanvas[_0x1fcbc9(0x222)]=_0x4efc33,retroGridCanvas[_0x1fcbc9(0x202)]=_0x320b97),gameCanvas[_0x1fcbc9(0x222)]=_0x4efc33,gameCanvas['height']=_0x320b97;}floatingScores=[],csCurrentChainHits=0x0,csCurrentChainScore=0x0,csLastHitTime=0x0,csLastChainHitPosition=null,normalWaveCurrentChainHits=0x0,normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastChainHitPosition=null;try{tripleAttackSound=new Audio('Geluiden/Triple.mp3');if(playerShootSound)playerShootSound[_0x1fcbc9(0x217)]=0.4;if(explosionSound)explosionSound[_0x1fcbc9(0x217)]=0.4;if(gameOverSound)gameOverSound[_0x1fcbc9(0x217)]=0.4;if(lostLifeSound)lostLifeSound[_0x1fcbc9(0x217)]=0.6;if(entranceSound)entranceSound[_0x1fcbc9(0x217)]=0.4;if(bossGalagaDiveSound)bossGalagaDiveSound[_0x1fcbc9(0x217)]=0.2;if(levelUpSound)levelUpSound['volume']=0.2;if(enemyShootSound)enemyShootSound[_0x1fcbc9(0x217)]=0.4;if(butterflyDiveSound)butterflyDiveSound['volume']=0.2;if(startSound)startSound[_0x1fcbc9(0x217)]=0.4;if(coinSound)coinSound[_0x1fcbc9(0x217)]=0.4;if(beeHitSound)beeHitSound['volume']=0.3;if(butterflyHitSound)butterflyHitSound['volume']=0.3;if(bossHit1Sound)bossHit1Sound[_0x1fcbc9(0x217)]=0.6;if(bossHit2Sound)bossHit2Sound[_0x1fcbc9(0x217)]=0.4;gridBackgroundSound&&(gridBackgroundSound[_0x1fcbc9(0x217)]=0.1,gridBackgroundSound[_0x1fcbc9(0x255)]=!![]);if(extraLifeSound)extraLifeSound['volume']=0.5;if(csPerfectSound)csPerfectSound['volume']=0.6;if(csClearSound)csClearSound[_0x1fcbc9(0x217)]=0.6;if(waveUpSound)waveUpSound['volume']=0.8;menuMusicSound&&(menuMusicSound[_0x1fcbc9(0x217)]=0.2,menuMusicSound[_0x1fcbc9(0x255)]=!![]);if(readySound)readySound[_0x1fcbc9(0x217)]=0.1;if(tripleAttackSound)tripleAttackSound['volume']=0.3;if(captureSound)captureSound['volume']=0.6;if(shipCapturedSound)shipCapturedSound[_0x1fcbc9(0x217)]=0.3;if(dualShipSound)dualShipSound[_0x1fcbc9(0x217)]=0.4;if(resultsMusicSound)resultsMusicSound[_0x1fcbc9(0x217)]=0.2;if(hiScoreSound)hiScoreSound['volume']=0.2;}catch(_0x3e1fed){console['error'](_0x1fcbc9(0x228),_0x3e1fed);}const _0x22b9db=[playerShootSound,explosionSound,gameOverSound,lostLifeSound,entranceSound,bossGalagaDiveSound,levelUpSound,enemyShootSound,butterflyDiveSound,startSound,coinSound,beeHitSound,butterflyHitSound,bossHit1Sound,bossHit2Sound,gridBackgroundSound,extraLifeSound,csPerfectSound,csClearSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound,resultsMusicSound,hiScoreSound],_0x52adc3=[shipImage,beeImage,bulletImage,bossGalagaImage,butterflyImage,logoImage,level1Image,level5Image,level10Image,level20Image,level30Image,level50Image,beeImage2,butterflyImage2,bossGalagaImage2];return _0x22b9db[_0x1fcbc9(0x1cc)](_0x1f3ae8=>{const _0x310b9d=_0x1fcbc9;if(_0x1f3ae8)_0x1f3ae8[_0x310b9d(0x242)]=()=>console[_0x310b9d(0x25f)](_0x310b9d(0x225)+_0x1f3ae8[_0x310b9d(0x1de)]);}),_0x52adc3[_0x1fcbc9(0x1cc)](_0x8534f=>{const _0x206bcd=_0x1fcbc9;if(_0x8534f)_0x8534f[_0x206bcd(0x242)]=()=>console['error']('Error\x20loading\x20image:\x20'+_0x8534f['src']);}),!![];}function scaleValue(_0x5a1a5e,_0x286a39,_0x1623a5){const _0x4a630d=_0x4e79ba,_0x272d95=Math['max'](0x1,Math[_0x4a630d(0x216)](_0x5a1a5e,LEVEL_CAP_FOR_SCALING));if(_0x272d95===0x1)return _0x286a39;const _0x2a990f=(_0x272d95-0x1)/(LEVEL_CAP_FOR_SCALING-0x1);return _0x286a39+(_0x1623a5-_0x286a39)*_0x2a990f;}function setupInitialEventListeners(){const _0xe58cd7=_0x4e79ba;try{window[_0xe58cd7(0x240)]('gamepadconnected',handleGamepadConnected),window['addEventListener'](_0xe58cd7(0x20b),handleGamepadDisconnected),window[_0xe58cd7(0x240)](_0xe58cd7(0x1d7),resizeCanvases);}catch(_0x4e7b86){console[_0xe58cd7(0x25f)](_0xe58cd7(0x1cf),_0x4e7b86);}}function getCurrentGridSlotPosition(_0x1cf827,_0x235523,_0x2390b4){const _0x2db7b8=_0x4e79ba;if(!gameCanvas||gameCanvas[_0x2db7b8(0x222)]===0x0||_0x1cf827<0x0||_0x235523<0x0)return{'x':gameCanvas?.[_0x2db7b8(0x222)]/0x2||0xc8,'y':ENEMY_TOP_MARGIN||0x64};const _0x3882f8=ENEMY_WIDTH;let _0xbd3052=ENEMY_H_SPACING_FIXED,_0x36ba86=ENEMY_V_SPACING;if(GRID_BREATH_ENABLED&&isGridBreathingActive){const _0x16bb5e=ENEMY_H_SPACING_FIXED*GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR*currentGridBreathFactor;_0xbd3052=ENEMY_H_SPACING_FIXED+_0x16bb5e;const _0x559eed=ENEMY_V_SPACING*GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR*currentGridBreathFactor;_0x36ba86=ENEMY_V_SPACING+_0x559eed;}const _0x1647e2=GRID_COLS*_0x3882f8+(GRID_COLS-0x1)*_0xbd3052,_0x493b5c=Math[_0x2db7b8(0x1df)]((gameCanvas[_0x2db7b8(0x222)]-_0x1647e2)/0x2),_0x336e88=_0x493b5c+currentGridOffsetX,_0x5c95d0=_0x336e88+_0x235523*(_0x3882f8+_0xbd3052),_0x1554d0=(_0x3882f8-_0x2390b4)/0x2,_0x3b909b=Math[_0x2db7b8(0x1df)](_0x5c95d0+_0x1554d0),_0x3c5a7c=Math['round'](ENEMY_TOP_MARGIN+_0x1cf827*(ENEMY_HEIGHT+ENEMY_V_SPACING));return{'x':_0x3b909b,'y':_0x3c5a7c};}function playSound(_0x2ab2c1){const _0xd2729b=_0x4e79ba;try{if(isPaused&&_0x2ab2c1!==menuMusicSound)return;if(_0x2ab2c1?.[_0xd2729b(0x1ff)]){if(_0x2ab2c1[_0xd2729b(0x255)]&&!_0x2ab2c1[_0xd2729b(0x27b)]&&_0x2ab2c1[_0xd2729b(0x263)]>0x0&&!_0x2ab2c1[_0xd2729b(0x232)])return;_0x2ab2c1['currentTime']=0x0;const _0x504794=_0x2ab2c1['play']();_0x504794!==undefined&&_0x504794[_0xd2729b(0x260)](_0x533c7e=>{const _0xe1fc12=_0xd2729b;_0x533c7e[_0xe1fc12(0x1fe)]!==_0xe1fc12(0x262)&&_0x533c7e[_0xe1fc12(0x1fe)]!==_0xe1fc12(0x21d)&&console[_0xe1fc12(0x23f)](_0xe1fc12(0x227)+_0x2ab2c1[_0xe1fc12(0x1de)]+':\x20'+_0x533c7e['message']);});}}catch(_0x4e6a52){console['error'](_0xd2729b(0x1d3),_0x4e6a52);}}function stopSound(_0x163204){const _0xc45207=_0x4e79ba;try{if(_0x163204&&!_0x163204[_0xc45207(0x27b)])_0x163204[_0xc45207(0x280)](),_0x163204[_0xc45207(0x263)]=0x0;else _0x163204&&(_0x163204[_0xc45207(0x263)]=0x0);}catch(_0x2ae877){console[_0xc45207(0x25f)](_0xc45207(0x285),_0x2ae877);}}function triggerFullscreen(){const _0x586df3=_0x4e79ba;if(!document[_0x586df3(0x239)]){const _0x27f773=document[_0x586df3(0x1d2)];let _0x45bbd8=null;if(_0x27f773[_0x586df3(0x213)])_0x45bbd8=_0x27f773[_0x586df3(0x213)]();else{if(_0x27f773[_0x586df3(0x25c)])_0x45bbd8=_0x27f773[_0x586df3(0x25c)]();else{if(_0x27f773[_0x586df3(0x1bf)])_0x45bbd8=_0x27f773[_0x586df3(0x1bf)]();else _0x27f773[_0x586df3(0x290)]&&(_0x45bbd8=_0x27f773[_0x586df3(0x290)]());}}_0x45bbd8?_0x45bbd8['then'](()=>{playSound(menuMusicSound);})['catch'](_0x33a656=>{const _0x2531ac=_0x586df3;console[_0x2531ac(0x25f)](_0x2531ac(0x1ca)+_0x33a656[_0x2531ac(0x24d)]+'\x20('+_0x33a656[_0x2531ac(0x1fe)]+')'),playSound(menuMusicSound);}):(console[_0x586df3(0x23f)](_0x586df3(0x1eb)),playSound(menuMusicSound));}else playSound(menuMusicSound);}function _0x450c(){const _0x4dd2a2=['Error\x20in\x20drawStars:','CLASSIC_1P','Geluiden/ready.mp3','\x20is\x20not\x20an\x20array!\x20Using\x20basic\x20fallback.','lineWidth','retroGridCanvas','name','play','returning','stringify','height','shoot','stroke','7164lNUUFH','4769037RbAzIU','KeyD','KeyA','code','rgba(','gamepaddisconnected','Escape','Afbeeldingen/bee.png','metaKey','747594MvgMyo','right','Error\x20recalculating\x20grid\x20pos\x20for\x20enemy\x20','ArrowDown','requestFullscreen','length','toFixed','min','volume','mid_curve_left','type','Error\x20in\x20loadHighScore:','getContext','preventDefault','NotAllowedError','red','rapid','Geluiden/coin.mp3','starrySkyCanvas','width','Error\x20handling\x20game\x20resize\x20specifics:','function','Error\x20loading\x20sound:\x20','10hZkygT','Sound\x20play\x20failed\x20for\x20','Error\x20setting\x20sound\x20properties:','ArrowUp','KeyL','cyan','1P_VS_AI_COOP','CS_LoopAttack_TR','238267uGsIUg','\x20empty\x20after\x20validation!\x20Adding\x20fallback.','Geluiden/hi-score.mp3','strokeStyle','ended','attacking','ctrlKey','map','gridCol','push','in_grid','fullscreenElement','pressed','Cannot\x20define\x20Normal\x20Wave\x20entrance\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','Afbeeldingen/Level-50.png','Afbeeldingen/Logo.png','Error\x20in\x20handleGamepadConnected:','warn','addEventListener','CS_LoopAttack_TL','onerror','coop','buttons','ArrowLeft','gameCanvas','mid_curve_right','ArrowRight','undefined','Sound\x20resume\x20failed\x20for\x20','Numpad0','gridRow','message','KeyW','state','KeyJ','\x20empty\x20after\x20validation!\x20Using\x20basic\x20fallback.','getElementById','Geluiden/CS-Stage-Perfect-.mp3','altKey','loop','includes','Normal\x20Wave\x20Path\x20','boss_loop_right','moveTo','Geluiden/gameover.mp3','beginPath','mozRequestFullScreen','CS_HorizontalFlyByR','1511457FDgcMT','error','catch','targetGridX','AbortError','currentTime','CS_HorizontalFlyByL','key','Geluiden/kill.mp3','Afbeeldingen/Level-20.png','CS3_DiveLoopL_Sharp','parse','targetX','Afbeeldingen/Level-5.png','675ywYHSq','Error\x20in\x20saveHighScore:','lineTo','rgba(255,\x20150,\x20150,\x200.55)','new_path_right','Afbeeldingen/Level-30.png','radius','<p\x20style=\x22color:white;\x22>FATAL\x20ERROR</p>','Enter','shiftKey','Backspace','rgba(220,\x20220,\x20255,\x200.6)','Afbeeldingen/bossGalaga-2.png','Geluiden/Enemy2.mp3','Geluiden/Extra-Leven.mp3','paused','pow','Afbeeldingen/butterfly-2.png','Geluiden/Achtergrond-grid.mp3','random','pause','index','Geluiden/Capture-ship.mp3','cos','21UcQQLD','Error\x20in\x20stopSound:','Afbeeldingen/Level-1.png','filter','Geluiden/Fire-enemy.mp3','Cannot\x20define\x20CS\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','Afbeeldingen/butterfly.png','left','Afbeeldingen/bossGalaga.png','9574059BZJQhe','clearRect','gamepad','msRequestFullscreen','Geluiden/firing.mp3','webkitRequestFullscreen','atan2','moving_to_grid','fillStyle','rgba(255,\x20255,\x20255,\x20','Error\x20in\x20drawRetroGrid:','KeyI','Geluiden/LevelUp.mp3','number','Numpad6','Error\x20in\x20handleGamepadDisconnected:','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','innerWidth','forEach','Space','FATAL:\x20Could\x20not\x20initialize\x20one\x20or\x20more\x20canvas\x20contexts!','Error\x20setting\x20up\x20initial\x20event\x20listeners:','2uttzFX','fill','documentElement','Error\x20in\x20playSound:','sin','body','now','resize','CS_LoopAttack_BL','Error\x20in\x20resizeCanvases:','isArray','Geluiden/Menu-music.mp3','1P_VS_AI_NORMAL','enemy2','src','round','boss_loop_left','Numpad4','2046832eOPTPK','new_path_left','Afbeeldingen/bullet.png','alphaChange','max','Geluiden/flying.mp3','Geluiden/Entree.mp3','floor','normal','Fullscreen\x20API\x20is\x20not\x20supported\x20by\x20this\x20browser.','Error\x20in\x20handleKeyDown:','Error\x20loading\x20critical\x20canvas\x20elements.','Geluiden/Bees-hit.mp3','Geluiden/Start.mp3','rgba(255,\x20255,\x20180,\x200.9)','toLowerCase','targetGridY','Error\x20resuming\x20sound:','alpha','Afbeeldingen/spaceship.png','Geluiden/Boss-hit2.mp3','Error\x20pausing\x20sound:'];_0x450c=function(){return _0x4dd2a2;};return _0x450c();}function createStar(){const _0x205867=_0x4e79ba;if(!starrySkyCanvas||starrySkyCanvas[_0x205867(0x222)]===0x0)return null;return{'x':Math[_0x205867(0x27f)]()*starrySkyCanvas[_0x205867(0x222)],'y':Math[_0x205867(0x27f)]()*starrySkyCanvas[_0x205867(0x202)],'radius':Math[_0x205867(0x27f)]()*(MAX_STAR_RADIUS-MIN_STAR_RADIUS)+MIN_STAR_RADIUS,'alpha':Math[_0x205867(0x27f)]()*0.8+0.2,'alphaChange':(Math[_0x205867(0x27f)]()>0.5?0x1:-0x1)*TWINKLE_SPEED*(Math[_0x205867(0x27f)]()*0.5+0.5)};}function createStars(){const _0x490a9d=_0x4e79ba;stars=[];if(starrySkyCanvas?.['width']>0x0&&starrySkyCanvas?.[_0x490a9d(0x202)]>0x0)for(let _0x42c713=0x0;_0x42c713<NUM_STARS;_0x42c713++){const _0x12a8ca=createStar();if(_0x12a8ca)stars['push'](_0x12a8ca);}}function drawStars(){const _0x430a6f=_0x4e79ba;try{if(!starryCtx||!starrySkyCanvas||starrySkyCanvas['width']===0x0||starrySkyCanvas[_0x430a6f(0x202)]===0x0)return;const _0x2a31eb=starrySkyCanvas[_0x430a6f(0x222)],_0x3b5878=starrySkyCanvas[_0x430a6f(0x202)];starryCtx[_0x430a6f(0x28e)](0x0,0x0,_0x2a31eb,_0x3b5878);const _0x34cf1b=Math[_0x430a6f(0x1df)](_0x3b5878*GRID_HORIZON_Y_FACTOR),_0x51d6bb=_0x3b5878-_0x34cf1b,_0x5b94b7=Math[_0x430a6f(0x1e6)](0x0,_0x34cf1b-_0x51d6bb*STAR_FADE_START_FACTOR_ABOVE_HORIZON),_0x4c4c31=_0x34cf1b,_0x117ff9=Math[_0x430a6f(0x1e6)](0x1,_0x4c4c31-_0x5b94b7);stars['forEach'](_0x3f69a7=>{const _0x458631=_0x430a6f,_0x575498=(_0x3f69a7[_0x458631(0x272)]-MIN_STAR_RADIUS)/(MAX_STAR_RADIUS-MIN_STAR_RADIUS),_0x448557=BASE_PARALLAX_SPEED+_0x575498*PARALLAX_SPEED_FACTOR;!isPaused&&(_0x3f69a7['y']+=_0x448557);_0x3f69a7['y']>_0x3b5878+_0x3f69a7[_0x458631(0x272)]&&(_0x3f69a7['y']=-_0x3f69a7[_0x458631(0x272)]*0x2,_0x3f69a7['x']=Math[_0x458631(0x27f)]()*_0x2a31eb);!isPaused&&(_0x3f69a7['alpha']+=_0x3f69a7[_0x458631(0x1e5)],(_0x3f69a7['alpha']<=0.1||_0x3f69a7[_0x458631(0x1f4)]>=0x1)&&(_0x3f69a7[_0x458631(0x1e5)]*=-0x1,_0x3f69a7[_0x458631(0x1f4)]=Math[_0x458631(0x1e6)](0.1,Math[_0x458631(0x216)](0x1,_0x3f69a7[_0x458631(0x1f4)]))));let _0x7c5c1b=_0x3f69a7[_0x458631(0x1f4)];_0x5b94b7>=0x0&&_0x3f69a7['y']>_0x5b94b7&&(_0x3f69a7['y']>=_0x34cf1b?_0x7c5c1b=0x0:_0x7c5c1b*=0x1-Math[_0x458631(0x216)](0x1,Math[_0x458631(0x1e6)](0x0,(_0x3f69a7['y']-_0x5b94b7)/_0x117ff9))),_0x7c5c1b=Math[_0x458631(0x1e6)](0x0,Math[_0x458631(0x216)](0x1,_0x7c5c1b)),_0x7c5c1b>0.01&&(starryCtx[_0x458631(0x25b)](),starryCtx['arc'](Math[_0x458631(0x1df)](_0x3f69a7['x']),Math[_0x458631(0x1df)](_0x3f69a7['y']),_0x3f69a7[_0x458631(0x272)],0x0,Math['PI']*0x2),starryCtx[_0x458631(0x1c2)]=_0x458631(0x1c3)+_0x7c5c1b['toFixed'](0x3)+')',starryCtx[_0x458631(0x1d1)]());});}catch(_0x2d75bc){console[_0x430a6f(0x25f)](_0x430a6f(0x1f8),_0x2d75bc);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;}}function drawRetroGrid(){const _0x275116=_0x4e79ba;try{if(!retroGridCtx||!retroGridCanvas||retroGridCanvas[_0x275116(0x222)]===0x0||retroGridCanvas['height']===0x0)return;!isPaused&&(gridOffsetY-=GRID_SPEED);const _0x2edc67=retroGridCanvas[_0x275116(0x222)],_0x107972=retroGridCanvas[_0x275116(0x202)];retroGridCtx[_0x275116(0x28e)](0x0,0x0,_0x2edc67,_0x107972);const _0x3eccf6=Math[_0x275116(0x1df)](_0x107972*GRID_HORIZON_Y_FACTOR),_0x13633c=_0x2edc67/0x2,_0x587cba=_0x107972-_0x3eccf6;retroGridCtx[_0x275116(0x1fc)]=GRID_LINE_WIDTH;const _0x2b0478=_0x2edc67*GRID_HORIZONTAL_LINE_WIDTH_FACTOR,_0xf6d02b=_0x13633c-_0x2b0478/0x2,_0x46de13=_0x13633c+_0x2b0478/0x2,_0x315722=_0x3eccf6+_0x587cba*0.1,_0x438c63=_0x107972,_0x2e0551=Math[_0x275116(0x1e6)](0x1,_0x438c63-_0x315722);retroGridCtx[_0x275116(0x231)]=GRID_LINE_COLOR_FIXED,retroGridCtx[_0x275116(0x25b)](),retroGridCtx[_0x275116(0x259)](_0xf6d02b,_0x3eccf6),retroGridCtx[_0x275116(0x26e)](_0x46de13,_0x3eccf6),retroGridCtx['stroke']();let _0x50f44e=gridOffsetY%GRID_BASE_SPACING;_0x50f44e>0x0&&(_0x50f44e-=GRID_BASE_SPACING);let _0xa91988=_0x3eccf6-_0x50f44e;if(_0xa91988<=_0x3eccf6)_0xa91988+=GRID_BASE_SPACING;while(_0xa91988<_0x107972+GRID_BASE_SPACING){let _0x2d48a5=Math[_0x275116(0x1e6)](0x0,Math[_0x275116(0x216)](0x1,(_0xa91988-_0x3eccf6)/_0x587cba));if(_0xa91988>_0x3eccf6&&_0xa91988<=_0x107972+GRID_LINE_WIDTH*0x2){let _0x54bb23;if(_0xa91988<=_0x315722)_0x54bb23=GRID_MIN_ALPHA;else{if(_0xa91988>=_0x438c63)_0x54bb23=GRID_BASE_ALPHA;else{const _0x5d1263=(_0xa91988-_0x315722)/_0x2e0551;_0x54bb23=GRID_MIN_ALPHA+(GRID_BASE_ALPHA-GRID_MIN_ALPHA)*_0x5d1263;}}_0x54bb23=Math[_0x275116(0x1e6)](0x0,Math[_0x275116(0x216)](GRID_BASE_ALPHA,_0x54bb23)),_0x54bb23>0.01&&(retroGridCtx[_0x275116(0x231)]=_0x275116(0x20a)+GRID_RGB_PART+',\x20'+_0x54bb23[_0x275116(0x215)](0x3)+')',retroGridCtx[_0x275116(0x25b)](),retroGridCtx['moveTo'](_0xf6d02b,Math['round'](_0xa91988)),retroGridCtx['lineTo'](_0x46de13,Math[_0x275116(0x1df)](_0xa91988)),retroGridCtx[_0x275116(0x204)]());}let _0x34b70e=GRID_BASE_SPACING*Math[_0x275116(0x27c)](0x1+_0x2d48a5*1.5,GRID_SPACING_POWER);_0xa91988+=Math[_0x275116(0x1e6)](0x1,_0x34b70e);}retroGridCtx[_0x275116(0x231)]=GRID_LINE_COLOR_FIXED,retroGridCtx['beginPath']();const _0x1d3fc4=Math[_0x275116(0x1e9)](GRID_NUM_PERSPECTIVE_LINES/0x2),_0x41458f=_0x2edc67*GRID_HORIZON_SPREAD_FACTOR,_0x37c725=_0x2edc67*GRID_BOTTOM_SPREAD_FACTOR;for(let _0x3ace16=0x0;_0x3ace16<=_0x1d3fc4;_0x3ace16++){let _0x47916b=Math[_0x275116(0x27c)](_0x3ace16/_0x1d3fc4,GRID_PERSPECTIVE_POWER),_0x920e8=_0x13633c+_0x47916b*(_0x41458f/0x2),_0x38e7d3=_0x13633c-_0x47916b*(_0x41458f/0x2),_0x297f41=_0x13633c+_0x47916b*(_0x37c725/0x2),_0x3101e7=_0x13633c-_0x47916b*(_0x37c725/0x2);retroGridCtx[_0x275116(0x259)](_0x920e8,_0x3eccf6),retroGridCtx[_0x275116(0x26e)](_0x297f41,_0x107972),_0x3ace16>0x0&&(retroGridCtx[_0x275116(0x259)](_0x38e7d3,_0x3eccf6),retroGridCtx[_0x275116(0x26e)](_0x3101e7,_0x107972));}retroGridCtx['stroke']();}catch(_0x59a2bf){console[_0x275116(0x25f)](_0x275116(0x1c4),_0x59a2bf);}}function calculateBezierPoint(_0x148215,_0x54c3a0,_0x53eac7,_0x4393a2,_0x62e007){const _0x36ec03=0x1-_0x148215,_0x1b1777=_0x148215*_0x148215,_0x23e140=_0x36ec03*_0x36ec03,_0x55712d=_0x23e140*_0x36ec03,_0x5a0a91=_0x1b1777*_0x148215;let _0x4e3509=_0x55712d*_0x54c3a0;return _0x4e3509+=0x3*_0x23e140*_0x148215*_0x53eac7,_0x4e3509+=0x3*_0x36ec03*_0x1b1777*_0x4393a2,_0x4e3509+=_0x5a0a91*_0x62e007,_0x4e3509;}function defineNormalWaveEntrancePaths(){const _0x1decc2=_0x4e79ba;normalWaveEntrancePaths={};const _0x5cc1ca=gameCanvas?.['width'],_0x36e13b=gameCanvas?.[_0x1decc2(0x202)];if(!_0x5cc1ca||!_0x36e13b||_0x5cc1ca===0x0){console[_0x1decc2(0x25f)](_0x1decc2(0x23b));return;}const _0x7d4a76=_0x5cc1ca/0x320,_0x1bb436=_0x36e13b/0x258,_0x27c09a=-Math[_0x1decc2(0x1e6)](ENEMY1_HEIGHT,ENEMY_HEIGHT)*1.5,_0x432307=_0x5cc1ca/0x2,_0xa83a1a=-0x19,_0x351965=ENEMY_WIDTH,_0xe8cd25=ENEMY_H_SPACING_FIXED,_0x1a1412=GRID_COLS*_0x351965+(GRID_COLS-0x1)*_0xe8cd25,_0x15a150=Math[_0x1decc2(0x1df)]((_0x5cc1ca-_0x1a1412)/0x2),_0x1cf5b7=_0x15a150+0x4*(_0x351965+_0xe8cd25)+_0x351965/0x2,_0x45a350=_0x15a150+0x5*(_0x351965+_0xe8cd25)+_0x351965/0x2,_0x1c7edb=(_0x1cf5b7+_0x45a350)/0x2+_0xa83a1a,_0x5cb0a8=Math[_0x1decc2(0x1df)](ENEMY_TOP_MARGIN+0x1*(ENEMY_HEIGHT+ENEMY_V_SPACING)),_0x181cd4=_0x5cb0a8+0x3c*_0x1bb436,_0x9d240b=[{'p0':{'x':0x50/0x190*0x320*_0x7d4a76+_0xa83a1a,'y':_0x27c09a},'p1':{'x':0x1b8/0x190*0x320*_0x7d4a76+_0xa83a1a,'y':0x8c/0x12c*0x258*_0x1bb436},'p2':{'x':0x104/0x190*0x320*_0x7d4a76+_0xa83a1a,'y':0x154/0x12c*0x258*_0x1bb436},'p3':{'x':_0x1c7edb,'y':_0x181cd4}}];normalWaveEntrancePaths[_0x1decc2(0x1e3)]=_0x9d240b;const _0x565053=_0x9d240b['map'](_0x19248c=>({'p0':{'x':_0x5cc1ca-(_0x19248c['p0']['x']-_0xa83a1a)+_0xa83a1a,'y':_0x19248c['p0']['y']},'p1':{'x':_0x5cc1ca-(_0x19248c['p1']['x']-_0xa83a1a)+_0xa83a1a,'y':_0x19248c['p1']['y']},'p2':{'x':_0x5cc1ca-(_0x19248c['p2']['x']-_0xa83a1a)+_0xa83a1a,'y':_0x19248c['p2']['y']},'p3':{'x':_0x1c7edb,'y':_0x19248c['p3']['y']}}));normalWaveEntrancePaths[_0x1decc2(0x270)]=_0x565053;const _0x53d7b9=_0x4ddc32=>{const _0x5b8928=_0x1decc2,_0x513487=_0x4ddc32?_0x5b8928(0x258):_0x5b8928(0x1e0),_0x5ad588=_0x4c22db=>_0x4ddc32?_0x5cc1ca-_0x4c22db:_0x4c22db,_0xf67a51=0x82*_0x1bb436,_0x535f79=0x50*_0x7d4a76,_0x136698=0x12c*_0x7d4a76,_0x4be43a=0x12c*_0x1bb436,_0x3dd645=_0x136698+_0x535f79,_0xbd73c2=_0x4be43a,_0xcd9862=_0x5ad588(-0x64*_0x7d4a76),_0x20d71d=(0x15e+_0xf67a51)*_0x1bb436,_0x88e2b9=ENEMY_TOP_MARGIN-0x14,_0x58390d={'x':_0xcd9862,'y':_0x20d71d},_0x2e62fc={'x':_0x5ad588(_0x3dd645),'y':_0x4be43a},_0x279da9={'x':_0x5ad588(_0x136698),'y':_0x4be43a-_0x535f79},_0x102985={'x':_0x5ad588(_0x136698-_0x535f79),'y':_0x4be43a},_0x2d37ab={'x':_0x5ad588(_0x136698),'y':_0x4be43a+_0x535f79},_0x3278ca={'x':_0x2e62fc['x'],'y':_0x88e2b9},_0x4af58a=0.25,_0x2fb851=Math[_0x5b8928(0x1c0)](_0x2e62fc['y']-_0x20d71d,_0x2e62fc['x']-_0xcd9862),_0x159434={'x':_0x2e62fc['x']-Math[_0x5b8928(0x283)](_0x2fb851)*_0x535f79*_0x4af58a,'y':_0x2e62fc['y']-Math[_0x5b8928(0x1d4)](_0x2fb851)*_0x535f79*_0x4af58a},_0x1e1a4f={'x':(_0x58390d['x']+_0x159434['x'])/0x2,'y':(_0x58390d['y']+_0x159434['y'])/0x2},_0x188547={'x':_0x2e62fc['x'],'y':(_0x2e62fc['y']+_0x3278ca['y'])/0x2},_0x503067=0.552284749831,_0x5825e5=_0x535f79*_0x503067,_0x4e1b46=_0x535f79*_0x503067;let _0x329e9d=[];_0x329e9d[_0x5b8928(0x237)]({'p0':_0x58390d,'p1':{'x':_0x58390d['x']+(_0x1e1a4f['x']-_0x58390d['x'])*0.33,'y':_0x58390d['y']+(_0x1e1a4f['y']-_0x58390d['y'])*0.33},'p2':{'x':_0x58390d['x']+(_0x1e1a4f['x']-_0x58390d['x'])*0.66,'y':_0x58390d['y']+(_0x1e1a4f['y']-_0x58390d['y'])*0.66},'p3':_0x1e1a4f}),_0x329e9d[_0x5b8928(0x237)]({'p0':_0x1e1a4f,'p1':{'x':_0x1e1a4f['x']+(_0x159434['x']-_0x1e1a4f['x'])*0.33,'y':_0x1e1a4f['y']+(_0x159434['y']-_0x1e1a4f['y'])*0.33},'p2':{'x':_0x1e1a4f['x']+(_0x159434['x']-_0x1e1a4f['x'])*0.66,'y':_0x1e1a4f['y']+(_0x159434['y']-_0x1e1a4f['y'])*0.66},'p3':_0x159434});const _0x1aa4fc={'x':_0x159434['x']+(_0x159434['x']-_0x1e1a4f['x'])*0.3,'y':_0x159434['y']+(_0x159434['y']-_0x1e1a4f['y'])*0.3},_0x1e4913={'x':_0x5ad588(_0x136698+_0x5825e5),'y':_0x279da9['y']};return _0x329e9d[_0x5b8928(0x237)]({'p0':_0x159434,'p1':_0x1aa4fc,'p2':_0x1e4913,'p3':_0x279da9}),_0x329e9d['push']({'p0':_0x279da9,'p1':{'x':_0x5ad588(_0x136698-_0x5825e5),'y':_0x279da9['y']},'p2':{'x':_0x102985['x'],'y':_0x102985['y']-_0x4e1b46},'p3':_0x102985}),_0x329e9d[_0x5b8928(0x237)]({'p0':_0x102985,'p1':{'x':_0x102985['x'],'y':_0x102985['y']+_0x4e1b46},'p2':{'x':_0x5ad588(_0x136698-_0x5825e5),'y':_0x2d37ab['y']},'p3':_0x2d37ab}),_0x329e9d['push']({'p0':_0x2d37ab,'p1':{'x':_0x5ad588(_0x136698+_0x5825e5),'y':_0x2d37ab['y']},'p2':{'x':_0x2e62fc['x'],'y':_0x2e62fc['y']+_0x4e1b46},'p3':_0x2e62fc}),_0x329e9d[_0x5b8928(0x237)]({'p0':_0x2e62fc,'p1':{'x':_0x2e62fc['x']+(_0x188547['x']-_0x2e62fc['x'])*0.33,'y':_0x2e62fc['y']+(_0x188547['y']-_0x2e62fc['y'])*0.33},'p2':{'x':_0x2e62fc['x']+(_0x188547['x']-_0x2e62fc['x'])*0.66,'y':_0x2e62fc['y']+(_0x188547['y']-_0x2e62fc['y'])*0.66},'p3':_0x188547}),_0x329e9d[_0x5b8928(0x237)]({'p0':_0x188547,'p1':{'x':_0x188547['x']+(_0x3278ca['x']-_0x188547['x'])*0.33,'y':_0x188547['y']+(_0x3278ca['y']-_0x188547['y'])*0.33},'p2':{'x':_0x188547['x']+(_0x3278ca['x']-_0x188547['x'])*0.66,'y':_0x188547['y']+(_0x3278ca['y']-_0x188547['y'])*0.66},'p3':_0x3278ca}),_0x329e9d;};normalWaveEntrancePaths[_0x1decc2(0x1e0)]=_0x53d7b9(![]),normalWaveEntrancePaths['boss_loop_right']=_0x53d7b9(!![]);const _0x55f389=0x2ee,_0x1b48af=0x15e*_0x1bb436,_0x4abe3a={'x':_0x432307,'y':_0x27c09a},_0x510413={'x':(_0x432307+(0x2ee-0x190)*(0x2/0x3))*_0x7d4a76,'y':(-0x32+(_0x55f389- -0x32)*(0x2/0x3))*_0x1bb436},_0x308bd9={'x':(0x190+(0x2ee-0x190)*(0x1/0x3))*_0x7d4a76,'y':(_0x1b48af+(_0x55f389-_0x1b48af)*(0x1/0x3))*_0x1bb436},_0x37dbc1={'x':_0x432307,'y':_0x1b48af};normalWaveEntrancePaths[_0x1decc2(0x247)]=[{'p0':_0x4abe3a,'p1':_0x510413,'p2':_0x308bd9,'p3':_0x37dbc1}];const _0x34cdcd={'x':_0x432307,'y':_0x27c09a},_0x2fbf5a={'x':_0x5cc1ca-_0x510413['x'],'y':_0x510413['y']},_0x2728b8={'x':_0x5cc1ca-_0x308bd9['x'],'y':_0x308bd9['y']},_0x38ef0b={'x':_0x432307,'y':_0x1b48af};normalWaveEntrancePaths[_0x1decc2(0x218)]=[{'p0':_0x34cdcd,'p1':_0x2fbf5a,'p2':_0x2728b8,'p3':_0x38ef0b}];for(const _0x2b982d in normalWaveEntrancePaths){if(!Array[_0x1decc2(0x1da)](normalWaveEntrancePaths[_0x2b982d])){console[_0x1decc2(0x25f)](_0x1decc2(0x257)+_0x2b982d+_0x1decc2(0x1fb)),normalWaveEntrancePaths[_0x2b982d]=[{'p0':{'x':_0x5cc1ca/0x2,'y':_0x27c09a},'p1':{'x':_0x5cc1ca/0x2,'y':_0x36e13b/0x3},'p2':{'x':_0x5cc1ca/0x2,'y':_0x36e13b*0x2/0x3},'p3':{'x':_0x5cc1ca/0x2,'y':ENEMY_TOP_MARGIN}}];continue;}normalWaveEntrancePaths[_0x2b982d]=normalWaveEntrancePaths[_0x2b982d][_0x1decc2(0x287)](_0x46ee6b=>_0x46ee6b?.['p0']&&_0x46ee6b?.['p1']&&_0x46ee6b?.['p2']&&_0x46ee6b?.['p3']&&typeof _0x46ee6b['p0']['x']==='number'&&typeof _0x46ee6b['p0']['y']===_0x1decc2(0x1c7)&&typeof _0x46ee6b['p1']['x']===_0x1decc2(0x1c7)&&typeof _0x46ee6b['p1']['y']===_0x1decc2(0x1c7)&&typeof _0x46ee6b['p2']['x']===_0x1decc2(0x1c7)&&typeof _0x46ee6b['p2']['y']===_0x1decc2(0x1c7)&&typeof _0x46ee6b['p3']['x']===_0x1decc2(0x1c7)&&typeof _0x46ee6b['p3']['y']==='number'&&!isNaN(_0x46ee6b['p0']['x']+_0x46ee6b['p0']['y']+_0x46ee6b['p1']['x']+_0x46ee6b['p1']['y']+_0x46ee6b['p2']['x']+_0x46ee6b['p2']['y']+_0x46ee6b['p3']['x']+_0x46ee6b['p3']['y'])),normalWaveEntrancePaths[_0x2b982d][_0x1decc2(0x214)]===0x0&&(console[_0x1decc2(0x25f)](_0x1decc2(0x257)+_0x2b982d+_0x1decc2(0x251)),normalWaveEntrancePaths[_0x2b982d]=[{'p0':{'x':_0x5cc1ca/0x2,'y':_0x27c09a},'p1':{'x':_0x5cc1ca/0x2,'y':_0x36e13b/0x3},'p2':{'x':_0x5cc1ca/0x2,'y':_0x36e13b*0x2/0x3},'p3':{'x':_0x5cc1ca/0x2,'y':ENEMY_TOP_MARGIN}}]);}}function defineChallengingStagePaths(){const _0x3e8aed=_0x4e79ba;challengingStagePaths={};const _0x454ce6=gameCanvas?.[_0x3e8aed(0x222)],_0x33bace=gameCanvas?.['height'];if(!_0x454ce6||!_0x33bace||_0x454ce6===0x0){console['error'](_0x3e8aed(0x289));return;}const _0x269197=ENEMY_WIDTH,_0xf4b2a2=ENEMY_HEIGHT,_0x3953bb=-_0xf4b2a2*1.5,_0x3af73b=_0x33bace+_0xf4b2a2*0x2,_0x531fd3=-_0x269197*1.5,_0x53ad9a=_0x454ce6+_0x269197*1.5,_0xb31425=_0x454ce6/0x2,_0x5e895e=_0x33bace/0x2,_0x238244=-0x1c,_0x1eca76=(_0x16a7fa,_0x42b7bb)=>{const _0x1f6368=_0x3e8aed;return _0x16a7fa[_0x1f6368(0x235)](_0x4e4b47=>{const _0x11ab5c=_0x1f6368,_0x1f8409=JSON[_0x11ab5c(0x269)](JSON[_0x11ab5c(0x201)](_0x4e4b47));if(_0x1f8409['p0']&&typeof _0x1f8409['p0']['x']===_0x11ab5c(0x1c7))_0x1f8409['p0']['x']+=_0x42b7bb;if(_0x1f8409['p1']&&typeof _0x1f8409['p1']['x']==='number')_0x1f8409['p1']['x']+=_0x42b7bb;if(_0x1f8409['p2']&&typeof _0x1f8409['p2']['x']===_0x11ab5c(0x1c7))_0x1f8409['p2']['x']+=_0x42b7bb;return _0x1f8409['p3']&&typeof _0x1f8409['p3']['x']===_0x11ab5c(0x1c7)&&_0x1f8409['p3']['x']!==_0x531fd3&&_0x1f8409['p3']['x']!==_0x53ad9a&&(_0x1f8409['p3']['x']+=_0x42b7bb),_0x1f8409;});},_0x44b2cb=37.8/0x320*0.3,_0x3749b1=0.5-_0x44b2cb,_0x4c3c88=0x1c2/0x258,_0x3a617c=0.49,_0x45fb90=0x258/0x258,_0x403b5c=0.48,_0x215f3f=0x12c/0x258,_0x14c794=_0x454ce6*_0x3749b1,_0x38acf8=_0x33bace*_0x4c3c88,_0xd019d9=_0x454ce6*_0x3a617c,_0x47c7e1=_0x33bace*Math[_0x3e8aed(0x216)](0x1,_0x45fb90),_0x299f1f=_0x454ce6*_0x403b5c,_0x2e6d09=_0x33bace*_0x215f3f,_0x1d62cc=_0x531fd3,_0x48e647=_0x3953bb,_0x1adcd7={'x':_0x14c794,'y':_0x3953bb},_0x51c24d={'x':_0x14c794,'y':_0x38acf8},_0x2fd24c={'x':_0x14c794,'y':_0x3953bb+(_0x38acf8-_0x3953bb)*0.33},_0x9962d3={'x':_0x14c794,'y':_0x3953bb+(_0x38acf8-_0x3953bb)*0.66},_0x3950ec=_0x51c24d,_0x1aefd0={'x':_0xd019d9,'y':_0x47c7e1},_0x44f252={'x':_0x299f1f,'y':_0x2e6d09},_0x28a615={'x':_0x1d62cc,'y':_0x48e647},_0xcc346f=[{'p0':_0x1adcd7,'p1':_0x2fd24c,'p2':_0x9962d3,'p3':_0x51c24d},{'p0':_0x3950ec,'p1':_0x1aefd0,'p2':_0x44f252,'p3':_0x28a615}],_0x27eb7c=_0xcc346f[_0x3e8aed(0x235)](_0x498916=>({'p0':{'x':_0x454ce6-_0x498916['p0']['x'],'y':_0x498916['p0']['y']},'p1':{'x':_0x454ce6-_0x498916['p1']['x'],'y':_0x498916['p1']['y']},'p2':{'x':_0x454ce6-_0x498916['p2']['x'],'y':_0x498916['p2']['y']},'p3':{'x':_0x498916['p3']['x']===_0x531fd3?_0x53ad9a:_0x454ce6-_0x498916['p3']['x'],'y':_0x498916['p3']['y']}}));challengingStagePaths[_0x3e8aed(0x268)]=_0x1eca76(_0xcc346f,_0x238244),challengingStagePaths['CS3_DiveLoopR_Sharp']=_0x1eca76(_0x27eb7c,_0x238244);const _0x4ad848=_0x33bace*0.7,_0x4983f8=_0x33bace*0.03,_0x12ea46=_0x454ce6*0.15;challengingStagePaths[_0x3e8aed(0x264)]=[{'p0':{'x':_0x531fd3,'y':_0x4ad848},'p1':{'x':_0x531fd3+_0x12ea46,'y':_0x4ad848-_0x4983f8},'p2':{'x':_0x53ad9a-_0x12ea46,'y':_0x4ad848+_0x4983f8},'p3':{'x':_0x53ad9a,'y':_0x4ad848}}],challengingStagePaths[_0x3e8aed(0x25d)]=[{'p0':{'x':_0x53ad9a,'y':_0x4ad848},'p1':{'x':_0x53ad9a-_0x12ea46,'y':_0x4ad848-_0x4983f8},'p2':{'x':_0x531fd3+_0x12ea46,'y':_0x4ad848+_0x4983f8},'p3':{'x':_0x531fd3,'y':_0x4ad848}}];const _0x51d3b0=_0x33bace*0.8,_0xd7fff8=_0x33bace*0.55,_0x5ce83e=_0x33bace*0.15;challengingStagePaths[_0x3e8aed(0x241)]=[{'p0':{'x':_0x454ce6*0.1,'y':_0x3953bb},'p1':{'x':_0x454ce6*0.2,'y':_0x33bace*0.2},'p2':{'x':_0x454ce6*0.6,'y':_0x51d3b0},'p3':{'x':_0x454ce6*0.7,'y':_0x51d3b0}},{'p0':{'x':_0x454ce6*0.7,'y':_0x51d3b0},'p1':{'x':_0x454ce6*0.8,'y':_0x51d3b0},'p2':{'x':_0x454ce6*0.8,'y':_0xd7fff8},'p3':{'x':_0x454ce6*0.7,'y':_0xd7fff8}},{'p0':{'x':_0x454ce6*0.7,'y':_0xd7fff8},'p1':{'x':_0x454ce6*0.6,'y':_0xd7fff8},'p2':{'x':_0x53ad9a,'y':_0x5ce83e},'p3':{'x':_0x53ad9a,'y':_0x5ce83e+_0x33bace*0.1}}],challengingStagePaths[_0x3e8aed(0x22d)]=[{'p0':{'x':_0x454ce6*0.9,'y':_0x3953bb},'p1':{'x':_0x454ce6*0.8,'y':_0x33bace*0.2},'p2':{'x':_0x454ce6*0.4,'y':_0x51d3b0},'p3':{'x':_0x454ce6*0.3,'y':_0x51d3b0}},{'p0':{'x':_0x454ce6*0.3,'y':_0x51d3b0},'p1':{'x':_0x454ce6*0.2,'y':_0x51d3b0},'p2':{'x':_0x454ce6*0.2,'y':_0xd7fff8},'p3':{'x':_0x454ce6*0.3,'y':_0xd7fff8}},{'p0':{'x':_0x454ce6*0.3,'y':_0xd7fff8},'p1':{'x':_0x454ce6*0.4,'y':_0xd7fff8},'p2':{'x':_0x531fd3,'y':_0x5ce83e},'p3':{'x':_0x531fd3,'y':_0x5ce83e+_0x33bace*0.1}}],challengingStagePaths[_0x3e8aed(0x1d8)]=[{'p0':{'x':_0x531fd3,'y':_0x33bace*0.6},'p1':{'x':_0x454ce6*0.1,'y':_0x33bace*0.4},'p2':{'x':_0x454ce6*0.6,'y':_0x33bace*0.2},'p3':{'x':_0xb31425,'y':_0x33bace*0.3}},{'p0':{'x':_0xb31425,'y':_0x33bace*0.3},'p1':{'x':_0x454ce6*0.4,'y':_0x33bace*0.4},'p2':{'x':_0x454ce6*0.3,'y':_0x51d3b0*0.9},'p3':{'x':_0x454ce6*0.4,'y':_0x51d3b0}},{'p0':{'x':_0x454ce6*0.4,'y':_0x51d3b0},'p1':{'x':_0x454ce6*0.5,'y':_0x51d3b0*1.05},'p2':{'x':_0xb31425,'y':_0x3953bb},'p3':{'x':_0xb31425+_0x454ce6*0.1,'y':_0x3953bb}}],challengingStagePaths['CS_LoopAttack_BR']=[{'p0':{'x':_0x53ad9a,'y':_0x33bace*0.6},'p1':{'x':_0x454ce6*0.9,'y':_0x33bace*0.4},'p2':{'x':_0x454ce6*0.4,'y':_0x33bace*0.2},'p3':{'x':_0xb31425,'y':_0x33bace*0.3}},{'p0':{'x':_0xb31425,'y':_0x33bace*0.3},'p1':{'x':_0x454ce6*0.6,'y':_0x33bace*0.4},'p2':{'x':_0x454ce6*0.7,'y':_0x51d3b0*0.9},'p3':{'x':_0x454ce6*0.6,'y':_0x51d3b0}},{'p0':{'x':_0x454ce6*0.6,'y':_0x51d3b0},'p1':{'x':_0x454ce6*0.5,'y':_0x51d3b0*1.05},'p2':{'x':_0xb31425,'y':_0x3953bb},'p3':{'x':_0xb31425-_0x454ce6*0.1,'y':_0x3953bb}}];for(const _0x438640 in challengingStagePaths){challengingStagePaths[_0x438640]=challengingStagePaths[_0x438640][_0x3e8aed(0x287)](_0x432d8c=>_0x432d8c?.['p0']&&_0x432d8c?.['p1']&&_0x432d8c?.['p2']&&_0x432d8c?.['p3']&&!isNaN(_0x432d8c['p0']['x']+_0x432d8c['p0']['y']+_0x432d8c['p1']['x']+_0x432d8c['p1']['y']+_0x432d8c['p2']['x']+_0x432d8c['p2']['y']+_0x432d8c['p3']['x']+_0x432d8c['p3']['y'])),challengingStagePaths[_0x438640][_0x3e8aed(0x214)]===0x0&&(console['error']('CS\x20Path\x20'+_0x438640+_0x3e8aed(0x22f)),challengingStagePaths[_0x438640]=[{'p0':{'x':_0x454ce6/0x2,'y':_0x3953bb},'p1':{'x':_0x454ce6/0x2,'y':_0x33bace/0x3},'p2':{'x':_0x454ce6/0x2,'y':_0x33bace*0x2/0x3},'p3':{'x':_0x454ce6/0x2,'y':_0x3af73b}}]);}}function resizeCanvases(){const _0x54e80b=_0x4e79ba;try{const _0x17eef3=window[_0x54e80b(0x1cb)],_0x11bf53=window['innerHeight'];if(_0x17eef3<=0x0||_0x11bf53<=0x0)return;starrySkyCanvas&&(starrySkyCanvas['width']!==_0x17eef3||starrySkyCanvas['height']!==_0x11bf53)&&(starrySkyCanvas[_0x54e80b(0x222)]=_0x17eef3,starrySkyCanvas[_0x54e80b(0x202)]=_0x11bf53,createStars());retroGridCanvas&&(retroGridCanvas['width']!==_0x17eef3||retroGridCanvas[_0x54e80b(0x202)]!==_0x11bf53)&&(retroGridCanvas[_0x54e80b(0x222)]=_0x17eef3,retroGridCanvas[_0x54e80b(0x202)]=_0x11bf53);if(gameCanvas&&(gameCanvas[_0x54e80b(0x222)]!==_0x17eef3||gameCanvas[_0x54e80b(0x202)]!==_0x11bf53)){const _0x17223f=gameCanvas[_0x54e80b(0x222)];gameCanvas[_0x54e80b(0x222)]=_0x17eef3,gameCanvas[_0x54e80b(0x202)]=_0x11bf53,defineNormalWaveEntrancePaths(),defineChallengingStagePaths(),isInGameState&&handleResizeGameElements(_0x17223f,_0x17eef3,_0x11bf53);}else(!gameCanvas?.[_0x54e80b(0x222)]||!gameCanvas?.['height'])&&(defineNormalWaveEntrancePaths(),defineChallengingStagePaths());}catch(_0x18298c){console[_0x54e80b(0x25f)](_0x54e80b(0x1d9),_0x18298c);}}function handleResizeGameElements(_0x150bba,_0x4daede,_0x347f3c){const _0x19db31=_0x4e79ba;try{currentGridOffsetX=0x0,ship&&(_0x150bba>0x0&&_0x4daede>0x0&&typeof ship['x']!=='undefined'?ship['x']=ship['x']/_0x150bba*_0x4daede:ship['x']=_0x4daede/0x2-ship[_0x19db31(0x222)]/0x2,ship['x']=Math[_0x19db31(0x1e6)](0x0,Math['min'](_0x4daede-ship['width'],ship['x'])),ship['y']=_0x347f3c-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN,ship[_0x19db31(0x26a)]=ship['x']),enemies['forEach'](_0xd5679c=>{const _0x3da692=_0x19db31;if(_0xd5679c&&(_0xd5679c[_0x3da692(0x24f)]===_0x3da692(0x238)||_0xd5679c[_0x3da692(0x24f)]===_0x3da692(0x200)||_0xd5679c[_0x3da692(0x24f)]===_0x3da692(0x1c1)))try{const _0x3f5bcc=_0xd5679c['type']===ENEMY3_TYPE?BOSS_WIDTH:_0xd5679c[_0x3da692(0x219)]===ENEMY1_TYPE?ENEMY1_WIDTH:ENEMY_WIDTH,{x:_0x5bd0f8,y:_0x33b418}=getCurrentGridSlotPosition(_0xd5679c[_0x3da692(0x24c)],_0xd5679c[_0x3da692(0x236)],_0x3f5bcc);_0xd5679c[_0x3da692(0x261)]=_0x5bd0f8,_0xd5679c[_0x3da692(0x1f2)]=_0x33b418,_0xd5679c[_0x3da692(0x24f)]==='in_grid'&&(_0xd5679c['x']=_0x5bd0f8,_0xd5679c['y']=_0x33b418);}catch(_0x111e38){console['error'](_0x3da692(0x211)+_0xd5679c['id']+'\x20on\x20resize:',_0x111e38),(_0xd5679c['state']===_0x3da692(0x238)||_0xd5679c[_0x3da692(0x24f)]===_0x3da692(0x1c1)||_0xd5679c[_0x3da692(0x24f)]==='returning')&&(_0xd5679c['x']=_0x4daede/0x2,_0xd5679c['y']=ENEMY_TOP_MARGIN+_0xd5679c[_0x3da692(0x24c)]*(ENEMY_HEIGHT+ENEMY_V_SPACING),_0xd5679c[_0x3da692(0x261)]=_0xd5679c['x'],_0xd5679c[_0x3da692(0x1f2)]=_0xd5679c['y']);}});}catch(_0x263ef9){console[_0x19db31(0x25f)](_0x19db31(0x223),_0x263ef9);}}const relevantKeys=['\x20',_0x4e79ba(0x229),_0x4e79ba(0x212),_0x4e79ba(0x245),'ArrowRight',_0x4e79ba(0x274),_0x4e79ba(0x20c),'w','a','s','d','p','P','j','J','l','L','i','I',_0x4e79ba(0x1e1),'Numpad6',_0x4e79ba(0x24b),_0x4e79ba(0x276)];function handleKeyDown(_0x438bb1){const _0x50b2eb=_0x4e79ba;try{(relevantKeys[_0x50b2eb(0x256)](_0x438bb1['key'])||relevantKeys['includes'](_0x438bb1['code']))&&_0x438bb1[_0x50b2eb(0x21c)]();let _0x5abcef=![];const _0x21163c=isTwoPlayerMode&&selectedGameMode===_0x50b2eb(0x243)&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage);(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0||_0x21163c)&&(_0x5abcef=!![]);if(_0x5abcef)return;if(isInGameState){if((_0x438bb1['key']==='p'||_0x438bb1[_0x50b2eb(0x265)]==='P')&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage&&!_0x21163c){if(typeof togglePause==='function')togglePause();return;}if(!isPaused){if(!isManualControl){if(_0x438bb1['key']===_0x50b2eb(0x20c)||_0x438bb1[_0x50b2eb(0x265)]===_0x50b2eb(0x276)){if(typeof stopGameAndShowMenu==='function')stopGameAndShowMenu();}else{if(!_0x438bb1[_0x50b2eb(0x254)]&&!_0x438bb1[_0x50b2eb(0x234)]&&!_0x438bb1[_0x50b2eb(0x20e)]&&!_0x438bb1[_0x50b2eb(0x275)]&&_0x438bb1[_0x50b2eb(0x265)]!=='p'&&_0x438bb1[_0x50b2eb(0x265)]!=='P'&&_0x438bb1[_0x50b2eb(0x265)]!=='Enter'){if(typeof showMenuState===_0x50b2eb(0x224))showMenuState();}}}else{switch(_0x438bb1[_0x50b2eb(0x209)]){case _0x50b2eb(0x245):case _0x50b2eb(0x208):keyboardP1LeftDown=!![];break;case'ArrowRight':case _0x50b2eb(0x207):keyboardP1RightDown=!![];break;case _0x50b2eb(0x1cd):case'ArrowUp':case _0x50b2eb(0x24e):keyboardP1ShootDown=!![];break;case'Enter':keyboardP1ShootDown=!![];break;case _0x50b2eb(0x250):case _0x50b2eb(0x1e1):if(isTwoPlayerMode&&!isPlayerTwoAI)keyboardP2LeftDown=!![];break;case _0x50b2eb(0x22a):case _0x50b2eb(0x1c8):if(isTwoPlayerMode&&!isPlayerTwoAI)keyboardP2RightDown=!![];break;case _0x50b2eb(0x1c5):case'Numpad0':if(isTwoPlayerMode&&!isPlayerTwoAI)keyboardP2ShootDown=!![];break;case'Escape':case _0x50b2eb(0x276):if(typeof stopGameAndShowMenu===_0x50b2eb(0x224))stopGameAndShowMenu();break;}if(!keyboardP2LeftDown&&isTwoPlayerMode&&!isPlayerTwoAI&&_0x438bb1[_0x50b2eb(0x265)][_0x50b2eb(0x1f1)]()==='j')keyboardP2LeftDown=!![];if(!keyboardP2RightDown&&isTwoPlayerMode&&!isPlayerTwoAI&&_0x438bb1[_0x50b2eb(0x265)][_0x50b2eb(0x1f1)]()==='l')keyboardP2RightDown=!![];if(!keyboardP2ShootDown&&isTwoPlayerMode&&!isPlayerTwoAI&&_0x438bb1[_0x50b2eb(0x265)]['toLowerCase']()==='i')keyboardP2ShootDown=!![];}}}else{if(isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen){if(!_0x438bb1['altKey']&&!_0x438bb1['ctrlKey']&&!_0x438bb1[_0x50b2eb(0x20e)]&&!_0x438bb1[_0x50b2eb(0x275)]&&_0x438bb1[_0x50b2eb(0x265)]!=='p'&&_0x438bb1['key']!=='P'){if(typeof showMenuState===_0x50b2eb(0x224))showMenuState();return;}}else{if(!isShowingScoreScreen){stopAutoDemoTimer();switch(_0x438bb1[_0x50b2eb(0x265)]){case'ArrowUp':case'w':selectedButtonIndex=selectedButtonIndex<=0x0?0x1:0x0,startAutoDemoTimer();break;case _0x50b2eb(0x212):case's':selectedButtonIndex=selectedButtonIndex>=0x1?0x0:0x1,startAutoDemoTimer();break;case'Enter':case'\x20':if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P();else{if(isOnePlayerGameTypeSelectMode)selectedButtonIndex===0x0?(isOnePlayerGameTypeSelectMode=![],isFiringModeSelectMode=!![],selectedOnePlayerGameVariant=_0x50b2eb(0x1f9),selectedGameMode=_0x50b2eb(0x1ea),isTwoPlayerMode=![],isPlayerTwoAI=![],selectedButtonIndex=0x0):(isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=0x0);else{if(isOnePlayerVsAIGameTypeSelectMode)selectedButtonIndex===0x0?(selectedOnePlayerGameVariant=_0x50b2eb(0x1dc),selectedGameMode=_0x50b2eb(0x1ea)):(selectedOnePlayerGameVariant=_0x50b2eb(0x22c),selectedGameMode='coop'),isOnePlayerVsAIGameTypeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)selectedButtonIndex===0x0?selectedGameMode=_0x50b2eb(0x1ea):selectedGameMode=_0x50b2eb(0x243),isGameModeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=![],selectedButtonIndex=0x0;else{if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x50b2eb(0x21f):selectedFiringMode='single',baseStartGame(!![]);else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],selectedButtonIndex=0x0;else selectedButtonIndex===0x1&&exitGame();}}}}}startAutoDemoTimer();break;case _0x50b2eb(0x20c):case _0x50b2eb(0x276):if(isFiringModeSelectMode){isFiringModeSelectMode=![];if(selectedOnePlayerGameVariant===_0x50b2eb(0x1f9))isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x0;else{if(selectedOnePlayerGameVariant===_0x50b2eb(0x1dc)||selectedOnePlayerGameVariant===_0x50b2eb(0x22c))isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=selectedOnePlayerGameVariant===_0x50b2eb(0x22c)?0x1:0x0;else isTwoPlayerMode&&!isPlayerTwoAI?(isGameModeSelectMode=!![],selectedButtonIndex=selectedGameMode==='coop'?0x1:0x0):(isPlayerSelectMode=![],selectedButtonIndex=0x0);}selectedOnePlayerGameVariant='',isPlayerTwoAI=![],selectedGameMode=_0x50b2eb(0x1ea);}else{if(isOnePlayerVsAIGameTypeSelectMode)isOnePlayerVsAIGameTypeSelectMode=![],isOnePlayerGameTypeSelectMode=!![],selectedButtonIndex=0x1;else{if(isOnePlayerGameTypeSelectMode)isOnePlayerGameTypeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)isGameModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x1;else{if(isPlayerSelectMode)isPlayerSelectMode=![],selectedButtonIndex=0x0;else _0x438bb1['key']===_0x50b2eb(0x20c)&&triggerFullscreen();}}}}startAutoDemoTimer();break;default:startAutoDemoTimer();break;}}}}}catch(_0x51deaa){console[_0x50b2eb(0x25f)](_0x50b2eb(0x1ec),_0x51deaa),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function handleKeyUp(_0x392016){const _0x31ce7e=_0x4e79ba;try{switch(_0x392016['code']){case _0x31ce7e(0x245):case _0x31ce7e(0x208):keyboardP1LeftDown=![];break;case _0x31ce7e(0x248):case _0x31ce7e(0x207):keyboardP1RightDown=![];break;case _0x31ce7e(0x1cd):case _0x31ce7e(0x229):case _0x31ce7e(0x24e):case'Enter':keyboardP1ShootDown=![],p1JustFiredSingle=![];break;case _0x31ce7e(0x250):case'Numpad4':keyboardP2LeftDown=![];break;case _0x31ce7e(0x22a):case _0x31ce7e(0x1c8):keyboardP2RightDown=![];break;case _0x31ce7e(0x1c5):case'Numpad0':keyboardP2ShootDown=![],p2JustFiredSingle=![];break;}if(_0x392016[_0x31ce7e(0x265)][_0x31ce7e(0x1f1)]()==='j')keyboardP2LeftDown=![];if(_0x392016[_0x31ce7e(0x265)][_0x31ce7e(0x1f1)]()==='l')keyboardP2RightDown=![];_0x392016[_0x31ce7e(0x265)][_0x31ce7e(0x1f1)]()==='i'&&(keyboardP2ShootDown=![],p2JustFiredSingle=![]);}catch(_0x4cbfc1){console[_0x31ce7e(0x25f)]('Error\x20in\x20handleKeyUp:',_0x4cbfc1),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],p1JustFiredSingle=![],p2JustFiredSingle=![];}}function handleGamepadConnected(_0x29bb03){const _0x1a640b=_0x4e79ba;try{if(connectedGamepadIndex===null){connectedGamepadIndex=_0x29bb03['gamepad'][_0x1a640b(0x281)];const _0x516203=_0x29bb03[_0x1a640b(0x28f)]['buttons'][_0x1a640b(0x214)];previousButtonStates=new Array(_0x516203)[_0x1a640b(0x1d1)](![]),previousDemoButtonStates=new Array(_0x516203)[_0x1a640b(0x1d1)](![]),previousGameButtonStates=new Array(_0x516203)[_0x1a640b(0x1d1)](![]),!isInGameState&&(stopAutoDemoTimer(),selectedButtonIndex=0x0);}else{if(connectedGamepadIndexP2===null){connectedGamepadIndexP2=_0x29bb03['gamepad'][_0x1a640b(0x281)];const _0x10c9ae=_0x29bb03['gamepad'][_0x1a640b(0x244)][_0x1a640b(0x214)];previousGameButtonStatesP2=new Array(_0x10c9ae)[_0x1a640b(0x1d1)](![]);}}}catch(_0x546e74){console['error'](_0x1a640b(0x23e),_0x546e74);}}function handleGamepadDisconnected(_0x457f42){const _0x1b8028=_0x4e79ba;try{if(connectedGamepadIndex===_0x457f42['gamepad'][_0x1b8028(0x281)])connectedGamepadIndex=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],!isInGameState&&(selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],startAutoDemoTimer()),p1FireInputWasDown=![];else connectedGamepadIndexP2===_0x457f42['gamepad'][_0x1b8028(0x281)]&&(connectedGamepadIndexP2=null,previousGameButtonStatesP2=[],p2FireInputWasDown=![]);}catch(_0x31ffd4){console[_0x1b8028(0x25f)](_0x1b8028(0x1c9),_0x31ffd4),p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function saveHighScore(){const _0x2fd954=_0x4e79ba;try{let _0xf891a2=0x0;if(isTwoPlayerMode&&selectedGameMode===_0x2fd954(0x243))_0xf891a2=Math[_0x2fd954(0x1e6)](player1Score,player2Score);else isTwoPlayerMode&&selectedGameMode===_0x2fd954(0x1ea)?_0xf891a2=Math[_0x2fd954(0x1e6)](player1Score,player2Score):_0xf891a2=score;isManualControl&&_0xf891a2>highScore&&(highScore=_0xf891a2);}catch(_0x22d79c){console[_0x2fd954(0x25f)](_0x2fd954(0x26d),_0x22d79c);}}function loadHighScore(){const _0x460bd1=_0x4e79ba;try{highScore=0x4e20;}catch(_0x4bacaf){console[_0x460bd1(0x25f)](_0x460bd1(0x21a),_0x4bacaf),highScore=0x4e20;}}const soundsToPause=[playerShootSound,explosionSound,entranceSound,bossGalagaDiveSound,levelUpSound,enemyShootSound,butterflyDiveSound,startSound,coinSound,beeHitSound,butterflyHitSound,bossHit1Sound,bossHit2Sound,gridBackgroundSound,extraLifeSound,csPerfectSound,csClearSound,waveUpSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound,resultsMusicSound,hiScoreSound];let soundPausedStates={};function pauseAllSounds(){soundPausedStates={},soundsToPause['forEach'](_0x560ef9=>{const _0x196f9d=_0xf3e1;if(_0x560ef9&&!_0x560ef9[_0x196f9d(0x27b)])try{_0x560ef9[_0x196f9d(0x280)](),soundPausedStates[_0x560ef9[_0x196f9d(0x1de)]||_0x560ef9]=!![];}catch(_0x2a75ca){console[_0x196f9d(0x25f)](_0x196f9d(0x1f7),_0x560ef9['src']||_0x560ef9,_0x2a75ca);}}),stopSound(menuMusicSound);}function resumeAllSounds(){const _0x1eaf4d=_0x4e79ba;!isInGameState&&typeof menuMusicSound!=='undefined'?playSound(menuMusicSound):soundsToPause[_0x1eaf4d(0x1cc)](_0x5130bc=>{const _0x133369=_0x1eaf4d;if(_0x5130bc&&soundPausedStates[_0x5130bc['src']||_0x5130bc])try{if(_0x5130bc[_0x133369(0x255)]||!_0x5130bc[_0x133369(0x232)]){const _0x1ee820=_0x5130bc['play']();_0x1ee820!==undefined&&_0x1ee820[_0x133369(0x260)](_0xa0d663=>{const _0x1e9daa=_0x133369;_0xa0d663[_0x1e9daa(0x1fe)]!=='AbortError'&&_0xa0d663['name']!==_0x1e9daa(0x21d)&&console[_0x1e9daa(0x23f)](_0x1e9daa(0x24a)+_0x5130bc['src']+':\x20'+_0xa0d663[_0x1e9daa(0x24d)]);});}}catch(_0x1688eb){console[_0x133369(0x25f)](_0x133369(0x1f3),_0x5130bc[_0x133369(0x1de)]||_0x5130bc,_0x1688eb);}}),soundPausedStates={};}function togglePause(){const _0x172f5a=_0x4e79ba;let _0x87780a=![];const _0x511718=isShowingPlayerGameOverMessage||isTwoPlayerMode&&selectedGameMode===_0x172f5a(0x243)&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage);if(isInGameState&&gameOverSequenceStartTime===0x0&&!_0x511718){if(!isManualControl)_0x87780a=!![];else{if(isTwoPlayerMode&&selectedGameMode===_0x172f5a(0x243))_0x87780a=player1Lives>0x0&&ship1&&!isPlayer1ShipCaptured&&!player1NeedsRespawnAfterCapture||player2Lives>0x0&&ship2&&!isPlayer2ShipCaptured&&!player2NeedsRespawnAfterCapture;else isTwoPlayerMode&&selectedGameMode===_0x172f5a(0x1ea)&&isPlayerTwoAI&&currentPlayer===0x2?_0x87780a=![]:_0x87780a=playerLives>0x0&&ship&&!isShipCaptured;}}if(!_0x87780a)return;isPaused=!isPaused,isPaused?(pauseAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null):(resumeAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0));}function processSingleController(_0x465dd0,_0x4f3ac6){const _0x1bf055=_0x4e79ba,_0x1e2e0f=_0x465dd0[_0x1bf055(0x244)]['map'](_0x54a824=>_0x54a824[_0x1bf055(0x23a)]),_0x2e90c6={'left':![],'right':![],'shoot':![],'pause':![],'back':![],'newButtonStates':_0x1e2e0f['slice']()},_0x4f48b2=_0x1e2e0f[PS5_BUTTON_CROSS],_0x4837cb=_0x1e2e0f[PS5_BUTTON_R1],_0x519240=_0x4f3ac6[PS5_BUTTON_R1]??![],_0x18b9b7=_0x1e2e0f[PS5_BUTTON_TRIANGLE],_0x40f570=_0x4f3ac6[PS5_BUTTON_TRIANGLE]??![],_0x2afbac=_0x465dd0['axes'][PS5_LEFT_STICK_X]??0x0,_0x1cba4d=_0x1e2e0f[PS5_DPAD_LEFT],_0x10a591=_0x1e2e0f[PS5_DPAD_RIGHT],_0x591735=AXIS_DEAD_ZONE_GAMEPLAY;if(_0x2afbac<-_0x591735||_0x1cba4d)_0x2e90c6[_0x1bf055(0x28b)]=!![];else(_0x2afbac>_0x591735||_0x10a591)&&(_0x2e90c6[_0x1bf055(0x210)]=!![]);return _0x4f48b2&&(_0x2e90c6[_0x1bf055(0x203)]=!![]),_0x4837cb&&!_0x519240&&(_0x2e90c6[_0x1bf055(0x280)]=!![]),_0x18b9b7&&!_0x40f570&&(_0x2e90c6['back']=!![]),_0x2e90c6;}function triggerFinalGameOverSequence(){const _0x5a2d23=_0x4e79ba;if(isInGameState&&gameOverSequenceStartTime===0x0){isPaused=![],isShowingDemoText=![],isShowingIntro=![],isWaveTransitioning=![],showCsHitsMessage=![],showExtraLifeMessage=![],showPerfectMessage=![],showCSClearMessage=![],showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showReadyMessage=![],showCsBonusScoreMessage=![],isShowingPlayerGameOverMessage=![],isEntrancePhaseActive=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![];isManualControl&&saveHighScore();const _0x37a5f9=[gridBackgroundSound,entranceSound,butterflyDiveSound,startSound,coinSound,bossGalagaDiveSound,enemyShootSound,levelUpSound,gameOverSound,playerShootSound,extraLifeSound,csPerfectSound,csClearSound,explosionSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound,hiScoreSound];_0x37a5f9[_0x5a2d23(0x1cc)](_0x47dfee=>stopSound(_0x47dfee)),isGridSoundPlaying=![];typeof enemies!==_0x5a2d23(0x249)&&Array[_0x5a2d23(0x1da)](enemies)&&enemies['forEach'](_0x5dee60=>{const _0x52fa78=_0x5a2d23;if(_0x5dee60?.['state']===_0x52fa78(0x233)){if(_0x5dee60['type']===ENEMY3_TYPE)stopSound(bossGalagaDiveSound);else stopSound(butterflyDiveSound);}});const _0x12cb2e=Date[_0x5a2d23(0x1d6)]();playSound(gameOverSound),isTwoPlayerMode&&selectedGameMode==='normal'&&player1Lives<=0x0&&player2Lives<=0x0||selectedOnePlayerGameVariant===_0x5a2d23(0x1dc)&&player1Lives<=0x0&&player2Lives<=0x0?gameOverSequenceStartTime=_0x12cb2e-GAME_OVER_DURATION:gameOverSequenceStartTime=_0x12cb2e,bullets=[],enemyBullets=[],explosions=[],fallingShips=[],isDualShipActive=![],player1IsDualShipActive=![],player2IsDualShipActive=![],isShowingResultsScreen=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[];}}function triggerGameOver(){triggerFinalGameOverSequence();}